id,body,created_at
309970195,It's surprising that functional components are not `PureComponent` by default...,2017-06-21T05:48:30Z
368877149,"Speaking of workarounds.
I've just added this hack to my jest snapshot tests.
```
ReactDOM.createPortal = node => node
```",2018-02-27T13:38:42Z
523610642,+1 on bringing back some version of this feature that enables a quick high-level view of re-renders - even for re-renders that are a result of when we update context.,2019-08-21T19:17:47Z
557217372,"```js
return React.cloneElement(child, {
  innerRef: node =>
    node ? setRefs.set(child.key, node) : setRefs.delete(child.key)
});
```
You're passing the ref via `innerRef` prop. It should be passed via `ref`.
```js
return React.cloneElement(child, {
  ref: node =>
    node ? setRefs.set(child.key, node) : setRefs.delete(child.key)
});
```

**Edited** by @bvaughn to fix typo.",2019-11-21T18:39:08Z
586544137,This warning is absolute idiocy.,2020-02-15T02:20:54Z
615871428,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/18670/builds/118927) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 9decbb0975f2ef981437610094a4932a996924b0:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-ih6ie)| Configuration |
",2020-04-18T13:27:27Z
615872314,"
<!--
  0 failure: 
  1 warning:  Could not find bu...
  
  1 markdown notices
  DangerID: danger-id-stable;
-->


<table>
  <thead>
    <tr>
      <th width=""50""></th>
      <th width=""100%"" data-danger-table=""true"">Warnings</th>
    </tr>
  </thead>
  <tbody><tr>
      <td>:warning:</td>
      <td>Could not find build artifacts for base commit: 58c895e59cd2822a9a7a67606d5fe7da5e09ba2a</td>
    </tr>
  </tbody>
</table>


## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 9decbb0975f2ef981437610094a4932a996924b0
</p>
",2020-04-18T13:31:14Z
615872453,"
<!--
  0 failure: 
  1 warning:  Could not find bu...
  
  1 markdown notices
  DangerID: danger-id-experimental;
-->


<table>
  <thead>
    <tr>
      <th width=""50""></th>
      <th width=""100%"" data-danger-table=""true"">Warnings</th>
    </tr>
  </thead>
  <tbody><tr>
      <td>:warning:</td>
      <td>Could not find build artifacts for base commit: 58c895e59cd2822a9a7a67606d5fe7da5e09ba2a</td>
    </tr>
  </tbody>
</table>


## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 9decbb0975f2ef981437610094a4932a996924b0
</p>
",2020-04-18T13:31:52Z
619562192,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




Comparing: 87b3ada89dc83c88a89ff1b599b0f39e3c49cc32...fe5e30f2f139bb04e672fbaacb33ea38f301fcef

## Critical size changes

Includes critical production bundles, as well as any change greater than 2%:


  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| oss-stable/react-dom/cjs/react-dom.production.min.js | **=** | 126.82 kB | 126.82 kB | = | 40.61 kB | 40.61 kB
| oss-experimental/react-dom/cjs/react-dom.production.min.js | **=** | 129.64 kB | 129.64 kB | = | 41.57 kB | 41.57 kB
| facebook-www/ReactDOM-prod.classic.js | **=** | 403.34 kB | 403.34 kB | = | 74.63 kB | 74.63 kB
| facebook-www/ReactDOM-prod.modern.js | **=** | 392.04 kB | 392.04 kB | = | 72.91 kB | 72.91 kB
| facebook-www/ReactDOMForked-prod.classic.js | **=** | 403.34 kB | 403.34 kB | = | 74.63 kB | 74.63 kB

## Significant size changes

Includes any change greater than 0.2%:

(No significant changes)

<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against fe5e30f2f139bb04e672fbaacb33ea38f301fcef
</p>
",2020-04-26T14:35:50Z
629130569,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




Comparing: 9d17b562ba427adb1bced98f4231406ec573c422...849c264f50c5cd79607fce38b8ca2998773ecff4

## Critical size changes

Includes critical production bundles, as well as any change greater than 2%:


  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| oss-stable/react-dom/cjs/react-dom.production.min.js | **=** | 127.29 kB | 127.29 kB | = | 40.81 kB | 40.81 kB
| oss-experimental/react-dom/cjs/react-dom.production.min.js | **=** | 130.11 kB | 130.11 kB | = | 41.75 kB | 41.75 kB
| facebook-www/ReactDOM-prod.classic.js | **=** | 404.72 kB | 404.72 kB | = | 74.90 kB | 74.90 kB
| facebook-www/ReactDOM-prod.modern.js | **=** | 393.27 kB | 393.27 kB | = | 73.09 kB | 73.09 kB
| facebook-www/ReactDOMForked-prod.classic.js | **=** | 404.72 kB | 404.72 kB | = | 74.90 kB | 74.90 kB

## Significant size changes

Includes any change greater than 0.2%:


<details>
<summary>Expand to show</summary>

  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| oss-experimental/react/cjs/react-unstable-shared-subset.production.min.js | **+1.00%** | 6.53 kB | 6.59 kB | +0.82% | 2.68 kB | 2.70 kB
| oss-stable-semver/react/cjs/react.production.min.js | **+0.92%** | 7.04 kB | 7.11 kB | +0.78% | 2.81 kB | 2.84 kB
| oss-stable/react/cjs/react.production.min.js | **+0.92%** | 7.04 kB | 7.11 kB | +0.78% | 2.81 kB | 2.84 kB
| oss-experimental/react/cjs/react.production.min.js | **+0.86%** | 7.56 kB | 7.63 kB | +0.54% | 2.94 kB | 2.96 kB
| facebook-react-native/react/cjs/React-prod.js | **+0.85%** | 16.66 kB | 16.80 kB | +1.12% | 4.28 kB | 4.33 kB
| facebook-react-native/react/cjs/React-profiling.js | **+0.85%** | 16.66 kB | 16.80 kB | +1.12% | 4.28 kB | 4.33 kB
| facebook-www/React-prod.modern.js | **+0.74%** | 16.82 kB | 16.94 kB | +0.71% | 4.36 kB | 4.39 kB
| facebook-www/React-profiling.modern.js | **+0.74%** | 16.82 kB | 16.94 kB | +0.71% | 4.36 kB | 4.39 kB
| facebook-www/React-prod.classic.js | **+0.73%** | 16.96 kB | 17.09 kB | +0.80% | 4.40 kB | 4.43 kB
| facebook-www/React-profiling.classic.js | **+0.73%** | 16.96 kB | 17.09 kB | +0.80% | 4.40 kB | 4.43 kB
| oss-stable-semver/react/umd/react.profiling.min.js | **+0.60%** | 10.93 kB | 10.99 kB | +0.36% | 4.41 kB | 4.43 kB
| oss-stable/react/umd/react.profiling.min.js | **+0.60%** | 10.93 kB | 10.99 kB | +0.36% | 4.41 kB | 4.43 kB
| oss-stable-semver/react/umd/react.production.min.js | **+0.60%** | 10.93 kB | 10.99 kB | +0.41% | 4.41 kB | 4.43 kB
| oss-stable/react/umd/react.production.min.js | **+0.60%** | 10.93 kB | 10.99 kB | +0.41% | 4.41 kB | 4.43 kB
| oss-experimental/react/umd/react.profiling.min.js | **+0.57%** | 11.39 kB | 11.45 kB | +0.29% | 4.54 kB | 4.56 kB
| oss-experimental/react/umd/react.production.min.js | **+0.57%** | 11.39 kB | 11.45 kB | +0.31% | 4.54 kB | 4.56 kB
| oss-experimental/react/cjs/react-unstable-shared-subset.development.js | **+0.27%** | 68.89 kB | 69.08 kB | +0.28% | 18.66 kB | 18.71 kB
| oss-stable-semver/react/cjs/react.development.js | **+0.25%** | 74.50 kB | 74.68 kB | +0.22% | 20.02 kB | 20.06 kB
| oss-stable/react/cjs/react.development.js | **+0.25%** | 74.50 kB | 74.68 kB | +0.22% | 20.02 kB | 20.06 kB
| oss-experimental/react/cjs/react.development.js | **+0.25%** | 74.97 kB | 75.15 kB | +0.21% | 20.05 kB | 20.09 kB
| oss-stable-semver/react/umd/react.development.js | **+0.20%** | 97.25 kB | 97.45 kB | +0.20% | 25.02 kB | 25.07 kB
| oss-stable/react/umd/react.development.js | **+0.20%** | 97.25 kB | 97.45 kB | +0.20% | 25.02 kB | 25.07 kB
| oss-experimental/react/umd/react.development.js | **+0.20%** | 97.74 kB | 97.94 kB | +0.16% | 25.07 kB | 25.11 kB
</details>


<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 849c264f50c5cd79607fce38b8ca2998773ecff4
</p>
",2020-05-15T09:22:20Z
639474427,"As a workaround to the problem of not being able to call a hook conditionally, I am using the following workaround which wraps the hook into a conditional component call via a render prop:

https://unsplash.com/blog/calling-react-hooks-conditionally-dynamically-using-render-props/

```tsx
const RenderFunction = ({ children }) => children();

const MyComponent = ({ shouldRenderHook }) =>
  shouldRenderHook ? (
    <RenderFunction>
      {() => {
        // `react-hooks/rules-of-hooks` error:
        // React Hook ""React.useState"" cannot be called inside a callback. React Hooks must be
        // called in a React function component or a custom React Hook function.
        const [state, setState] = React.useState(0);
        return (
          <div>
            State: {state}
            <button onClick={() => setState(currentState => currentState + 1)}>
              Increment
            </button>
          </div>
        );
      }}
    </RenderFunction>
  ) : (
    <div>Rendering the hook shortlyâ€¦</div>
  );
```

https://stackblitz.com/edit/react-conditional-hooks-simple

IIUC, this is perfectly safe because the `children` render prop callback is called every time the `RenderFunction` component is called, yet the ESLint rule throws an error.

It would be great if there was a way to tell the ESLint rules that this is safe.

For context: I understand that an alternative workaround would be just to extract another component, but that is not always desirable because then you lose access to the component's closure, which means you have to drill things down.

",2020-06-05T13:18:03Z
648752366,"### For calling async inside useEffect you can use IEFE function
```javascript
useEffect(() => {
    (async () => {
         await asyncCall() 
    })()
}, [])
```
#### ```useEffect``` ```return``` type must be a ```function``` or nothing ```undefined```.  putting ```async``` on ```useEffect``` make it to return a ```Promise``` which is not a function",2020-06-24T11:01:50Z
657063830,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




Comparing: 2442d988eff0943b557bcc61cf4e0062146b6948...9a0e80e963dcaf89d8db749a5b856e58efe91426

## Critical size changes

Includes critical production bundles, as well as any change greater than 2%:


  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| oss-stable/react-dom/cjs/react-dom.production.min.js | **=** | 127.41 kB | 127.41 kB | = | 40.83 kB | 40.83 kB
| oss-experimental/react-dom/cjs/react-dom.production.min.js | **=** | 130.22 kB | 130.22 kB | = | 41.74 kB | 41.74 kB
| facebook-www/ReactDOM-prod.classic.js | **=** | 405.65 kB | 405.65 kB | = | 74.99 kB | 74.99 kB
| facebook-www/ReactDOM-prod.modern.js | **=** | 394.08 kB | 394.08 kB | = | 73.22 kB | 73.22 kB
| facebook-www/ReactDOMForked-prod.classic.js | **=** | 405.65 kB | 405.65 kB | = | 75.00 kB | 74.99 kB

## Significant size changes

Includes any change greater than 0.2%:

(No significant changes)

<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 9a0e80e963dcaf89d8db749a5b856e58efe91426
</p>
",2020-07-11T13:38:38Z
671995866,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




Comparing: 9212d994ba939f20a04220a61e9776b488381596...5f414e79a0957a33d9d07d6b94a82b06a732d503

## Critical size changes

Includes critical production bundles, as well as any change greater than 2%:


  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| oss-stable/react-dom/cjs/react-dom.production.min.js | **+0.01%** | 127.08 kB | 127.09 kB | = | 40.74 kB | 40.74 kB
| oss-experimental/react-dom/cjs/react-dom.production.min.js | **+0.01%** | 129.89 kB | 129.90 kB | = | 41.67 kB | 41.67 kB
| facebook-www/ReactDOM-prod.classic.js | **+0.04%** | 405.00 kB | 405.15 kB | +0.01% | 74.92 kB | 74.93 kB
| facebook-www/ReactDOM-prod.modern.js | **+0.04%** | 393.35 kB | 393.50 kB | +0.02% | 73.10 kB | 73.12 kB
| facebook-www/ReactDOMForked-prod.classic.js | **+0.04%** | 405.00 kB | 405.15 kB | +0.01% | 74.93 kB | 74.93 kB

## Significant size changes

Includes any change greater than 0.2%:


<details>
<summary>Expand to show</summary>

  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| facebook-www/ReactDOMServer-prod.classic.js | **+0.84%** | 48.21 kB | 48.61 kB | +0.82% | 11.24 kB | 11.33 kB
| facebook-www/ReactDOMServer-prod.modern.js | **+0.54%** | 72.24 kB | 72.62 kB | +0.59% | 14.86 kB | 14.95 kB
</details>


<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 5f414e79a0957a33d9d07d6b94a82b06a732d503
</p>
",2020-08-11T14:55:00Z
674264500,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




Comparing: 483358c38f8623358dd44a3e57476bc02e6357bc...09f8286d7a5041aac3e1e51eb86da943b8ba12c9

## Critical size changes

Includes critical production bundles, as well as any change greater than 2%:


  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| oss-stable/react-dom/cjs/react-dom.production.min.js | **=** | 122.34 kB | 122.34 kB | = | 39.40 kB | 39.40 kB
| oss-experimental/react-dom/cjs/react-dom.production.min.js | **=** | 128.92 kB | 128.92 kB | = | 41.46 kB | 41.46 kB
| facebook-www/ReactDOM-prod.classic.js | **=** | 404.69 kB | 404.69 kB | = | 75.17 kB | 75.17 kB
| facebook-www/ReactDOM-prod.modern.js | **=** | 393.04 kB | 393.04 kB | = | 73.27 kB | 73.27 kB
| facebook-www/ReactDOMForked-prod.classic.js | **=** | 404.70 kB | 404.70 kB | = | 75.17 kB | 75.17 kB

## Significant size changes

Includes any change greater than 0.2%:

(No significant changes)

<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 09f8286d7a5041aac3e1e51eb86da943b8ba12c9
</p>
",2020-08-14T20:42:53Z
696081106,"I did something quite similar, Can't remember where I saw the code originally or if I rewrote something from SO

I still think building this into react would be very useful.

```
function useIsFirstRender() {
  const isRenderRef = useRef(true);
  useEffect(() => {
    isRenderRef.current = false;
  }, []);
  return isRenderRef.current;
}

export default useIsFirstRender;
```
",2020-09-21T12:26:45Z
703347085,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




Comparing: 87b3ada89dc83c88a89ff1b599b0f39e3c49cc32...d3947e86c39f45bacfc59ecd8280a41e8d68eb2f

## Critical size changes

Includes critical production bundles, as well as any change greater than 2%:


  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| oss-stable/react-dom/cjs/react-dom.production.min.js | **=** | 126.82 kB | 126.82 kB | = | 40.61 kB | 40.61 kB
| oss-experimental/react-dom/cjs/react-dom.production.min.js | **=** | 129.64 kB | 129.64 kB | = | 41.57 kB | 41.57 kB
| facebook-www/ReactDOM-prod.classic.js | **=** | 403.34 kB | 403.34 kB | = | 74.63 kB | 74.63 kB
| facebook-www/ReactDOM-prod.modern.js | **=** | 392.04 kB | 392.04 kB | = | 72.91 kB | 72.91 kB
| facebook-www/ReactDOMForked-prod.classic.js | **=** | 403.34 kB | 403.34 kB | = | 74.63 kB | 74.63 kB

## Significant size changes

Includes any change greater than 0.2%:

(No significant changes)

<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against d3947e86c39f45bacfc59ecd8280a41e8d68eb2f
</p>
",2020-10-05T01:10:44Z
708212345,"I want to point out that from my experience, people often fall into one of the following three categories:
1. people who don't have any idea of what `memo` is and never use it
2. people who kinda know it helps with performance and uses `memo` almost everywhere
3. people who try adding it in places that are expected to benefit from it

All of them usually forget to memorize some super important component here and there (the website's `Header` is a classic example) or memoize a component and pass it an always invalidated prop like `style={{width: '100%'}}` so it renders again and again.

Sometimes these places render many components, have logic and side effects. Sometimes they are rendered very often.

I think the biggest benefit of making everything pure is ""keeping it simple"" by removing this feature altogether, even though, in some cases, it would make the application a little slower.",2020-10-14T07:19:42Z
709461743,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




Comparing: 84b9162cbe91a8c0169ec1171273be58f3a2398a...104fdc57b7877bc8d4c8324b94af3db87e4ae098

## Critical size changes

Includes critical production bundles, as well as any change greater than 2%:


  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| oss-stable/react-dom/cjs/react-dom.production.min.js | **=** | 122.76 kB | 122.76 kB | = | 39.42 kB | 39.42 kB
| oss-experimental/react-dom/cjs/react-dom.production.min.js | **=** | 129.34 kB | 129.34 kB | = | 41.51 kB | 41.51 kB
| facebook-www/ReactDOM-prod.classic.js | **=** | 412.52 kB | 406.92 kB | = | 76.35 kB | 75.31 kB
| facebook-www/ReactDOM-prod.modern.js | **=** | 400.55 kB | 394.95 kB | = | 74.45 kB | 73.41 kB
| facebook-www/ReactDOMForked-prod.classic.js | **=** | 412.52 kB | 406.92 kB | = | 76.35 kB | 75.32 kB
| facebook-www/ReactART-prod.classic.js | **=** | 268.36 kB | 262.77 kB | = | 47.62 kB | 46.61 kB
| react-native/implementations/ReactNativeRenderer-profiling.js | **=** | 291.03 kB | 284.90 kB | = | 52.40 kB | 51.17 kB
| react-native/implementations/ReactNativeRenderer-profiling.fb.js | **=** | 290.85 kB | 284.72 kB | = | 52.34 kB | 51.10 kB
| oss-experimental/react-reconciler/cjs/react-reconciler.profiling.min.js | **=** | 99.30 kB | 97.20 kB | = | 30.82 kB | 30.09 kB
| facebook-www/ReactART-prod.modern.js | **=** | 260.81 kB | 255.22 kB | = | 46.36 kB | 45.35 kB
| react-native/implementations/ReactFabric-profiling.js | **=** | 283.82 kB | 277.66 kB | = | 50.92 kB | 49.69 kB
| react-native/implementations/ReactFabric-profiling.fb.js | **=** | 283.65 kB | 277.49 kB | = | 50.86 kB | 49.62 kB
| oss-stable/react-reconciler/cjs/react-reconciler.profiling.min.js | **=** | 91.87 kB | 89.81 kB | = | 28.48 kB | 27.78 kB
| facebook-react-native/react-test-renderer/cjs/ReactTestRenderer-profiling.js | **=** | 250.97 kB | 244.84 kB | = | 46.24 kB | 45.02 kB
| oss-experimental/react/umd/react.production.min.js | **=** | 12.03 kB | 11.67 kB | = | 4.72 kB | 4.64 kB
| oss-stable/react/umd/react.production.min.js | **=** | 10.98 kB | 10.62 kB | = | 4.44 kB | 4.34 kB
| oss-experimental/react/umd/react.development.js | **=** | 106.21 kB | 97.01 kB | = | 26.32 kB | 24.86 kB
| oss-stable/react/umd/react.development.js | **=** | 103.95 kB | 94.75 kB | = | 25.94 kB | 24.49 kB
| oss-experimental/react/umd/react.profiling.min.js | **=** | 14.25 kB | 11.67 kB | = | 5.28 kB | 4.64 kB
| oss-stable/react/umd/react.profiling.min.js | **=** | 13.20 kB | 10.62 kB | = | 4.98 kB | 4.34 kB
| oss-experimental/react-reconciler/cjs/react-reconciler-constants.development.js | **=** | 1.70 kB | 1.06 kB | = | 0.74 kB | 0.45 kB
| oss-stable/react-reconciler/cjs/react-reconciler-constants.development.js | **=** | 1.70 kB | 1.06 kB | = | 0.74 kB | 0.45 kB
| facebook-react-native/scheduler/cjs/SchedulerTracing-dev.js | **Deleted** | 8.99 kB | 0.00 kB | Deleted | 1.79 kB | 0.00 kB
| facebook-react-native/scheduler/cjs/SchedulerTracing-prod.js | **Deleted** | 0.80 kB | 0.00 kB | Deleted | 0.35 kB | 0.00 kB
| facebook-react-native/scheduler/cjs/SchedulerTracing-profiling.js | **Deleted** | 6.83 kB | 0.00 kB | Deleted | 1.18 kB | 0.00 kB
| facebook-www/SchedulerTracing-dev.classic.js | **Deleted** | 11.36 kB | 0.00 kB | Deleted | 2.50 kB | 0.00 kB
| facebook-www/SchedulerTracing-dev.modern.js | **Deleted** | 11.36 kB | 0.00 kB | Deleted | 2.50 kB | 0.00 kB
| facebook-www/SchedulerTracing-prod.classic.js | **Deleted** | 6.88 kB | 0.00 kB | Deleted | 1.21 kB | 0.00 kB
| facebook-www/SchedulerTracing-prod.modern.js | **Deleted** | 6.88 kB | 0.00 kB | Deleted | 1.21 kB | 0.00 kB
| facebook-www/SchedulerTracing-profiling.classic.js | **Deleted** | 6.88 kB | 0.00 kB | Deleted | 1.21 kB | 0.00 kB
| facebook-www/SchedulerTracing-profiling.modern.js | **Deleted** | 6.88 kB | 0.00 kB | Deleted | 1.21 kB | 0.00 kB
| oss-experimental/scheduler/cjs/scheduler-tracing.development.js | **Deleted** | 9.00 kB | 0.00 kB | Deleted | 1.81 kB | 0.00 kB
| oss-experimental/scheduler/cjs/scheduler-tracing.production.min.js | **Deleted** | 0.67 kB | 0.00 kB | Deleted | 0.33 kB | 0.00 kB
| oss-experimental/scheduler/cjs/scheduler-tracing.profiling.min.js | **Deleted** | 3.27 kB | 0.00 kB | Deleted | 0.94 kB | 0.00 kB
| oss-experimental/scheduler/tracing-profiling.js | **Deleted** | 0.21 kB | 0.00 kB | Deleted | 0.16 kB | 0.00 kB
| oss-experimental/scheduler/tracing.js | **Deleted** | 0.21 kB | 0.00 kB | Deleted | 0.15 kB | 0.00 kB
| oss-experimental/scheduler/umd/scheduler-tracing.development.js | **Deleted** | 2.38 kB | 0.00 kB | Deleted | 0.63 kB | 0.00 kB
| oss-experimental/scheduler/umd/scheduler-tracing.production.min.js | **Deleted** | 2.38 kB | 0.00 kB | Deleted | 0.63 kB | 0.00 kB
| oss-experimental/scheduler/umd/scheduler-tracing.profiling.min.js | **Deleted** | 2.38 kB | 0.00 kB | Deleted | 0.63 kB | 0.00 kB
| oss-stable/scheduler/cjs/scheduler-tracing.development.js | **Deleted** | 9.00 kB | 0.00 kB | Deleted | 1.81 kB | 0.00 kB
| oss-stable/scheduler/cjs/scheduler-tracing.production.min.js | **Deleted** | 0.67 kB | 0.00 kB | Deleted | 0.33 kB | 0.00 kB
| oss-stable/scheduler/cjs/scheduler-tracing.profiling.min.js | **Deleted** | 3.27 kB | 0.00 kB | Deleted | 0.94 kB | 0.00 kB
| oss-stable/scheduler/tracing-profiling.js | **Deleted** | 0.21 kB | 0.00 kB | Deleted | 0.16 kB | 0.00 kB
| oss-stable/scheduler/tracing.js | **Deleted** | 0.21 kB | 0.00 kB | Deleted | 0.15 kB | 0.00 kB
| oss-stable/scheduler/umd/scheduler-tracing.development.js | **Deleted** | 2.38 kB | 0.00 kB | Deleted | 0.63 kB | 0.00 kB
| oss-stable/scheduler/umd/scheduler-tracing.production.min.js | **Deleted** | 2.38 kB | 0.00 kB | Deleted | 0.63 kB | 0.00 kB
| oss-stable/scheduler/umd/scheduler-tracing.profiling.min.js | **Deleted** | 2.38 kB | 0.00 kB | Deleted | 0.63 kB | 0.00 kB

## Significant size changes

Includes any change greater than 0.2%:


<details>
<summary>Expand to show</summary>

  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| facebook-www/ReactDOM-dev.classic.js | **=** | 1,073.56 kB | 1,064.36 kB | = | 238.23 kB | 236.11 kB
| facebook-www/ReactDOMForked-dev.classic.js | **=** | 1,073.56 kB | 1,064.36 kB | = | 238.22 kB | 236.11 kB
| facebook-www/ReactDOM-dev.modern.js | **=** | 1,047.14 kB | 1,037.94 kB | = | 232.78 kB | 230.67 kB
| facebook-www/ReactDOMForked-dev.modern.js | **=** | 1,047.14 kB | 1,037.93 kB | = | 232.78 kB | 230.66 kB
| oss-experimental/react-dom/cjs/react-dom.development.js | **=** | 964.73 kB | 955.88 kB | = | 218.49 kB | 216.47 kB
| oss-stable/react-dom/cjs/react-dom.development.js | **=** | 913.07 kB | 904.42 kB | = | 208.29 kB | 206.32 kB
| oss-experimental/react-dom/umd/react-dom.development.js | **=** | 1,014.05 kB | 1,004.12 kB | = | 221.22 kB | 219.07 kB
| oss-stable/react-dom/umd/react-dom.development.js | **=** | 959.76 kB | 950.05 kB | = | 210.93 kB | 208.82 kB
| react-native/implementations/ReactNativeRenderer-dev.fb.js | **=** | 715.83 kB | 707.03 kB | = | 155.31 kB | 153.27 kB
| react-native/implementations/ReactNativeRenderer-dev.js | **=** | 711.00 kB | 702.20 kB | = | 154.62 kB | 152.52 kB
| facebook-www/ReactDOM-profiling.classic.js | **=** | 437.89 kB | 432.40 kB | = | 80.73 kB | 79.62 kB
| facebook-www/ReactDOMForked-profiling.classic.js | **=** | 437.89 kB | 432.40 kB | = | 80.73 kB | 79.63 kB
| oss-experimental/react-reconciler/cjs/react-reconciler.development.js | **=** | 701.10 kB | 692.25 kB | = | 150.15 kB | 148.13 kB
| react-native/implementations/ReactFabric-dev.fb.js | **=** | 696.92 kB | 688.11 kB | = | 150.64 kB | 148.57 kB
| react-native/implementations/ReactFabric-dev.js | **=** | 692.07 kB | 683.27 kB | = | 149.92 kB | 147.85 kB
| facebook-www/ReactART-dev.classic.js | **=** | 719.53 kB | 710.32 kB | = | 153.41 kB | 151.35 kB
| facebook-www/ReactDOM-profiling.modern.js | **=** | 425.88 kB | 420.39 kB | = | 78.87 kB | 77.80 kB
| facebook-www/ReactDOMForked-profiling.modern.js | **=** | 425.88 kB | 420.39 kB | = | 78.87 kB | 77.81 kB
| facebook-www/ReactART-dev.modern.js | **=** | 709.23 kB | 700.03 kB | = | 151.35 kB | 149.28 kB
| oss-stable/react-reconciler/cjs/react-reconciler.development.js | **=** | 656.68 kB | 648.03 kB | = | 141.15 kB | 139.15 kB
| oss-experimental/react-art/umd/react-art.development.js | **=** | 745.26 kB | 735.32 kB | = | 158.64 kB | 156.47 kB
| facebook-www/ReactDOM-prod.classic.js | **=** | 412.52 kB | 406.92 kB | = | 76.35 kB | 75.31 kB
| facebook-www/ReactDOMForked-prod.classic.js | **=** | 412.52 kB | 406.92 kB | = | 76.35 kB | 75.32 kB
| oss-experimental/react-art/cjs/react-art.development.js | **=** | 642.05 kB | 633.20 kB | = | 140.24 kB | 138.23 kB
| facebook-www/ReactTestRenderer-dev.modern.js | **=** | 628.73 kB | 620.05 kB | = | 135.53 kB | 133.55 kB
| facebook-www/ReactTestRenderer-dev.classic.js | **=** | 628.72 kB | 620.04 kB | = | 135.51 kB | 133.53 kB
| oss-stable/react-art/umd/react-art.development.js | **=** | 701.32 kB | 691.60 kB | = | 149.93 kB | 147.81 kB
| oss-experimental/react-test-renderer/cjs/react-test-renderer.development.js | **=** | 621.75 kB | 613.10 kB | = | 136.58 kB | 134.62 kB
| facebook-www/ReactDOM-prod.modern.js | **=** | 400.55 kB | 394.95 kB | = | 74.45 kB | 73.41 kB
| facebook-www/ReactDOMForked-prod.modern.js | **=** | 400.55 kB | 394.95 kB | = | 74.45 kB | 73.41 kB
| oss-stable/react-test-renderer/cjs/react-test-renderer.development.js | **=** | 605.82 kB | 597.17 kB | = | 133.26 kB | 131.29 kB
| facebook-react-native/react-test-renderer/cjs/ReactTestRenderer-dev.js | **=** | 615.97 kB | 607.17 kB | = | 134.00 kB | 131.94 kB
| oss-stable/react-art/cjs/react-art.development.js | **=** | 600.25 kB | 591.61 kB | = | 131.78 kB | 129.80 kB
| oss-experimental/react-dom/umd/react-dom.profiling.min.js | **=** | 136.31 kB | 134.34 kB | = | 44.37 kB | 43.73 kB
| oss-experimental/react-test-renderer/umd/react-test-renderer.development.js | **=** | 652.83 kB | 643.14 kB | = | 138.21 kB | 136.10 kB
| oss-stable/react-dom/umd/react-dom.profiling.min.js | **=** | 127.75 kB | 125.83 kB | = | 41.64 kB | 40.99 kB
| oss-stable/react-test-renderer/umd/react-test-renderer.development.js | **=** | 636.06 kB | 626.36 kB | = | 134.81 kB | 132.71 kB
| oss-experimental/react-dom/cjs/react-dom.profiling.min.js | **=** | 136.51 kB | 134.41 kB | = | 43.76 kB | 43.09 kB
| oss-stable/react-dom/cjs/react-dom.profiling.min.js | **=** | 127.89 kB | 125.84 kB | = | 41.04 kB | 40.40 kB
| facebook-www/ReactART-prod.classic.js | **=** | 268.36 kB | 262.77 kB | = | 47.62 kB | 46.61 kB
| react-native/implementations/ReactNativeRenderer-profiling.js | **=** | 291.03 kB | 284.90 kB | = | 52.40 kB | 51.17 kB
| react-native/implementations/ReactNativeRenderer-profiling.fb.js | **=** | 290.85 kB | 284.72 kB | = | 52.34 kB | 51.10 kB
| oss-experimental/react-reconciler/cjs/react-reconciler.profiling.min.js | **=** | 99.30 kB | 97.20 kB | = | 30.82 kB | 30.09 kB
| facebook-www/ReactART-prod.modern.js | **=** | 260.81 kB | 255.22 kB | = | 46.36 kB | 45.35 kB
| react-native/implementations/ReactFabric-profiling.js | **=** | 283.82 kB | 277.66 kB | = | 50.92 kB | 49.69 kB
| react-native/implementations/ReactFabric-profiling.fb.js | **=** | 283.65 kB | 277.49 kB | = | 50.86 kB | 49.62 kB
| oss-stable/react-reconciler/cjs/react-reconciler.profiling.min.js | **=** | 91.87 kB | 89.81 kB | = | 28.48 kB | 27.78 kB
| facebook-react-native/react-test-renderer/cjs/ReactTestRenderer-profiling.js | **=** | 250.97 kB | 244.84 kB | = | 46.24 kB | 45.02 kB
| oss-experimental/react/umd/react.production.min.js | **=** | 12.03 kB | 11.67 kB | = | 4.72 kB | 4.64 kB
| oss-stable/react/umd/react.production.min.js | **=** | 10.98 kB | 10.62 kB | = | 4.44 kB | 4.34 kB
| oss-experimental/react/umd/react.development.js | **=** | 106.21 kB | 97.01 kB | = | 26.32 kB | 24.86 kB
| oss-stable/react/umd/react.development.js | **=** | 103.95 kB | 94.75 kB | = | 25.94 kB | 24.49 kB
| oss-experimental/react/umd/react.profiling.min.js | **=** | 14.25 kB | 11.67 kB | = | 5.28 kB | 4.64 kB
| oss-stable/react/umd/react.profiling.min.js | **=** | 13.20 kB | 10.62 kB | = | 4.98 kB | 4.34 kB
| oss-experimental/react-reconciler/cjs/react-reconciler-constants.development.js | **=** | 1.70 kB | 1.06 kB | = | 0.74 kB | 0.45 kB
| oss-stable/react-reconciler/cjs/react-reconciler-constants.development.js | **=** | 1.70 kB | 1.06 kB | = | 0.74 kB | 0.45 kB
| facebook-react-native/scheduler/cjs/SchedulerTracing-dev.js | **Deleted** | 8.99 kB | 0.00 kB | Deleted | 1.79 kB | 0.00 kB
| facebook-react-native/scheduler/cjs/SchedulerTracing-prod.js | **Deleted** | 0.80 kB | 0.00 kB | Deleted | 0.35 kB | 0.00 kB
| facebook-react-native/scheduler/cjs/SchedulerTracing-profiling.js | **Deleted** | 6.83 kB | 0.00 kB | Deleted | 1.18 kB | 0.00 kB
| facebook-www/SchedulerTracing-dev.classic.js | **Deleted** | 11.36 kB | 0.00 kB | Deleted | 2.50 kB | 0.00 kB
| facebook-www/SchedulerTracing-dev.modern.js | **Deleted** | 11.36 kB | 0.00 kB | Deleted | 2.50 kB | 0.00 kB
| facebook-www/SchedulerTracing-prod.classic.js | **Deleted** | 6.88 kB | 0.00 kB | Deleted | 1.21 kB | 0.00 kB
| facebook-www/SchedulerTracing-prod.modern.js | **Deleted** | 6.88 kB | 0.00 kB | Deleted | 1.21 kB | 0.00 kB
| facebook-www/SchedulerTracing-profiling.classic.js | **Deleted** | 6.88 kB | 0.00 kB | Deleted | 1.21 kB | 0.00 kB
| facebook-www/SchedulerTracing-profiling.modern.js | **Deleted** | 6.88 kB | 0.00 kB | Deleted | 1.21 kB | 0.00 kB
| oss-experimental/scheduler/cjs/scheduler-tracing.development.js | **Deleted** | 9.00 kB | 0.00 kB | Deleted | 1.81 kB | 0.00 kB
| oss-experimental/scheduler/cjs/scheduler-tracing.production.min.js | **Deleted** | 0.67 kB | 0.00 kB | Deleted | 0.33 kB | 0.00 kB
| oss-experimental/scheduler/cjs/scheduler-tracing.profiling.min.js | **Deleted** | 3.27 kB | 0.00 kB | Deleted | 0.94 kB | 0.00 kB
| oss-experimental/scheduler/tracing-profiling.js | **Deleted** | 0.21 kB | 0.00 kB | Deleted | 0.16 kB | 0.00 kB
| oss-experimental/scheduler/tracing.js | **Deleted** | 0.21 kB | 0.00 kB | Deleted | 0.15 kB | 0.00 kB
| oss-experimental/scheduler/umd/scheduler-tracing.development.js | **Deleted** | 2.38 kB | 0.00 kB | Deleted | 0.63 kB | 0.00 kB
| oss-experimental/scheduler/umd/scheduler-tracing.production.min.js | **Deleted** | 2.38 kB | 0.00 kB | Deleted | 0.63 kB | 0.00 kB
| oss-experimental/scheduler/umd/scheduler-tracing.profiling.min.js | **Deleted** | 2.38 kB | 0.00 kB | Deleted | 0.63 kB | 0.00 kB
| oss-stable/scheduler/cjs/scheduler-tracing.development.js | **Deleted** | 9.00 kB | 0.00 kB | Deleted | 1.81 kB | 0.00 kB
| oss-stable/scheduler/cjs/scheduler-tracing.production.min.js | **Deleted** | 0.67 kB | 0.00 kB | Deleted | 0.33 kB | 0.00 kB
| oss-stable/scheduler/cjs/scheduler-tracing.profiling.min.js | **Deleted** | 3.27 kB | 0.00 kB | Deleted | 0.94 kB | 0.00 kB
| oss-stable/scheduler/tracing-profiling.js | **Deleted** | 0.21 kB | 0.00 kB | Deleted | 0.16 kB | 0.00 kB
| oss-stable/scheduler/tracing.js | **Deleted** | 0.21 kB | 0.00 kB | Deleted | 0.15 kB | 0.00 kB
| oss-stable/scheduler/umd/scheduler-tracing.development.js | **Deleted** | 2.38 kB | 0.00 kB | Deleted | 0.63 kB | 0.00 kB
| oss-stable/scheduler/umd/scheduler-tracing.production.min.js | **Deleted** | 2.38 kB | 0.00 kB | Deleted | 0.63 kB | 0.00 kB
| oss-stable/scheduler/umd/scheduler-tracing.profiling.min.js | **Deleted** | 2.38 kB | 0.00 kB | Deleted | 0.63 kB | 0.00 kB
</details>


<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 104fdc57b7877bc8d4c8324b94af3db87e4ae098
</p>
",2020-10-15T17:02:25Z
717361482,"We've got a workaround that's simple and effective in theory [here](https://github.com/react-bootstrap/react-overlays/blob/master/src/useRootClose.ts#L91). Need to let folks test it out a bit though. Alternatively I think adding listeners in a` setImmediate` would work albeit pretty annoying to manage in an effect.

For anyone looking, our current workaround is 
```js
useEffect(() => {
  // Note this depends on a deprecated but extremely well 
  // supported quirk of the web platform, this may be less effective 
  // for other event types, YMMV
  const currentEvent = window.event

  element.addEventListener('click', (e) => {
     if (e === currentEvent) {
        currentEvent = null;
        return
     } 
     // do the work
  })

  // ...clean up
})
```",2020-10-27T16:24:04Z
726995837,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20255/builds/91834) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit e84b363a6d419ef3b53371ecf558bfe29556de91:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-ykrz3)| Configuration |
",2020-11-13T19:43:23Z
726997246,"
<!--
  0 failure: 
  1 warning:  Build job for bas...
  
  1 markdown notices
  DangerID: danger-id-experimental;
-->


<table>
  <thead>
    <tr>
      <th width=""50""></th>
      <th width=""100%"" data-danger-table=""true"">Warnings</th>
    </tr>
  </thead>
  <tbody><tr>
      <td>:warning:</td>
      <td>Build job for base commit is still pending: fc07b070a09396e60126dd75641472f0c7504edf</td>
    </tr>
  </tbody>
</table>


## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against a0e5a86f33cf21dbfdf6f9f19c2d00a2ec53d863
</p>
",2020-11-13T19:46:46Z
726997450,"
<!--
  0 failure: 
  0 warning: 
  
  4 markdown notices
  DangerID: danger-id-stable;
-->




  <details>
  <summary>Details of bundled changes.</summary>

  <p>Comparing: fc07b070a09396e60126dd75641472f0c7504edf...e84b363a6d419ef3b53371ecf558bfe29556de91</p>


  
## react-dom
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactDOM-profiling.js | -1.7% | -1.5% | 408.28 KB | 401.25 KB | 75.3 KB | 74.16 KB | FB_WWW_PROFILING
react-dom-server.browser.development.js | -0.1% | -0.1% | 143.17 KB | 143.04 KB | 36.67 KB | 36.64 KB | UMD_DEV
react-dom-server.node.development.js | -0.1% | -0.1% | 137.09 KB | 136.96 KB | 36.46 KB | 36.43 KB | NODE_DEV
**react-dom-server.browser.production.min.js** | **-0.3%** | **-0.3%** | **19.87 KB** | **19.82 KB** | **7.46 KB** | **7.44 KB** | **UMD_PROD**
**react-dom-server.node.production.min.js** | **-0.2%** | **-0.3%** | **20.19 KB** | **20.14 KB** | **7.58 KB** | **7.56 KB** | **NODE_PROD**
**react-dom-test-utils.production.min.js** | **0.0%** | **0.0%** | **13.68 KB** | **13.68 KB** | **5.25 KB** | **5.26 KB** | **NODE_PROD**
**ReactDOMTesting-prod.js** | **-0.1%** | **-0.1%** | **386.46 KB** | **385.92 KB** | **72.92 KB** | **72.81 KB** | **FB_WWW_PROD**
react-dom.development.js | -0.1% | -0.1% | 929.82 KB | 928.47 KB | 204.56 KB | 204.26 KB | UMD_DEV
ReactTestUtils-dev.js | -0.1% | -0.1% | 61.26 KB | 61.18 KB | 16.88 KB | 16.86 KB | FB_WWW_DEV
**react-dom.production.min.js** | **-0.2%** | **-0.2%** | **119.13 KB** | **118.91 KB** | **39.1 KB** | **39.04 KB** | **UMD_PROD**
react-dom.profiling.min.js | -0.2% | -0.2% | 123.24 KB | 123 KB | 40.35 KB | 40.28 KB | UMD_PROFILING
react-dom.development.js | -0.1% | -0.2% | 884.86 KB | 883.58 KB | 201.91 KB | 201.59 KB | NODE_DEV
ReactDOMForked-dev.js | -1.6% | -1.6% | 1012.54 KB | 996.1 KB | 224.72 KB | 221.2 KB | FB_WWW_DEV
**react-dom.production.min.js** | **-0.2%** | **-0.2%** | **119.26 KB** | **119.02 KB** | **38.35 KB** | **38.3 KB** | **NODE_PROD**
**ReactDOMForked-prod.js** | **-1.8%** | **-1.7%** | **390.47 KB** | **383.4 KB** | **72.18 KB** | **70.98 KB** | **FB_WWW_PROD**
react-dom.profiling.min.js | -0.2% | -0.2% | 123.52 KB | 123.28 KB | 39.57 KB | 39.5 KB | NODE_PROFILING
ReactDOMForked-profiling.js | -1.7% | -1.5% | 408.29 KB | 401.26 KB | 75.3 KB | 74.16 KB | FB_WWW_PROFILING
ReactDOM-dev.js | -1.6% | -1.6% | 1012.54 KB | 996.1 KB | 224.68 KB | 221.17 KB | FB_WWW_DEV
**ReactDOM-prod.js** | **-1.8%** | **-1.7%** | **390.46 KB** | **383.39 KB** | **72.18 KB** | **70.98 KB** | **FB_WWW_PROD**
react-dom-server.browser.development.js | -0.1% | -0.1% | 135.82 KB | 135.7 KB | 36.21 KB | 36.18 KB | NODE_DEV
**react-dom-server.browser.production.min.js** | **-0.3%** | **-0.3%** | **19.77 KB** | **19.72 KB** | **7.42 KB** | **7.4 KB** | **NODE_PROD**
react-dom-test-utils.development.js | -0.1% | -0.1% | 71.36 KB | 71.28 KB | 19.32 KB | 19.3 KB | UMD_DEV
ReactDOMServer-dev.js | -0.2% | -0.1% | 146.3 KB | 146.04 KB | 37.57 KB | 37.51 KB | FB_WWW_DEV
**react-dom-test-utils.production.min.js** | **0.0%** | **0.0%** | **13.7 KB** | **13.7 KB** | **5.31 KB** | **5.32 KB** | **UMD_PROD**
**ReactDOMServer-prod.js** | **-0.4%** | **-0.3%** | **47.44 KB** | **47.23 KB** | **11.06 KB** | **11.02 KB** | **FB_WWW_PROD**
react-dom-test-utils.development.js | -0.1% | -0.1% | 66.17 KB | 66.1 KB | 18.8 KB | 18.79 KB | NODE_DEV
ReactDOMTesting-dev.js | -0.1% | -0.2% | 948.23 KB | 946.93 KB | 212.8 KB | 212.47 KB | FB_WWW_DEV

## react-native-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactNativeRenderer-profiling.js | -0.2% | -0.2% | 284.03 KB | 283.57 KB | 50.83 KB | 50.74 KB | RN_OSS_PROFILING
ReactFabric-profiling.js | -0.2% | -0.2% | 278.09 KB | 277.63 KB | 49.58 KB | 49.5 KB | RN_FB_PROFILING
ReactFabric-dev.js | -0.2% | -0.2% | 669.59 KB | 668.29 KB | 144.92 KB | 144.61 KB | RN_OSS_DEV
**ReactFabric-prod.js** | **-0.2%** | **-0.1%** | **266.29 KB** | **265.84 KB** | **47.36 KB** | **47.29 KB** | **RN_OSS_PROD**
ReactFabric-profiling.js | -0.2% | -0.2% | 278.13 KB | 277.67 KB | 49.6 KB | 49.52 KB | RN_OSS_PROFILING
ReactNativeRenderer-dev.js | -0.2% | -0.2% | 688.85 KB | 687.55 KB | 149.47 KB | 149.17 KB | RN_OSS_DEV
ReactFabric-dev.js | -0.2% | -0.2% | 675 KB | 673.69 KB | 145.79 KB | 145.49 KB | RN_FB_DEV
**ReactNativeRenderer-prod.js** | **-0.2%** | **-0.2%** | **272.46 KB** | **272 KB** | **48.54 KB** | **48.47 KB** | **RN_OSS_PROD**
**ReactFabric-prod.js** | **-0.2%** | **-0.1%** | **266.26 KB** | **265.81 KB** | **47.35 KB** | **47.28 KB** | **RN_FB_PROD**
ReactNativeRenderer-dev.js | -0.2% | -0.2% | 694.25 KB | 692.95 KB | 150.35 KB | 150.05 KB | RN_FB_DEV
**ReactNativeRenderer-prod.js** | **-0.2%** | **-0.2%** | **272.41 KB** | **271.96 KB** | **48.53 KB** | **48.45 KB** | **RN_FB_PROD**
ReactNativeRenderer-profiling.js | -0.2% | -0.2% | 283.98 KB | 283.52 KB | 50.81 KB | 50.72 KB | RN_FB_PROFILING

## react-test-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-test-renderer.development.js | -0.2% | -0.2% | 617.18 KB | 615.83 KB | 130.15 KB | 129.83 KB | UMD_DEV
**react-test-renderer.production.min.js** | **-0.3%** | **-0.3%** | **77.71 KB** | **77.46 KB** | **24.43 KB** | **24.35 KB** | **UMD_PROD**
ReactTestRenderer-dev.js | -0.2% | -0.2% | 597.71 KB | 596.4 KB | 129.51 KB | 129.2 KB | RN_FB_DEV
**ReactTestRenderer-prod.js** | **-0.2%** | **-0.2%** | **233.48 KB** | **233.04 KB** | **42.6 KB** | **42.52 KB** | **RN_FB_PROD**
ReactTestRenderer-profiling.js | -0.2% | -0.2% | 244.93 KB | 244.49 KB | 44.84 KB | 44.76 KB | RN_FB_PROFILING
react-test-renderer.development.js | -0.2% | -0.2% | 587.94 KB | 586.66 KB | 128.63 KB | 128.32 KB | NODE_DEV
**react-test-renderer.production.min.js** | **-0.3%** | **-0.3%** | **77.51 KB** | **77.27 KB** | **24.11 KB** | **24.03 KB** | **NODE_PROD**
ReactTestRenderer-dev.js | -0.2% | -0.3% | 603.12 KB | 601.81 KB | 129.89 KB | 129.56 KB | FB_WWW_DEV

## react-art
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactART-dev.js | -2.5% | -2.5% | 663.13 KB | 646.69 KB | 141.24 KB | 137.74 KB | FB_WWW_DEV
react-art.development.js | -0.2% | -0.2% | 676.57 KB | 675.22 KB | 144.19 KB | 143.86 KB | UMD_DEV
**react-art.production.min.js** | **-0.2%** | **-0.2%** | **109.84 KB** | **109.6 KB** | **34.09 KB** | **34.02 KB** | **UMD_PROD**
react-art.development.js | -0.2% | -0.2% | 578.42 KB | 577.14 KB | 126.31 KB | 126 KB | NODE_DEV
**react-art.production.min.js** | **-0.3%** | **-0.3%** | **74.83 KB** | **74.58 KB** | **23.27 KB** | **23.19 KB** | **NODE_PROD**
**ReactART-prod.js** | **-2.8%** | **-2.7%** | **249.54 KB** | **242.58 KB** | **44.41 KB** | **43.22 KB** | **FB_WWW_PROD**

## react-server-dom-webpack
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-server-dom-webpack-writer.browser.development.server.js | -1.2% | -0.7% | 25.43 KB | 25.13 KB | 6.82 KB | 6.77 KB | NODE_DEV
react-server-dom-webpack-node-register.js | 0.0% | +0.2% | 3.2 KB | 3.2 KB | 1.3 KB | 1.3 KB | NODE_ES2015
**react-server-dom-webpack-writer.browser.production.min.server.js** | **-1.2%** | **-0.7%** | **6.37 KB** | **6.29 KB** | **2.65 KB** | **2.63 KB** | **NODE_PROD**
react-server-dom-webpack-node-loader.js | 0.0% | 0.0% | 8.24 KB | 8.24 KB | 2.75 KB | 2.76 KB | NODE_ESM
react-server-dom-webpack-plugin.js | 0.0% | +0.1% | 8.12 KB | 8.12 KB | 2.66 KB | 2.67 KB | NODE_ES2015
react-server-dom-webpack.development.js | -0.4% | -0.4% | 18.09 KB | 18.01 KB | 4.96 KB | 4.94 KB | UMD_DEV
**react-server-dom-webpack.production.min.js** | **0.0%** | **-0.1%** | **3.93 KB** | **3.93 KB** | **1.76 KB** | **1.76 KB** | **UMD_PROD**
react-server-dom-webpack.development.js | -0.5% | -0.3% | 16.88 KB | 16.8 KB | 4.84 KB | 4.83 KB | NODE_DEV
**react-server-dom-webpack.production.min.js** | **0.0%** | **:small_red_triangle:+0.1%** | **3.73 KB** | **3.73 KB** | **1.67 KB** | **1.67 KB** | **NODE_PROD**
react-server-dom-webpack-writer.browser.development.server.js | -1.2% | -0.7% | 27.07 KB | 26.75 KB | 6.96 KB | 6.91 KB | UMD_DEV
react-server-dom-webpack-writer.node.development.server.js | -1.1% | -0.6% | 26.37 KB | 26.07 KB | 7.08 KB | 7.03 KB | NODE_DEV
**react-server-dom-webpack-writer.browser.production.min.server.js** | **-1.1%** | **-0.7%** | **6.58 KB** | **6.5 KB** | **2.74 KB** | **2.72 KB** | **UMD_PROD**
**react-server-dom-webpack-writer.node.production.min.server.js** | **-1.1%** | **-0.7%** | **6.56 KB** | **6.49 KB** | **2.68 KB** | **2.66 KB** | **NODE_PROD**

## react
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
**react-jsx-runtime.production.min.js** | **0.0%** | **:small_red_triangle:+0.3%** | **971 B** | **971 B** | **605 B** | **607 B** | **NODE_PROD**
react-jsx-runtime.profiling.min.js | 0.0% | +0.2% | 970 B | 970 B | 605 B | 606 B | NODE_PROFILING
React-profiling.js | -1.1% | -0.7% | 16.67 KB | 16.49 KB | 4.33 KB | 4.3 KB | FB_WWW_PROFILING
React-dev.js | -0.4% | -0.3% | 88.31 KB | 87.93 KB | 21.22 KB | 21.15 KB | RN_FB_DEV
**React-prod.js** | **-1.1%** | **-0.7%** | **16.93 KB** | **16.75 KB** | **4.49 KB** | **4.46 KB** | **RN_FB_PROD**
React-profiling.js | -1.1% | -0.7% | 16.93 KB | 16.75 KB | 4.49 KB | 4.46 KB | RN_FB_PROFILING
react-jsx-dev-runtime.development.js | -0.5% | -0.5% | 37.08 KB | 36.88 KB | 10.71 KB | 10.66 KB | NODE_DEV
**react-jsx-dev-runtime.production.min.js** | **0.0%** | **:small_red_triangle:+0.6%** | **465 B** | **465 B** | **320 B** | **322 B** | **NODE_PROD**
react-jsx-dev-runtime.profiling.min.js | 0.0% | +0.6% | 464 B | 464 B | 320 B | 322 B | NODE_PROFILING
react-jsx-runtime.development.js | -0.5% | -0.5% | 37.66 KB | 37.47 KB | 10.88 KB | 10.83 KB | NODE_DEV
JSXDEVRuntime-dev.js | -0.4% | -0.3% | 40.55 KB | 40.39 KB | 11.33 KB | 11.3 KB | FB_WWW_DEV
react.development.js | -0.2% | -0.2% | 107.4 KB | 107.19 KB | 26.5 KB | 26.44 KB | UMD_DEV
react-unstable-shared-subset.development.js | 0.0% | +0.3% | 464 B | 464 B | 335 B | 336 B | NODE_DEV
**react.production.min.js** | **0.0%** | **:small_red_triangle:+0.1%** | **10.75 KB** | **10.75 KB** | **4.34 KB** | **4.34 KB** | **UMD_PROD**
**react-unstable-shared-subset.production.min.js** | **0.0%** | **:small_red_triangle:+0.7%** | **374 B** | **374 B** | **275 B** | **277 B** | **NODE_PROD**
react.profiling.min.js | 0.0% | 0.0% | 14.26 KB | 14.26 KB | 5.41 KB | 5.41 KB | UMD_PROFILING
react.development.js | -0.3% | -0.2% | 70.91 KB | 70.72 KB | 19.19 KB | 19.14 KB | NODE_DEV
JSXDEVRuntime-dev.js | -0.5% | -0.4% | 31.98 KB | 31.81 KB | 9.09 KB | 9.05 KB | RN_FB_DEV
**react.production.min.js** | **0.0%** | **0.0%** | **6.32 KB** | **6.32 KB** | **2.62 KB** | **2.62 KB** | **NODE_PROD**
React-dev.js | -0.4% | -0.2% | 96.65 KB | 96.27 KB | 23.57 KB | 23.51 KB | FB_WWW_DEV
JSXRuntime-dev.js | -0.5% | -0.4% | 32.56 KB | 32.39 KB | 9.26 KB | 9.22 KB | RN_FB_DEV
**React-prod.js** | **-1.1%** | **-0.7%** | **16.67 KB** | **16.49 KB** | **4.33 KB** | **4.3 KB** | **FB_WWW_PROD**

## react-server-dom-relay
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactFlightDOMRelayClient-dev.js | -0.7% | -0.5% | 11.7 KB | 11.62 KB | 3.42 KB | 3.41 KB | FB_WWW_DEV
ReactFlightDOMRelayServer-dev.js | -1.2% | -0.8% | 26.29 KB | 25.98 KB | 6.81 KB | 6.76 KB | FB_WWW_DEV
**ReactFlightDOMRelayServer-prod.js** | **-1.2%** | **-0.7%** | **14.22 KB** | **14.05 KB** | **3.75 KB** | **3.73 KB** | **FB_WWW_PROD**

## eslint-plugin-react-hooks
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
eslint-plugin-react-hooks.development.js | -0.5% | -0.4% | 85.09 KB | 84.65 KB | 20.25 KB | 20.17 KB | NODE_DEV
**eslint-plugin-react-hooks.production.min.js** | **-0.5%** | **-0.5%** | **24.86 KB** | **24.74 KB** | **8.54 KB** | **8.5 KB** | **NODE_PROD**

## react-server
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
**react-server-flight.production.min.js** | **-1.2%** | **-0.7%** | **6.61 KB** | **6.53 KB** | **2.72 KB** | **2.71 KB** | **NODE_PROD**
react-server-flight.development.js | -1.2% | -0.7% | 25.82 KB | 25.53 KB | 6.93 KB | 6.88 KB | NODE_DEV
react-server.development.js | -1.4% | -1.0% | 5.34 KB | 5.26 KB | 1.7 KB | 1.68 KB | NODE_DEV
**react-server.production.min.js** | **0.0%** | **:small_red_triangle:+0.2%** | **1.15 KB** | **1.15 KB** | **640 B** | **641 B** | **NODE_PROD**

## react-reconciler
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-reconciler-reflection.development.js | -0.8% | -0.6% | 16 KB | 15.88 KB | 4.87 KB | 4.84 KB | NODE_DEV
**react-reconciler-reflection.production.min.js** | **0.0%** | **:small_red_triangle:+0.1%** | **2.62 KB** | **2.62 KB** | **1.13 KB** | **1.13 KB** | **NODE_PROD**
react-reconciler.development.js | -0.2% | -0.2% | 633.24 KB | 631.96 KB | 135.66 KB | 135.33 KB | NODE_DEV
**react-reconciler.production.min.js** | **-0.3%** | **-0.2%** | **84.31 KB** | **84.05 KB** | **26.11 KB** | **26.05 KB** | **NODE_PROD**
react-reconciler.profiling.min.js | -0.3% | -0.4% | 88.45 KB | 88.19 KB | 27.38 KB | 27.27 KB | NODE_PROFILING

## react-debug-tools
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-debug-tools.development.js | -2.4% | -1.5% | 20.91 KB | 20.42 KB | 5.74 KB | 5.65 KB | NODE_DEV
**react-debug-tools.production.min.js** | **-3.5%** | **-1.7%** | **6.03 KB** | **5.82 KB** | **2.36 KB** | **2.32 KB** | **NODE_PROD**

  </details>
  

ReactDOM: size: -0.3%, gzip: -0.3%

React: size: 0.0%, gzip: :small_red_triangle:+0.1%

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against e84b363a6d419ef3b53371ecf558bfe29556de91
</p>
",2020-11-13T19:47:17Z
729716654,"My understanding is we have two workarounds suggested that are both valid, with different considerations, but only one listed in the top of this issue. I wonder if they both should be @fritz-c, or if we deliberately just list one?

The first by @gaearon that solves/swallows these errors globally, at some performance cost:

https://github.com/facebook/react/issues/11538#issuecomment-417504600

> Finally, there is a workaround you can use that will fix the error. It will make your app a little bit slower, so it is up to you to try it and determine whether the tradeoff is worth it. But it's equivalent to what React would have to do if we were to fix it in React â€” so you wouldn't have a better solution anyway. 
> 
> Once Google Translate fixes this (if https://bugs.chromium.org/p/chromium/issues/detail?id=872770 gets any traction â€” it's hard to tell) you'll be able to remove the hack.

The second by @shuhei on a per usage basis, so no performance cost but no guard against reintroducing errors:  

https://github.com/facebook/react/issues/11538#issuecomment-390386520

> We can avoid these errors by invalidating the conditions above. The easiest workaround is to wrap those text nodes with `<span>` so that nodes referenced by React will stay in the DOM tree even though their contents are replaced with `<font>` tags.",2020-11-18T14:30:49Z
739247167,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20385/builds/90490) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit d5767cd6c1bc2a779ed1541d83f34ae11f02c5a3:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-12jkc)| Configuration |
|[recursing-engelbart-0dwuu](https://codesandbox.io/s/recursing-engelbart-0dwuu)| Issue #20343 |
",2020-12-05T12:52:47Z
739247560,"
<!--
  0 failure: 
  1 warning:  Could not find bu...
  
  1 markdown notices
  DangerID: danger-id-stable;
-->


<table>
  <thead>
    <tr>
      <th width=""50""></th>
      <th width=""100%"" data-danger-table=""true"">Warnings</th>
    </tr>
  </thead>
  <tbody><tr>
      <td>:warning:</td>
      <td>Could not find build artifacts for base commit: 0db61a08befe6406aa93568708224d1cca2aff7d</td>
    </tr>
  </tbody>
</table>


## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against d5767cd6c1bc2a779ed1541d83f34ae11f02c5a3
</p>
",2020-12-05T12:56:23Z
739247603,"
<!--
  0 failure: 
  1 warning:  Could not find bu...
  
  1 markdown notices
  DangerID: danger-id-experimental;
-->


<table>
  <thead>
    <tr>
      <th width=""50""></th>
      <th width=""100%"" data-danger-table=""true"">Warnings</th>
    </tr>
  </thead>
  <tbody><tr>
      <td>:warning:</td>
      <td>Could not find build artifacts for base commit: 0db61a08befe6406aa93568708224d1cca2aff7d</td>
    </tr>
  </tbody>
</table>


## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against d5767cd6c1bc2a779ed1541d83f34ae11f02c5a3
</p>
",2020-12-05T12:56:47Z
743007737,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




Comparing: 2442d988eff0943b557bcc61cf4e0062146b6948...9e9ac232ced6ed3546873edf3f530b0aa6ebe1d4

## Critical size changes

Includes critical production bundles, as well as any change greater than 2%:


  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| oss-stable/react-dom/cjs/react-dom.production.min.js | **=** | 127.41 kB | 127.41 kB | = | 40.83 kB | 40.83 kB
| oss-experimental/react-dom/cjs/react-dom.production.min.js | **=** | 130.22 kB | 130.22 kB | = | 41.74 kB | 41.74 kB
| facebook-www/ReactDOM-prod.classic.js | **=** | 405.65 kB | 405.65 kB | = | 74.99 kB | 74.99 kB
| facebook-www/ReactDOM-prod.modern.js | **=** | 394.08 kB | 394.08 kB | = | 73.22 kB | 73.22 kB
| facebook-www/ReactDOMForked-prod.classic.js | **=** | 405.65 kB | 405.65 kB | = | 75.00 kB | 75.00 kB

## Significant size changes

Includes any change greater than 0.2%:

(No significant changes)

<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 9e9ac232ced6ed3546873edf3f530b0aa6ebe1d4
</p>
",2020-12-11T06:43:30Z
751198583,mark,2020-12-25T07:37:49Z
752116059,Bump.,2020-12-29T15:14:56Z
753513631,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20534/builds/93408) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 829073262c78859f156a93456b8c5fa8e0462f68:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-9bc4w)| Configuration |
",2021-01-02T18:38:09Z
753513933,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->



No significant bundle size changes to report.

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 829073262c78859f156a93456b8c5fa8e0462f68
</p>
",2021-01-02T18:41:11Z
753513973,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->



No significant bundle size changes to report.

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 829073262c78859f156a93456b8c5fa8e0462f68
</p>
",2021-01-02T18:41:31Z
754067710,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20541/builds/89828) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit f49efc86bdea3e6bf1d4935013c80361ca65bcda:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-7vkej)| Configuration |
",2021-01-04T16:14:28Z
754090720,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->



No significant bundle size changes to report.

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against f49efc86bdea3e6bf1d4935013c80361ca65bcda
</p>
",2021-01-04T16:55:51Z
754090864,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->



No significant bundle size changes to report.

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against f49efc86bdea3e6bf1d4935013c80361ca65bcda
</p>
",2021-01-04T16:56:07Z
754126769,"This is impacting user who uses mobx as their state management, as each of component should be wrapped with observer. I noticed that this problem only affect [snowpack](https://snowpack.dev) project, [CRA](https://reactjs.org/docs/create-a-new-react-app.html) are fine.

When component is wrapped in observer, fast-refresh does not work.",2021-01-04T18:05:00Z
754338803,"@yasintz sorry for the slow reply. That's a good point, let me think about it. at the very least I want to make sure whatever design we pick here doesn't clash with the possibility of doing that in the future, even if we decide not to implement it now.",2021-01-05T02:09:10Z
754494934,"Looks like this is unrelated to React and even JavaScript since the error message comes from Java.

Please provide a CodeSandbox (https://react.new/), a link to a repository on GitHub, or provide a minimal code example that reproduces the problem. 

Here are some tips for providing a minimal example: https://stackoverflow.com/help/mcve

<!-- mui template: https://material-ui.com/r/issue-template -->
<!-- react template: https://react.new/ -->",2021-01-05T08:44:52Z
754540668,"Hi @neroneroffy! 

Thank you for your pull request and welcome to our community. We require contributors to sign our Contributor License Agreement, and we don't seem to have you on file.

In order for us to review and merge your code, please sign at <https://code.facebook.com/cla>. **If you are contributing on behalf of someone else (eg your employer)**, the individual CLA may not be sufficient and your employer may need to sign the corporate CLA.

If you have received this in error or have any questions, please contact us at [cla@fb.com](mailto:cla@fb.com?subject=CLA%20for%20facebook%2Freact%20%2320546). Thanks!",2021-01-05T10:09:55Z
754542386,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20546/builds/87788) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 27a7be030bb51c47aead7b6c8790f8d327cc5886:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-88g6z)| Configuration |
",2021-01-05T10:13:22Z
754544252,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->



No significant bundle size changes to report.

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 27a7be030bb51c47aead7b6c8790f8d327cc5886
</p>
",2021-01-05T10:16:58Z
754544681,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->



No significant bundle size changes to report.

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 27a7be030bb51c47aead7b6c8790f8d327cc5886
</p>
",2021-01-05T10:17:47Z
754549442,Thank you for signing our Contributor License Agreement. We can now accept your code for this (and any) Facebook open source project. Thanks!,2021-01-05T10:27:59Z
754600189,"With all the respect, wrapper doesn't sound like cheating, it is cheating. Tree shaking and other tools to analyze code which know only about ES6 modules semantics won't fully work with it ever. If there will be major release of React, I think it will be more beneficial for community to go with correct ES6 modules and named-only exports, that's what versioning is about to do breaking changes if they are really necessary. If there is problem with tooling (to bundle two versions or other issue) it should be probably fixed on tooling side. ",2021-01-05T12:15:51Z
754629378,"@juliuskovac tree shaking works equally well with CJS, it's just not enabled by default in the popular bundlers, so they could *already* handle things without any ESM whatsoever if it was important to do so. The problem that needs fixing on the tooling side is ""treeshaking often only works with ESM by default"".",2021-01-05T13:16:21Z
754663867,"Will this style also might produce the same issue?
`export default withStyles(appStyle)(App);` ",2021-01-05T14:19:44Z
754715121,"I assure you, it is not a question of ""defaults"". It is not impossible, but at least for Rollup, there is still some engineering effort necessary to safely track usage of object properties as would be required for CommonJS tree-shaking. And beyond tree-shaking, scope-hoisting is another optimization you forego without ES modules. In short it means you have a lot more property accesses with the incurred runtime penalty in a CommonJS setting. Rollup is actively trying to reduce these, but it requires libraries to be sufficiently ""well-behaved"". In short, it is quite hard to produce similar quality output from CommonJS modules as opposed to ES modules.",2021-01-05T15:41:24Z
754716439,"Since dynamic imports exist, well-behaved libraries are required anyways.",2021-01-05T15:43:31Z
754718201,"Putting it in another words, you just create a component, which receives `isVisible` prop and renders children if passed expression evaluates to true.

```ts
import React from 'react';

type ConditionalWrapperProps = {
  isVisible: boolean;
  children: React.ReactNode;
};

const ConditionalWrapper = (props: ConditionalWrapperProps) => (props.isVisible ? <>{props.children}</> : <></>);

export default ConditionalWrapper;
```",2021-01-05T15:46:24Z
754721780,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20547/builds/87912) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 5643c33f731e22a8863cb2ea16bfb942d69f47c6:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-fldf0)| Configuration |
",2021-01-05T15:52:10Z
754724143,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->



No significant bundle size changes to report.

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 5643c33f731e22a8863cb2ea16bfb942d69f47c6
</p>
",2021-01-05T15:55:57Z
754724960,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->



No significant bundle size changes to report.

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 5643c33f731e22a8863cb2ea16bfb942d69f47c6
</p>
",2021-01-05T15:57:16Z
754745936,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20548/builds/92556) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit cf267fe40f749694f8ecb4b68d1cad907cc58d03:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-9z55e)| Configuration |
",2021-01-05T16:30:18Z
754749203,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->



No significant bundle size changes to report.

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against cf267fe40f749694f8ecb4b68d1cad907cc58d03
</p>
",2021-01-05T16:35:26Z
754749233,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->




  <details>
  <summary>Details of bundled changes.</summary>

  <p>Comparing: 95feb0e701a5ae20996e8cc6c4acd0f504d5985a...cf267fe40f749694f8ecb4b68d1cad907cc58d03</p>


  
## react-test-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-test-renderer.development.js | +2.7% | +2.6% | 617.67 KB | 634.21 KB | 130.3 KB | 133.71 KB | UMD_DEV
**react-test-renderer.production.min.js** | **:small_red_triangle:+3.0%** | **:small_red_triangle:+3.5%** | **77.74 KB** | **80.07 KB** | **24.43 KB** | **25.3 KB** | **UMD_PROD**
ReactTestRenderer-profiling.js | 0.0% | 0.0% | 245.03 KB | 245.03 KB | 44.84 KB | 44.84 KB | RN_FB_PROFILING
react-test-renderer.development.js | +2.7% | +2.6% | 588.41 KB | 604.12 KB | 128.76 KB | 132.08 KB | NODE_DEV
**react-test-renderer.production.min.js** | **:small_red_triangle:+3.0%** | **:small_red_triangle:+3.3%** | **77.55 KB** | **79.88 KB** | **24.13 KB** | **24.92 KB** | **NODE_PROD**

  </details>
  

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against cf267fe40f749694f8ecb4b68d1cad907cc58d03
</p>
",2021-01-05T16:35:30Z
754759925,"> Unfortunately, I've decided to also remove the accessibility directory from the React repository for now

About a year later, I'd like to ask if there's any plan or progress to bring these back.",2021-01-05T16:54:25Z
754792500,"The previous response should give you a good direction what you might want to do. I'll just add some more general community resources and close this since this issue isn't actionable otherwise.

Coding Questions
If you have a coding question related to React and React DOM, it might be better suited for Stack Overflow. It's a great place to browse through frequent questions about using React, as well as ask for help with specific questions.

stackoverflow.com/questions/tagged/react

Talk to other React developers
There are many online forums which are a great place for discussion about best practices and application architecture as well as the future of React.

https://reactjs.org/community/support.html",2021-01-05T17:48:48Z
754830883,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20550/builds/87931) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 4972f76c2af4d3698deecbda825cd3069bf81843:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-r8438)| Configuration |
",2021-01-05T18:54:25Z
754833070,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->



No significant bundle size changes to report.

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 4972f76c2af4d3698deecbda825cd3069bf81843
</p>
",2021-01-05T18:58:41Z
754833338,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->



No significant bundle size changes to report.

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 4972f76c2af4d3698deecbda825cd3069bf81843
</p>
",2021-01-05T18:59:09Z
754834930,"The reason this was fixed is because for some reason, before, we only did the check in `commitLifeCycles`, and not `flushPassiveEffectsImpl` (see [here](https://github.com/rickhanlonii/react/blob/32ff4286872d1a6bb8ce71730064f60ebbdd1509/packages/react-reconciler/src/ReactFiberWorkLoop.old.js#L2584-L2587)).

Now we always create the effect in `commitHookEffectListMount`, so the check is always run.",2021-01-05T19:02:05Z
754841924,"In my case, the text was already rendering in the `span` tag. However, what worked for me is adding a `key` attribute to my span tag.",2021-01-05T19:15:22Z
754873329,"Hi @gouri1000! 

Thank you for your pull request and welcome to our community. We require contributors to sign our Contributor License Agreement, and we don't seem to have you on file.

In order for us to review and merge your code, please sign at <https://code.facebook.com/cla>. **If you are contributing on behalf of someone else (eg your employer)**, the individual CLA may not be sufficient and your employer may need to sign the corporate CLA.

If you have received this in error or have any questions, please contact us at [cla@fb.com](mailto:cla@fb.com?subject=CLA%20for%20facebook%2Freact%20%2320551). Thanks!",2021-01-05T20:14:52Z
754874747,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20551/builds/87940) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 2e20506f4b96eb1a5e925a70873e528ebaf6e3a0:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-e8sf6)| Configuration |
",2021-01-05T20:17:28Z
754876381,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->



No significant bundle size changes to report.

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 2e20506f4b96eb1a5e925a70873e528ebaf6e3a0
</p>
",2021-01-05T20:20:47Z
754876511,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->



No significant bundle size changes to report.

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 2e20506f4b96eb1a5e925a70873e528ebaf6e3a0
</p>
",2021-01-05T20:21:02Z
754892838,"Nice find!

This is technically a breaking change so we should wrap it in a flag. Will turn on before 18.",2021-01-05T20:53:50Z
754893133,Oh nvm it's just a warning?,2021-01-05T20:54:26Z
754932965,Tests were failing b'c we never enabled cache for experimental test renderer builds (so the hook was missing).,2021-01-05T22:10:39Z
754944183,bumb,2021-01-05T22:36:44Z
755029276,"Hi @Jajabenit250! 

Thank you for your pull request and welcome to our community. We require contributors to sign our Contributor License Agreement, and we don't seem to have you on file.

In order for us to review and merge your code, please sign at <https://code.facebook.com/cla>. **If you are contributing on behalf of someone else (eg your employer)**, the individual CLA may not be sufficient and your employer may need to sign the corporate CLA.

If you have received this in error or have any questions, please contact us at [cla@fb.com](mailto:cla@fb.com?subject=CLA%20for%20facebook%2Freact%20%2320552). Thanks!",2021-01-06T02:08:08Z
755030122,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20552/builds/87975) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit e16a67abdb33074e4c8e08f436fb770064a1b199:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-hc2e7)| Configuration |
",2021-01-06T02:10:42Z
755031425,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->



No significant bundle size changes to report.

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against e16a67abdb33074e4c8e08f436fb770064a1b199
</p>
",2021-01-06T02:14:45Z
755031657,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->



No significant bundle size changes to report.

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against e16a67abdb33074e4c8e08f436fb770064a1b199
</p>
",2021-01-06T02:15:30Z
755116192,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20554/builds/95888) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 27e5f633dc5f1ea6026db81f9b39eb9687945ec0:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-hy3xs)| Configuration |
",2021-01-06T06:42:03Z
755117112,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->




  <details>
  <summary>Details of bundled changes.</summary>

  <p>Comparing: 27659559ebfd6b7119bfc0ff02ecb851c135020c...27e5f633dc5f1ea6026db81f9b39eb9687945ec0</p>


  
## react-native-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactNativeRenderer-profiling.js | +0.1% | +0.1% | 284.04 KB | 284.43 KB | 50.84 KB | 50.89 KB | RN_OSS_PROFILING
ReactFabric-dev.js | +0.1% | 0.0% | 669.6 KB | 670.25 KB | 144.93 KB | 144.99 KB | RN_OSS_DEV
**ReactFabric-prod.js** | **:small_red_triangle:+0.1%** | **:small_red_triangle:+0.1%** | **266.31 KB** | **266.7 KB** | **47.37 KB** | **47.42 KB** | **RN_OSS_PROD**
ReactFabric-profiling.js | +0.1% | +0.1% | 278.14 KB | 278.53 KB | 49.61 KB | 49.67 KB | RN_OSS_PROFILING
ReactNativeRenderer-dev.js | +0.1% | 0.0% | 688.86 KB | 689.51 KB | 149.48 KB | 149.55 KB | RN_OSS_DEV
**ReactNativeRenderer-prod.js** | **:small_red_triangle:+0.1%** | **:small_red_triangle:+0.1%** | **272.47 KB** | **272.86 KB** | **48.55 KB** | **48.6 KB** | **RN_OSS_PROD**

  </details>
  

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 27e5f633dc5f1ea6026db81f9b39eb9687945ec0
</p>
",2021-01-06T06:44:22Z
755117240,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->




  <details>
  <summary>Details of bundled changes.</summary>

  <p>Comparing: 27659559ebfd6b7119bfc0ff02ecb851c135020c...27e5f633dc5f1ea6026db81f9b39eb9687945ec0</p>


  
## react-native-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactNativeRenderer-profiling.js | +0.1% | +0.1% | 284.03 KB | 284.42 KB | 50.83 KB | 50.88 KB | RN_OSS_PROFILING
ReactFabric-profiling.js | +0.1% | +0.1% | 278.09 KB | 278.48 KB | 49.58 KB | 49.64 KB | RN_FB_PROFILING
ReactFabric-dev.js | +0.1% | 0.0% | 669.59 KB | 670.24 KB | 144.92 KB | 144.98 KB | RN_OSS_DEV
**ReactFabric-prod.js** | **:small_red_triangle:+0.1%** | **:small_red_triangle:+0.1%** | **266.29 KB** | **266.69 KB** | **47.36 KB** | **47.42 KB** | **RN_OSS_PROD**
ReactFabric-profiling.js | +0.1% | +0.1% | 278.13 KB | 278.52 KB | 49.6 KB | 49.66 KB | RN_OSS_PROFILING
ReactNativeRenderer-dev.js | +0.1% | 0.0% | 688.85 KB | 689.5 KB | 149.48 KB | 149.54 KB | RN_OSS_DEV
ReactFabric-dev.js | +0.1% | 0.0% | 675 KB | 675.64 KB | 145.79 KB | 145.85 KB | RN_FB_DEV
**ReactNativeRenderer-prod.js** | **:small_red_triangle:+0.1%** | **:small_red_triangle:+0.1%** | **272.46 KB** | **272.85 KB** | **48.54 KB** | **48.6 KB** | **RN_OSS_PROD**
**ReactFabric-prod.js** | **:small_red_triangle:+0.1%** | **:small_red_triangle:+0.1%** | **266.26 KB** | **266.65 KB** | **47.35 KB** | **47.4 KB** | **RN_FB_PROD**
ReactNativeRenderer-dev.js | +0.1% | 0.0% | 694.25 KB | 694.89 KB | 150.35 KB | 150.42 KB | RN_FB_DEV
**ReactNativeRenderer-prod.js** | **:small_red_triangle:+0.1%** | **:small_red_triangle:+0.1%** | **272.41 KB** | **272.8 KB** | **48.53 KB** | **48.58 KB** | **RN_FB_PROD**
ReactNativeRenderer-profiling.js | +0.1% | +0.1% | 283.98 KB | 284.37 KB | 50.81 KB | 50.86 KB | RN_FB_PROFILING

  </details>
  

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 27e5f633dc5f1ea6026db81f9b39eb9687945ec0
</p>
",2021-01-06T06:44:44Z
755119524,"This is the default dom behavior, unrelated to React.
[HTMLSelectElement.value](https://developer.mozilla.org/en-US/docs/Web/API/HTMLSelectElement)
`A DOMString reflecting the value of the form control. Returns the value property of the first selected option element if there is one, otherwise the empty string.`

You can use [HTMLSelectElement.selectedOptions](https://developer.mozilla.org/en-US/docs/Web/API/HTMLSelectElement/selectedOptions) to get the selected options which is a HTMLCollection.

See the updated example: [https://jsfiddle.net/ztsnLem3/](https://jsfiddle.net/ztsnLem3/)",2021-01-06T06:50:18Z
755138689,"I'd expect this to fail Flow without the changes to ReactNativeTypes. Also, you'll want to add some unit tests for these (React has unit tests!) You can check out the history of those files to find previous PRs I've made for examples of how to write tests",2021-01-06T07:38:32Z
755139703,"If you'd like to roll this out incrementally, you could add the Fabric implementation behind a React feature flag, and if the flag is false have it use the Paper implementation. Then you can migrate JS callsites to the new api now without waiting for the native fabric code to have that method yet. ",2021-01-06T07:41:29Z
755160052,Please experiment with markdown (e.g. https://dillinger.io/) or pull requests (see https://docs.github.com/en/github/collaborating-with-issues-and-pull-requests/creating-a-pull-request for further documentation) on a personal repository. Opening PRs creates notifications for maintainers and everyone watching this repository.,2021-01-06T08:29:20Z
755161954,"Answered on StackOverflow.

> but I am unable to get any answer for this question from stackoverflow

You can't expect a satisfying answer to your question within a day on StackOverflow.

You might also be interested in existing issues: https://github.com/facebook/react/issues/14319",2021-01-06T08:33:18Z
755166048,Perfectly answered in https://github.com/facebook/react/issues/20519#issuecomment-755119524,2021-01-06T08:42:56Z
755168252,Please experiment with markdown (e.g. https://dillinger.io/) or pull requests (see https://docs.github.com/en/github/collaborating-with-issues-and-pull-requests/creating-a-pull-request for further documentation) on a personal repository. Opening PRs creates notifications for maintainers and everyone watching this repository.,2021-01-06T08:47:47Z
755171595,"Thanks @eps1lon for answering. Have accepted your answer ðŸ™‚. Will follow the linked issue. 

>You can't expect a satisfying answer to your question within a day on StackOverflow.

Sorry about that ðŸ˜ž , was in a bit of deadline that's why. But will keep in mind for future.

Btw is there any interest towards enabling github discussions on this repo ? Because lots of issues could belong better in Github discussions.
",2021-01-06T08:54:49Z
755295797,"ok @yasintz I gave it some more thought and here's what I'm thinking. I don't think we should include the field specifier in the regex, because doing pre-parsing on a regex doesn't sound like fun, and would probably be confusing to use too. So I'm thinking we expand the config to be something like:

```
{
  ...
  ""safeHooks"": [
    {
      ""pattern"": ""^useCustomState$"",
      ""fields"": [1]
    },
    ""^useRefWrapper$""
  ]
}
```

And you can specify any number of hooks in that array, or you can stick with the original format of just using regex unions to specify multiple hooks, if you don't need disjoint field logic. Another added bonus of this format is that it's easy to specify stable fields from hooks that return objects too, you just include a string in `fields` instead of a number.

I think we should continue to support the original format of just a regex as well though, to stay consistent with `additionalHooks` and also minimize the amount of config needed for the simplest cases. So overall I think the typing for this field would look something like:

```
type SafeHook = string | {pattern: string, fields?: Array<string | number>};
type SafeHooks = SafeHook | SafeHook[];
```

If we decide on this design, it also means that we could merge what I have in this PR, then extend it to support this design without requiring any breaking changes, since the simple string format will still be supported. I'd prefer that since I just started a new job so my time is pretty limited right now, and I'd rather get this out for use as soon as possible. I'm still happy to do the implementation of this design too, it'll just probably take me a few weeks.

Let me know what you think!",2021-01-06T13:21:59Z
755295957,"Shouldnâ€™t we be deprecating method calls on host instances in favor of module level calls that pass an instance anyway?

Why do this in two steps instead of just deprecating the calls directly in both places and add the third? Youâ€™d make people migrate to this only to migrate away later.",2021-01-06T13:22:19Z
755341327,"Thanks for the report.

This behavior changed in React 17 intentionally. A workaround is explained in the [React 17 Release candidate blog post](https://reactjs.org/blog/2020/08/10/react-v17-rc.html#potential-issues):

```jsx
export default function Blah() {
  const node = useRef()
  useEffect(() => {
    const currentNode = node.current;
    return () => {
      console.log(currentNode)
    }
  }, [])
  return (
    <div ref={node}>
      ...
    </div>
  )
}
```",2021-01-06T14:47:42Z
755341845,"Oh, looks like I didn't notice that.
Thx.",2021-01-06T14:48:37Z
755351171,"Hi @xrkffgg! 

Thank you for your pull request and welcome to our community. We require contributors to sign our Contributor License Agreement, and we don't seem to have you on file.

In order for us to review and merge your code, please sign at <https://code.facebook.com/cla>. **If you are contributing on behalf of someone else (eg your employer)**, the individual CLA may not be sufficient and your employer may need to sign the corporate CLA.

If you have received this in error or have any questions, please contact us at [cla@fb.com](mailto:cla@fb.com?subject=CLA%20for%20facebook%2Freact%20%2320556). Thanks!",2021-01-06T15:03:58Z
755352650,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20556/builds/88151) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 423800ee089d1a556edae4ea827c88e494c8965a:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-mctsw)| Configuration |
",2021-01-06T15:06:15Z
755355199,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->



No significant bundle size changes to report.

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 423800ee089d1a556edae4ea827c88e494c8965a
</p>
",2021-01-06T15:10:29Z
755355300,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->



No significant bundle size changes to report.

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 423800ee089d1a556edae4ea827c88e494c8965a
</p>
",2021-01-06T15:10:39Z
755368319,Thank you for signing our Contributor License Agreement. We can now accept your code for this (and any) Facebook open source project. Thanks!,2021-01-06T15:31:21Z
755430458,"Hey @IndProgo, simply add `overflow-anchor: none;` on list element.
More on this [here](https://developers.google.com/web/updates/2016/04/scroll-anchoring) and [here](https://developer.mozilla.org/en-US/docs/Web/CSS/overflow-anchor).

This behavior is not related to react.",2021-01-06T17:04:33Z
755571247,"> Shouldnâ€™t we be deprecating method calls on host instances in favor of module level calls that pass an instance anyway?
> 
> Why do this in two steps instead of just deprecating the calls directly in both places and add the third? Youâ€™d make people migrate to this only to migrate away later.

Just trying to understand this - does that mean we no longer want to be calling functions like `ref.measure`, `ref.blur()` etc? Are we planning to deprecate these too? What's the new way?",2021-01-06T19:35:39Z
755649508,"I'm not sure what the latest API proposal is but it should be something like instead of `ref.measure(...)` it would be `LayoutSomethingSomething.measure(ref, ...)`, and instead of `ref.blur()` it would be `FocusManagerOrSomething.blur(ref)`.",2021-01-06T20:32:19Z
755727665,"@sebmarkbage @kacieb

Eli's proposal is here: https://github.com/react-native-community/discussions-and-proposals/issues/72

I will be updating this PR to remove methods from the HostComponent API, and follow a pattern similar to viewCommands.",2021-01-06T21:32:49Z
755820583,"Heh, I actually kinda forgot about that proposal @sebmarkbage, thanks for the reminder. I agree that we probably shouldn't add new methods like that if we can avoid it. 

@JoshuaGross, unit tests will be pretty important for this. You can check out this commit of mine to see how to write them. https://github.com/facebook/react/commit/8533c0a168138d2442334021751b42e530d08bb8#diff-5c608331d700d268ea959ed0d77e87844798b8f8e30222f8ffaa990cac3603d2

Since this code lives on the renderer there are a couple things the tests are checking for:
Passing a ref to a fabric component to the Fabric JS renderer calls the fabric native method
Passing a ref to a paper component to the Paper JS renderer calls the paper native method
Passing a ref to a paper component to the Fabric JS renderer calls the paper native method (these are the edge cases you may not have thought of)
Passing a ref to a fabric component to the Paper JS renderer calls the fabric native method (these are the edge cases you may not have thought of)",2021-01-07T01:14:31Z
755823439,"@bvaughn is it accurate to say that by switching from v9 to v11, in order to add support for one OS, it broke support for another OS?",2021-01-07T01:24:12Z
755866890,"Adding a solution here because this page is showing up on the front page of Google when searching for ""React.cloneElement keep child props""

Let's say you are passing in the new color:

```
React.cloneElement(child, {
	this.props.color
});
```
This will override the color prop for the child element.

So, you need to pass in the child props again **after** passing in the parent's props:

```
React.cloneElement(child, {
	this.props.color,
	...child.props,
});
```

Any props that are set by the child will override the values of the props set by the cloneElement.

If you wanted to create an order of precedence:
1. Props provided to the child component
2. Props provided to the parent
3. Default props on the child component

List the props in reverse order:
```
React.cloneElement(child, {
	...defaultProps,
	this.props.color,
	...child.props,
});
```",2021-01-07T03:54:45Z
755870429,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20557/builds/89409) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit f9cc0ba618dcc5aa34082e484e6d76e99127ed15:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-m0r5l)| Configuration |
",2021-01-07T04:08:41Z
755871684,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->



No significant bundle size changes to report.

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against f9cc0ba618dcc5aa34082e484e6d76e99127ed15
</p>
",2021-01-07T04:13:23Z
755871811,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->



No significant bundle size changes to report.

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against f9cc0ba618dcc5aa34082e484e6d76e99127ed15
</p>
",2021-01-07T04:13:46Z
755875689,Made some updates. Will add tests later.,2021-01-07T04:28:08Z
755912183,This repo is for issues with React itself. Please create this issue in the Create React App repo with a repo we can use to reproduce.,2021-01-07T06:20:08Z
756038095,"can you merge the fix with a feature flag? (i.e. enable-able from settings)
I'm having the `__REACT_DEVTOOLS_GLOBAL_HOOK__` fix and I want to remove it!",2021-01-07T10:44:56Z
756139945,"No. If there was a simple fix that just needed to be merged, it would have been merged already. Both previous attempts to fix this have needed to be reverted because they've caused unexpected problems.

Regardless, the fix is not something that could be enabled/disabled via a settingâ€“ because it requires changes to things like the extension manifest JSON.",2021-01-07T14:11:54Z
756141270,"No? What Os was broken by the switch from v9 to v11?

We haven't even released that change yet. This issue was broken prior to that upgrade. My point in mentioning it was thatâ€“ beyond upgrading to the latest Electron, there isn't much we can do on our end (short of a major rewrite to move away from Electron entirely- which we don't have the bandwidth for).",2021-01-07T14:14:05Z
756185455,"I'm sorry you experienced this bug! ðŸ™‡ 

Looks like this problem was already reported though (#20431) so I'm going to mark this issue as a duplicate and close it. If you have additional context that might help us repro this problem, please leave a comment on the other issue!

Thank you~",2021-01-07T15:27:25Z
756185739,"I agree with you @bvaughn, this has nothing to do with react devtools itself, and the problem is present since react devtools switch to Electron version > 5, so quite a long time I'd say.
I created this issue only for posterity and guidance on how you think this information should be displayed to the linux users that will certainly run into it in the future (or already did and couldn't figure out why). Hence your proposal to update the global react devtools readme seems really adapted to this matter.

I confirm the switch from v9 to v11 isn't related to this issue, since it's there since Electron v5.

To recap what could be done to solve this issue on the user side:
- either modify the running kernel to set `unprivileged_userns_clone` to 1
- `chmod 4755 and chown root` on the electron/devtool binary to be able to launch the binary with the new sandbox",2021-01-07T15:27:49Z
756186827,I'd welcome a PR that updates the README for standalone to add a section for Debian.,2021-01-07T15:29:24Z
756199638,"This is not an issue of React itself because React doesn't have any type definition for TypeScript in the repository.
I think you should file the issue to https://github.com/DefinitelyTyped/DefinitelyTyped, which is the repository that maintains `@types/react` and `@types/react-dom`, or https://github.com/Microsoft/TypeScript.",2021-01-07T15:49:27Z
756208983,"The effect is using `handler` so it should be included in the deps array. The effect hook is not the same mental model as the lifecycle methods class components have. I highly recommend reading the blog post to understand the concept of the effect model.
https://overreacted.io/a-complete-guide-to-useeffect/

If you have confidence for the usage and want to keep the deps array empty, you can disable the warning by `eslint-disable-next-line react-hooks/exhaustive-deps`
https://masteringjs.io/tutorials/eslint/disable-line",2021-01-07T16:04:11Z
756212757,Stop using npm link and use [yalc](https://www.npmjs.com/package/yalc) if you want to save yourself hours of misery,2021-01-07T16:10:04Z
756280910,Answered in https://github.com/facebook/react/issues/20540#issuecomment-756199638,2021-01-07T18:01:27Z
756338324,"Thanks for the PR, but we generally don't take PRs that make things ""cleaner"". They very rarely help and usually tend to introduce subtle bugs. In general, we prefer verbose low-level code that's inlined instead of outlined helpers even when they're more legible.",2021-01-07T19:41:27Z
756339423,"Thanks for the PR! Do you know if the demo fully runs on Node 12 after this? I'm not sure how useful this is in practice since these packages won't be production-ready for a while, and 14 is LTS anyway. ",2021-01-07T19:43:15Z
756357972,"hey @gaearon 

I beleive that the demo does fully run on Node 12 after this change (and the one I sent to the demo)... although to be honest I didn't test it out extensively.",2021-01-07T20:15:54Z
756366155,I would love to work on this issue.,2021-01-07T20:31:28Z
756437676,we had two versions of React being installed in a monorepo. needed to use metro's `blacklistRE` field and alias `react` to root `node_modules`,2021-01-07T22:58:19Z
756497531,"Looking at the source code now, there's a comment that seems to indicate that `useEffect` / `useCallback` / `useMemo` dependencies arrays are intended to be passed inline:

https://github.com/facebook/react/blob/efc57e5cbbd618f3c98d941c48eec859026c2dcb/packages/react-reconciler/src/ReactFiberHooks.new.js#L310

```js
...
if (__DEV__) {
    // Don't bother comparing lengths in prod because these arrays should be
    // passed inline.
    if (nextDeps.length !== prevDeps.length) {
       ...
```

If that's the case then it makes sense that it doesn't want the array length to change. But that just changes the question slightly - I'd love to hear from someone on the React team as to why the'd like these dependency arrays to only be passed inline to `useEffect`, `useCallback` and `useMemo`. I'm not able to think of any future movements that they might be leaving open for themselves, but that said I really haven't spent much time looking at their code.

",2021-01-08T01:56:47Z
756499388,Here's another similar discussion: https://github.com/facebook/react/issues/18229,2021-01-08T02:03:49Z
756508521,@gaearon Got it. Thanks for your explanation.,2021-01-08T02:36:02Z
756525895,"Intermediate thing to get you all through. My tests seem to confirm it's all good, but still, use with caution.

```js
import {useEffect, useRef} from 'react';

const equal = (a: unknown[], b: unknown[]): boolean => {
    if(a === b) return true;
    if(a.length !== b.length) return false;
    return a.every((e,i) => Object.is(e,b[i]));
};

export const useEffectVariadic = (create: () => (() => void)|void, deps: unknown[]): void => {
    const prevDeps = useRef<unknown[]>([]);
    const count = useRef<number>(0);

    if(!equal(prevDeps.current, deps)) count.current++;
    prevDeps.current = deps;

    useEffect(create, [count.current]);
};

// usage like normal useEffect

useEffectVariadic(() => {
    console.log(""hi"");
}, variableLengthArrayOfStuff);

```",2021-01-08T03:35:19Z
756533082,"Yeah I've been bitten by this one too. Not a `useMemo`, but the same limitation and error: I wanted to fire a `useEffect` whenever the contents of a variable length array changes. The array could contain many different data shapes, and I want to check equality using `Object.is()` style strict equality, so tried to do this:

```js
let items: T[] = [];
// ^ or [{foo: true}], or [1,2,3], or [true] etc depending on the generics used outside of this component

useEffect(() => {
    console.log(""changed"");
}, items);
```
And obviously hit this odd limitation.

My potential approaches seem to be:
- Use one `useEffect` per `item`? Items can change length, so the rules of hooks disallow this, which is fine. 
- Use one `useEffect` and pass in an array of items? The dependency length error is thrown.
- Transform the array to get it into a format that `useEffect` is ok with
  - If the array is homogeneous, elements are uniquely identifiable, and the data shape can be known to the hook, then this can sometimes work i.e. `let users: User = [{id: 'foo'}];` and `useEffect(() => {}, [users.map(user => user.id).join(',')])`, but is not suitable for my case as I can't / shouldn't need to know the shape of the items in advance, and I need to use Object.is() style strict equality for comparison.
  - If the array is fine with being checked for equality deeply then `useEffect(() => {}, [JSON.stringify(items)])` might be ok sometimes, but is not suitable for my case as I need to use `Object.is()` style strict equality for comparison
  - If you're ok with a maximum limit on your items then maybe `useEffect(() => {}, Array(10).fill(undefined).map((v,i) => items[i]))`, but is not suitable for my case as I have no reasonable limit I can impose
  - Roll my own hook that circumvents the limitation
  
So just had to do the last one. It's for `useEffect`, but equally applicable to the other hooks. My tests say it's ok but please use it with caution.

```js
import {useEffect, useRef} from 'react';

const equal = (a: unknown[], b: unknown[]): boolean => {
    if(a === b) return true;
    if(a.length !== b.length) return false;
    return a.every((e,i) => Object.is(e,b[i]));
};

export const useEffectVariadic = (create: () => (() => void)|void, deps: unknown[]): void => {
    const prevDeps = useRef<unknown[]>([]);
    const count = useRef<number>(0);

    if(!equal(prevDeps.current, deps)) count.current++;
    prevDeps.current = deps;

    useEffect(create, [count.current]);
};

// usage like normal useEffect

useEffectVariadic(() => {
    console.log(""hi"");
}, variableLengthArrayOfStuff);
```",2021-01-08T04:05:20Z
756550957,"Thanks for the report.

I was unable to reproduce this issue with codesandbox (https://codesandbox.io/s/hardcore-rubin-xrrpm?file=/src/styles.css). It seems to me that this is not caused by React but your build tool (e.g. create-react-app or next.js or a custom webpack config).

I recommend that you file an issue in the repositories responsible for those tools. Be sure to include a minimal reproducible example.",2021-01-08T05:15:03Z
756797963,"> 1. It worked the first time I ran it.
> 2. Then I added useRef and console for debugging (don't think is related to the but might help)

Unfortunately these steps aren't going to help us repro the bug being reported here. Can you please provide a link to the code that you're running when this happens?",2021-01-08T14:56:28Z
756829931,"@gaearon there are only 5 calls to fs promise APIs that were causing issues with the built in flow definitions. I've pushed f49efc8 which ignores types for those 5 calls so we can remove all the custom type information related to fs / promises and rely entirely on the built-in types elsewhere. Unsure if this approach is preferable, feel free to drop the commit and force push if you don't like the approach.",2021-01-08T15:52:16Z
756919985,"Sorry closed it by mistake. 

I added repo link and some more steps to reproduce it.",2021-01-08T18:20:55Z
756920903,"Good explanation @koba04, thanks!",2021-01-08T18:22:38Z
756922653,Thank you. That would be very helpful.,2021-01-08T18:26:06Z
756925267,"Do you mean the messenger.com homepage? That works for me.

<img width=""987"" alt=""Screen Shot 2021-01-08 at 1 31 13 PM"" src=""https://user-images.githubusercontent.com/2440089/104051229-d20e1200-51b5-11eb-8ae8-f6d4ec817a43.png"">
",2021-01-08T18:31:36Z
756926524,"Hey @joshuaellis, if you can't reproduce this without `testing-library`, I recommend tracking this in the issue you created there in https://github.com/testing-library/react-hooks-testing-library/issues/530. If this ends up being a bug in React let us know.",2021-01-08T18:34:00Z
756927241,"It just started working again for me, yet now it shows up with ""Anonymous""
under the compiler section, which is different then what I used to see.

Thank you for your help and quick response!

On Fri, Jan 8, 2021, 10:31 AM Ricky <notifications@github.com> wrote:

> Do you mean the messenger.com homepage? That works for me.
>
> [image: Screen Shot 2021-01-08 at 1 31 13 PM]
> <https://user-images.githubusercontent.com/2440089/104051229-d20e1200-51b5-11eb-8ae8-f6d4ec817a43.png>
>
> â€”
> You are receiving this because you authored the thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/facebook/react/issues/20562#issuecomment-756925267>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/AP6S4JIVHUPO7TP7TZJIJRLSY5FRVANCNFSM4V2Y6JBQ>
> .
>
",2021-01-08T18:35:21Z
756927727,"Also can't repro and React doesn't really touch CSS files directly @eps1lon says.

Closing until there's more information that shows this is a React issue.",2021-01-08T18:36:24Z
756935091,No sweat!,2021-01-08T18:52:57Z
756954021,"For another solution, using React hooks, you can still keep the state in the editable element, no need to move it up to the parent, and also fix the caret position too.

It's a hacky way to do it, but it works.

It fixes the caret positioning by getting the caret offset on the editable element using a ref, setting the state then setting that same caret offset back on the element ref after the state is updated.

It was tested in Chrome only, and for simple text content, but theoretically, it should work if the editable element contains child nodes too, I will test it and update the code pen.

https://codepen.io/feketegy/pen/RwGBgyq


",2021-01-08T19:35:07Z
756989204,"Encountered this issue while using an SVG image with many paths (in my case the 4631 paths are rendered ok, but when I add one more I got the dev tools error).

```
react_devtools_backend.js:5158 Uncaught RangeError: Maximum call stack size exceeded
    at shouldFilterFiber (react_devtools_backend.js:5158)
    at mountFiberRecursively (react_devtools_backend.js:5820)
    at mountFiberRecursively (react_devtools_backend.js:5880)
    at mountFiberRecursively (react_devtools_backend.js:5880)
    at mountFiberRecursively (react_devtools_backend.js:5880)
```

I import the svg using: ```import { ReactComponent as Map } from './map.svg';```
",2021-01-08T20:43:10Z
757056793,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20563/builds/93906) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 0e9ccb78c131f74faf7d2a7102d792170a3b653c:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-19p8f)| Configuration |
",2021-01-09T00:10:08Z
757057906,"
<!--
  0 failure: 
  1 warning:  Could not find bu...
  
  1 markdown notices
  DangerID: danger-id-stable;
-->


<table>
  <thead>
    <tr>
      <th width=""50""></th>
      <th width=""100%"" data-danger-table=""true"">Warnings</th>
    </tr>
  </thead>
  <tbody><tr>
      <td>:warning:</td>
      <td>Could not find build artifacts for base commit: 8e5adfbd7e605bda9c5e96c10e015b3dc0df688e</td>
    </tr>
  </tbody>
</table>


## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 0e9ccb78c131f74faf7d2a7102d792170a3b653c
</p>
",2021-01-09T00:14:53Z
757057938,"
<!--
  0 failure: 
  1 warning:  Could not find bu...
  
  1 markdown notices
  DangerID: danger-id-experimental;
-->


<table>
  <thead>
    <tr>
      <th width=""50""></th>
      <th width=""100%"" data-danger-table=""true"">Warnings</th>
    </tr>
  </thead>
  <tbody><tr>
      <td>:warning:</td>
      <td>Could not find build artifacts for base commit: 8e5adfbd7e605bda9c5e96c10e015b3dc0df688e</td>
    </tr>
  </tbody>
</table>


## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 0e9ccb78c131f74faf7d2a7102d792170a3b653c
</p>
",2021-01-09T00:15:03Z
757067862,how about set esModule to true ?,2021-01-09T01:02:05Z
757073240,"Your issue may be because your `__html` top most element is a `<p>` tag, and you are using `dangerouslySetInnerHTML` on a `<p>` tag.

I also ran into this issue, and found that using a outermost `<span>` tag fixes the issue.",2021-01-09T01:33:54Z
757108647,"> @pmidalwan https://github.com/mscdex/node-ftp ;)

Is this working with ReactJs or NodeJs?",2021-01-09T07:09:58Z
757120538,I'm not sure but it could be here because of IE11.,2021-01-09T09:11:31Z
757122454,"> I'm not sure but it could be here because of IE11.

I think the function might have made the compatibility for IE11.",2021-01-09T09:28:54Z
757129105,@robertpiosik Thanks for the feedback. I will close this,2021-01-09T10:29:38Z
757349019,"style={{ ""--border-color"": ""black"" }}, also solves the problem",2021-01-09T18:37:30Z
757359461,"Since these are all subjective nits that don't seem to alter or clarify the original meaning, I'm going to close. But thanks for your suggestions.",2021-01-09T20:00:29Z
757360324,"Since these are all subjective nits that don't seem to alter or clarify the original meaning, I'm going to close. But thanks for your suggestions.",2021-01-09T20:07:30Z
757370118,"In this instance yes, however the behaviour wanted is to actually ""unset"" the CSS variable, having the border change to black is merely the effect of unsetting.",2021-01-09T21:31:12Z
757401807,"Can you reproduce this issue with React only (not using Gatsby)? If not, then it's probably a Gatsby bug. Since you've filed it as a Gatsby bug, I suggest closing this issue (unless you're able to reduce the repro to be React only).",2021-01-10T02:29:18Z
757406524,"I have got the same error. My problem was the manual setting `this.updater = null` in my class constructor, but when I renamed it, problem solved.",2021-01-10T03:20:28Z
757417073,"Hi @CainKane! 

Thank you for your pull request and welcome to our community. We require contributors to sign our Contributor License Agreement, and we don't seem to have you on file.

In order for us to review and merge your code, please sign at <https://code.facebook.com/cla>. **If you are contributing on behalf of someone else (eg your employer)**, the individual CLA may not be sufficient and your employer may need to sign the corporate CLA.

If you have received this in error or have any questions, please contact us at [cla@fb.com](mailto:cla@fb.com?subject=CLA%20for%20facebook%2Freact%20%2320567). Thanks!",2021-01-10T05:04:54Z
757417397,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20567/builds/90050) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit faa4481c2da601658e7d3242df6a139654964492:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-kyeih)| Configuration |
",2021-01-10T05:07:07Z
757417669,"
<!--
  0 failure: 
  1 warning:  Could not find bu...
  
  1 markdown notices
  DangerID: danger-id-experimental;
-->


<table>
  <thead>
    <tr>
      <th width=""50""></th>
      <th width=""100%"" data-danger-table=""true"">Warnings</th>
    </tr>
  </thead>
  <tbody><tr>
      <td>:warning:</td>
      <td>Could not find build artifacts for base commit: ebb2253428315bfa3237df403082b0d2ec2f9c5c</td>
    </tr>
  </tbody>
</table>


## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against faa4481c2da601658e7d3242df6a139654964492
</p>
",2021-01-10T05:09:12Z
757417876,"
<!--
  0 failure: 
  1 warning:  Could not find bu...
  
  1 markdown notices
  DangerID: danger-id-stable;
-->


<table>
  <thead>
    <tr>
      <th width=""50""></th>
      <th width=""100%"" data-danger-table=""true"">Warnings</th>
    </tr>
  </thead>
  <tbody><tr>
      <td>:warning:</td>
      <td>Could not find build artifacts for base commit: ebb2253428315bfa3237df403082b0d2ec2f9c5c</td>
    </tr>
  </tbody>
</table>


## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against faa4481c2da601658e7d3242df6a139654964492
</p>
",2021-01-10T05:10:58Z
757443631,"Issue with Gatsby and hydration, I will close this.",2021-01-10T09:17:08Z
757494686,"> **Do you want to request a _feature_ or report a _bug_?**
> Bug/Question
> 
> **What is the current behavior?**
> When I retrieve a value from a useState hook inside a setTimeout function, the value is the one when the function was called and not when the code inside gets executed.
> 
> You can try here, just increase the counter then start the timeout and increase the counter again before the timeout expires.
> https://codesandbox.io/s/2190jjw6op
> 
> **What is the expected behavior?**
> Retrieving the updated state.
> If instead it's working as intended how I can retrieve the updated status?
> 
> **Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**
> 
> 16.7.0-alpha.0

another way does not use useRef is that you define a variable outside the react function component, and at the beginning of the function component, you need to update that variable to match the lastest state value, that is, no need to use useRef if you find it easier by this way, happy coding!",2021-01-10T15:28:48Z
757530657,"Thanks for your work, but these benchmarks for an isolated function without context are often [misleading](https://mrale.ph/blog/2014/12/24/array-length-caching.html). Happy to revisit if you can show that this function is the bottleneck in this code.",2021-01-10T19:33:00Z
757531814,"Hey @bglgwyng, thanks for taking time to write out this proposal.

Isn't this what [`React.memo`](https://reactjs.org/docs/react-api.html#reactmemo) does already?",2021-01-10T19:41:51Z
757587840,Also see: https://github.com/facebook/create-react-app/issues/7980,2021-01-11T01:57:57Z
757660578,"Thanks for the report.

As you already discovered, this issue was already reported in create-react-app where it was identified that the issue is with https://github.com/NMFR/optimize-css-assets-webpack-plugin (https://github.com/facebook/create-react-app/issues/7980#issuecomment-559534896).


I recommend opening an issue in https://github.com/NMFR/optimize-css-assets-webpack-plugin as this issue  is not actionable from within the React repository. A fix or workaround is only viable from the create-react-app or optimize-css-assets-webpack-plugin repository.",2021-01-11T06:52:46Z
757734259,"Hi @changwei0857! 

Thank you for your pull request and welcome to our community. We require contributors to sign our Contributor License Agreement, and we don't seem to have you on file.

In order for us to review and merge your code, please sign at <https://code.facebook.com/cla>. **If you are contributing on behalf of someone else (eg your employer)**, the individual CLA may not be sufficient and your employer may need to sign the corporate CLA.

If you have received this in error or have any questions, please contact us at [cla@fb.com](mailto:cla@fb.com?subject=CLA%20for%20facebook%2Freact%20%2320571). Thanks!",2021-01-11T08:45:20Z
757738994,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20571/builds/90336) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 6763a1cb0dfa5f2783c8cd88b294f9d6807f36f1:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-648zg)| Configuration |
",2021-01-11T08:48:44Z
757743991,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->



No significant bundle size changes to report.

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 6763a1cb0dfa5f2783c8cd88b294f9d6807f36f1
</p>
",2021-01-11T08:52:20Z
757744521,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->



No significant bundle size changes to report.

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 6763a1cb0dfa5f2783c8cd88b294f9d6807f36f1
</p>
",2021-01-11T08:52:42Z
757812415,"Thanks for the detailed report with reproduction!

If I understood it correctly then you're dispatching in the reducer. I would consider calling `dispatch` in a [reducer a side-effect which is not allowed in React](https://reactjs.org/docs/strict-mode.html#detecting-unexpected-side-effects). I think you need to wrap the `dispatch` and call the middleware when you want to dispatch not when you're ""reducing"".",2021-01-11T09:41:53Z
757813660,Please experiment with markdown (e.g. https://dillinger.io/) or pull requests (see https://docs.github.com/en/github/collaborating-with-issues-and-pull-requests/creating-a-pull-request for further documentation) on a personal repository. Opening PRs creates notifications for maintainers and everyone watching this repository.,2021-01-11T09:42:43Z
757819208,"Thanks for the report.

> It's mistakenly reporting warnings thinking the tests update the react state, but we don't.

It's not clear from the code you posted that the code isn't doing any state updates. Could you reduce this as much as possible so that we end up with a single test and every bit of component code visible in the repro? Otherwise it'll be very hard to identify how that false positive was produced.",2021-01-11T09:46:17Z
757854268,"Could you clarify what's a `react state update` in this context?

Every single test throw this warning, so any of them will be a good place to experiment. I can make a repro with the smallest possible code for easier understanding too, I'll do that now.",2021-01-11T10:18:26Z
757858260,I've updated the description and added a proper reproduction branch/PR on my own repository.,2021-01-11T10:25:48Z
757868321,"`React.memo` can't prevent _unmount-and-mount_ of `HeavyComponent`.
```jsx
const HeavyComponent = React.memo(() => {
  useEffect(() => { console.log(""mount!"") }, []);
  return <span>hi</span>
});
```
If `HeavyComponent` is implemented in this way, every time `state` in C changes, we'll see ""mount!"" message.",2021-01-11T10:45:42Z
757871223,"@bvaughn  never noticed it was possible to edit the keys. :)

Would something like double-clicking the key to make it editable be better? 

Looking at the sources tab in Chrome it is not possible to edit a variable name there when debugging. The same goes for the debug panel in VS Code.  Both of them supports collapse/extend when clicking the keys. 

In Chrome you double-click on the value to edit it; In VS Code you can double click on either key or value to edit the value.",2021-01-11T10:51:32Z
757888921,"Why not to simply expose functions like `renderA` and `renderB` instead?

Or you can expose default props for each variant:
```javascript
function Cmp() {
  const defaultProps = state ? defaultPropsA : defaultPropsB
  const props = {
    ...defaultProps,
    customProp: ""foo""
  }
  return <HeavyComponent {...props}>
}
```

Or pass a prop that denotes specific variant
```javascript
function HeavyComponentOfType({ type, ...props }) {
   switch (type) {
	case ""A"": return (<HeavyComponent someProp=""true"" {...props}>);
	case ""B"": return (<HeavyComponent someProp=""false"" {...props}>);
	default: (() => throw new Error('Unknown type'))()
   }
}
```",2021-01-11T11:24:37Z
757963274,"> Would something like double-clicking the key to make it editable be better?

No. I don't think double-clicking is a very intuitive gesture.

> Looking at the sources tab in Chrome it is not possible to edit a variable name there when debugging. The same goes for the debug panel in VS Code. Both of them supports collapse/extend when clicking the keys.

I don't think it makes sense conceptually to edit a variable name in the sources panel. (What would that even do?)

> In Chrome you double-click on the value to edit it; In VS Code you can double click on either key or value to edit the value.

I've designed the props/state/hooks editable interface to work like Chrome's style editor in the Elements panel. I think this is a pretty familiar interface for most web developers. That panel allows you to start editing by focusing on either a key or value field.",2021-01-11T13:50:01Z
758008070,"Cleaned this up a bit. My component organization here is still a little janky (e.g. the reason I have the memo-busting counter). I could refactor to move the context lower, within the suspense boundary, so that I could just cache on the object itself, but I noticed a lingering update that never completes (just re-renders at an interval) the first time I use `startTransition` to clear a warning.

Maybe I should do a more heavy refactor and try to remove this context entirely. _Something_ needs to poll for updates and refresh the cache but it doesn't necessarily need to be a context provider that sits above the Suspense boundary.

I may still be missing something about how the pieces for this kind of cache fit together. It's more complex than our fs/db cache implementations, since there are a couple of cases for invalidation (polled update from the backend, hydrated path, user clicked to clear errors/warnings). Normally I would refer to other places we're using the API but it seems like our `useCacheRefresh` API hasn't really been used for anything yet, outside of a couple of tests.",2021-01-11T15:03:33Z
758012979,"@rickhanlonii This issue is a variation of a request for reparenting support (#3965). Some components (subtrees) are expensive to create/destroy but there's no way to move them around other than destroying and recreating (and also lifting up/restoring any state that goes along with them).

I'm not sure the proposed mechanism makes sense to me though. In the very simplified example given, the proposal would be overkill obviouslyâ€“ and I'm not sure if it would make sense in a larger, more ""real world app"" context. Definitely seems like something that would need to go through our RFC process regardless: https://github.com/reactjs/rfcs#react-rfcs

That being said, the RFC process moves _very slowly_ due to our small team size.",2021-01-11T15:11:37Z
758055669,"The repro case you've provided isn't sufficient to trigger the error you've reported.

Here's a Code Sandbox:
https://codesandbox.io/s/tender-pasteur-bsil3?file=/src/App.js

Can you modify it so the bug can be reproduced?

By the way, you are not removing the ""mousewheel"" event listener in an effect cleanup function, which will be expected to cause a problem after the component unmounts.",2021-01-11T16:09:11Z
758065931,"I have the same issue, too. It's very annoying to get this warning any time I type `useEffect()` in VS Code.

<img width=""478"" alt=""Screenshot 2021-01-11 at 17 23 36"" src=""https://user-images.githubusercontent.com/31006608/104209254-bf077600-5431-11eb-8c2c-03677c5001a4.png"">

Thanks for fixing this! ðŸ™ ",2021-01-11T16:25:05Z
758196041,@bvaughn  how did you fix this issue?,2021-01-11T20:13:58Z
758198953,Thanks @ChrisRu for the fix!,2021-01-11T20:19:13Z
758199230,This was caused by a bug in scheduler that was fixed in #15567. I wouldn't guess it's related to what you're seeing (if you're seeing a bug in a product test).,2021-01-11T20:19:42Z
758288071,"3rd party libraries are outside of my direct control so I wouldn't want to be barraged by warnings I can't do anything about.  The only thing to do for 3rd party library warnings is to wait and see if there'll be a fix or switch the library for an alternative (assuming a suitable alternative exists).

The other issue is that [strict mode seems to break functionality](https://github.com/telerik/kendo-react/issues/651).

I'd love to keep using strict mode, but having to manually include every component except for the one component isn't very practical (at least for me).",2021-01-11T23:25:18Z
758294422,Going to land incrementally,2021-01-11T23:42:52Z
758296882,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20573/builds/90634) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit e973623daa139e93d94840e3c09aedb6fc1e0c90:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-yu360)| Configuration |
",2021-01-11T23:49:33Z
758297745,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->



No significant bundle size changes to report.

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against e973623daa139e93d94840e3c09aedb6fc1e0c90
</p>
",2021-01-11T23:51:56Z
758297859,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->



No significant bundle size changes to report.

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against e973623daa139e93d94840e3c09aedb6fc1e0c90
</p>
",2021-01-11T23:52:15Z
758298335,How is this stale? Something doesn't work. That's called a bug.,2021-01-11T23:53:39Z
758333581,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20574/builds/90828) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 4e7e36cbfdaac82cebdc59db601ff906483559b7:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-6uoy0)| Configuration |
",2021-01-12T01:32:35Z
758334254,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->



No significant bundle size changes to report.

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 4e7e36cbfdaac82cebdc59db601ff906483559b7
</p>
",2021-01-12T01:34:45Z
758334760,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->



No significant bundle size changes to report.

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 4e7e36cbfdaac82cebdc59db601ff906483559b7
</p>
",2021-01-12T01:36:19Z
758426215,"Close this issues because it's intended feature.

+ I changed to like this
```js
  const actions = {
    increase: () => {
      middleware({ type: ""INCREASE"", payload: 1 });
      return dispatch({ type: ""INCREASE"", payload: 1 });
    },
    substract: () => {
      middleware({ type: ""SUB"", payload: 1 });
      return dispatch({ type: ""SUB"", payload: 1 });
    }
  };
```",2021-01-12T06:02:56Z
758705302,"Hey @jcdang, thanks for submitting.

We only disable the console in the second call, you should still see logs from the first call.

> Starting with React 17, React automatically modifies the console methods like console.log() to silence the logs in the **second call** to lifecycle functions. 

If we didn't do this, the console would contain duplicate messages so we made the tradeoff to disable it in the second pass. This can have side effects, which we offer a [workaround for](https://github.com/facebook/react/issues/20090#issuecomment-715927125).",2021-01-12T14:48:09Z
758708946,"Can confirm this will happen in the long term (React 19+), but there's no formal timeline.

We'll give a fair amount of lead time before making the change.",2021-01-12T14:53:53Z
758714490,"> The other issue is that strict mode seems to break functionality.

To me, that indicates that `Grid` has a bug and `StrictMode` is making the bug's behavior occur in a reproducible way. That's one of the main purposes of strict mode and how it works.",2021-01-12T15:02:41Z
758748322,"Thinking about this more, shouldn't this be allowed:

```
function Component1() {
  try {
    useHook();
  } catch {
    // ignore catch
  }

  return <div />;
}
```
",2021-01-12T15:48:43Z
758760934,"Hi, I had this bug while trying to export a functional component upon declaring it.
```
export default Map = () => {...}
```
would fail, while:
```
const Map = () => {...}
```
then:
```
export default Map;
```
would work like a charm!

I don't know if there is any general provision against exporting a component upon declaring it, because it works fo me in other situations. If so, I would love to learn about the reason.

I'm using:
    ""react"": ""16.13.1"",
    ""react-native"": ""0.63.3"",",2021-01-12T16:07:46Z
758769735,"I'd agree regarding consistent usage for built-ins, but I think it might be confusing if some hooks are ""valid"" in a try-catch and others aren't (should a hook that just wraps a built-in be allowed? what if we call a built-in after a custom hook?). I don't have a strong preference either though.

Regarding the example: I don't think this should be allowed. If `useHook` throws internally because, e.g., we're accessing something on a `null`'d `useContext` field, we'd exit `useHook` early/conditionally before calling any remaining hooks in it.",2021-01-12T16:21:08Z
758772917,"I'm going to tag this as ""discussion"" but I don't think it's a complete enough proposal for much of a detailed discussion to take place. I still think it should be an RFC instead. That process kind of requires thinking through pros and cons a little more.

That being said, for a discussion to be fruitful here, I think we need at least one more realistic example. The original example shared doesn't really make much sense and so the proposal would not be needed. I'm not convinced that the proposal would make sense in a larger, more real-world application either, but maybe we could start off by looking at something more representative of one.",2021-01-12T16:25:53Z
758819304,"Hey @rickhanlonii thanks for the explanation.  You actually highlighted the underlying issue I am having!  I'm trying to write a child reconciler right now and eventually discovered the existence of the two passes.

Would you be able to direct me to the design/intent for this two-pass approach or maybe how to disable it for child-reconcilers in the tree?",2021-01-12T17:33:16Z
758837731,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->



No significant bundle size changes to report.

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 3ed789b477f73a6afc70f591aacb658648dc0f55
</p>
",2021-01-12T18:04:40Z
758840740,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->



No significant bundle size changes to report.

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 3ed789b477f73a6afc70f591aacb658648dc0f55
</p>
",2021-01-12T18:09:48Z
758841955,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20577/builds/90839) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 3ed789b477f73a6afc70f591aacb658648dc0f55:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-y8pon)| Configuration |
",2021-01-12T18:11:49Z
758844571,bump,2021-01-12T18:16:15Z
758893404,"Yea, I understand that, which is great for the author of the 3rd party lib, but not much I can do about it other than disable react strict mode for my entire app :) ",2021-01-12T19:46:17Z
758894862,"Which is probably what you should do (at least for now). `StrictMode` is providing a valuable signal in this case: the library you're using in your application is probably not going to work well in concurrent mode.
",2021-01-12T19:49:06Z
758964737,@michaelneu isn't that true whether or not the try/catch is used?,2021-01-12T20:48:47Z
758970285,"Sure! [Here's](https://github.com/facebook/react/pull/18430) the PR adding the double render in strict mode, [here's](https://github.com/facebook/react/issues/18426) the issue that inspired it, and [here's](https://github.com/facebook/react/pull/18547) the PR for ignoring the second log.",2021-01-12T20:52:17Z
759252976,"Hi @qianbaiduhai! 

Thank you for your pull request and welcome to our community. We require contributors to sign our Contributor License Agreement, and we don't seem to have you on file.

In order for us to review and merge your code, please sign at <https://code.facebook.com/cla>. **If you are contributing on behalf of someone else (eg your employer)**, the individual CLA may not be sufficient and your employer may need to sign the corporate CLA.

If you have received this in error or have any questions, please contact us at [cla@fb.com](mailto:cla@fb.com?subject=CLA%20for%20facebook%2Freact%20%2320578). Thanks!",2021-01-13T07:08:45Z
759255012,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20578/builds/91595) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 0d13591d0d5d22456275fc257759fb0d170113c8:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-vbvnl)| Configuration |
",2021-01-13T07:13:23Z
759255381,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->



No significant bundle size changes to report.

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 0d13591d0d5d22456275fc257759fb0d170113c8
</p>
",2021-01-13T07:14:14Z
759255846,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20579/builds/91591) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 33ef48fde1c924ac8b8901dd830600ad68ccb105:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-32wnl)| Configuration |
",2021-01-13T07:15:21Z
759255913,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->



No significant bundle size changes to report.

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 0d13591d0d5d22456275fc257759fb0d170113c8
</p>
",2021-01-13T07:15:32Z
759257496,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->



No significant bundle size changes to report.

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 33ef48fde1c924ac8b8901dd830600ad68ccb105
</p>
",2021-01-13T07:19:25Z
759257686,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->



No significant bundle size changes to report.

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 33ef48fde1c924ac8b8901dd830600ad68ccb105
</p>
",2021-01-13T07:19:54Z
759382054,"It is, but the problem is that try/catch silences the error. Consider this example:

```js
function useHook() {
  const x = useX();

  invariant(x != null, 'x should not be null');

  // if we're in a try/catch, this would be equivalent, but it's against the Rules of Hooks:
  // 
  //   if (x == null) {
  //     return;
  //   }

  return useComplexSum(x, x);
}
```

Without a try/catch, `invariant` would make the component fail to render, notifying React that there was an error (and bubbling it up to the error boundary). But with the try/catch, the `invariant` will cause `useHook` to exit before `useComplexSum` executes - leaving the `useState` and `useEffect` unexecuted while ""successfully"" rendering the component with fewer hooks (which yields a React warning).",2021-01-13T11:16:05Z
759494337,"@skitterm 
This turned off the rule for me, and I'm able to keep my config as well
https://stackoverflow.com/a/64565001/4125322",2021-01-13T14:44:48Z
759644967,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->



No significant bundle size changes to report.

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 6ea9ed6922859d940a37cd33f3cce4bfd8498d06
</p>
",2021-01-13T18:46:17Z
759645005,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->



No significant bundle size changes to report.

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 6ea9ed6922859d940a37cd33f3cce4bfd8498d06
</p>
",2021-01-13T18:46:22Z
759647199,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20581/builds/92098) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 6ea9ed6922859d940a37cd33f3cce4bfd8498d06:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-z33re)| Configuration |
",2021-01-13T18:50:29Z
759696136,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20582/builds/91801) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 17ec8b4672db4ca42942b4b70ffd2ac9e230e850:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-j0nuu)| Configuration |
",2021-01-13T19:45:06Z
759699819,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->



No significant bundle size changes to report.

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 17ec8b4672db4ca42942b4b70ffd2ac9e230e850
</p>
",2021-01-13T19:48:28Z
759699874,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->



No significant bundle size changes to report.

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 17ec8b4672db4ca42942b4b70ffd2ac9e230e850
</p>
",2021-01-13T19:48:33Z
759733634,I think this issue has resurface itself in react-dom@16.13.1 which pulls scheduler@0.19.1,2021-01-13T20:54:32Z
759835132,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->



No significant bundle size changes to report.

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against ed273c2594ac85e679deb593b2f31301a5993b6f
</p>
",2021-01-14T00:02:37Z
759835601,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->



No significant bundle size changes to report.

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against ed273c2594ac85e679deb593b2f31301a5993b6f
</p>
",2021-01-14T00:03:43Z
759840565,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20584/builds/91853) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit ed273c2594ac85e679deb593b2f31301a5993b6f:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-15jew)| Configuration |
",2021-01-14T00:18:25Z
759908048,"> Correct me if I'm wrong, but this is my understanding of one of the things that this intentionally helps solve.
> 
> `INCREMENT` is pure and `DECREMENT` is impure. Or maybe I'm not understanding those terms correctly. Either way, `DECREMENT` is not desired.
> 
> ```js
> const counterReducer = (state, action) => {
>   switch (action.type) {
>     case ""INCREMENT"":
>       return { ...state, count: state.count + 1 };
>     case ""DECREMENT"":
>       state.count = state.count - 1;
>       return { ...state };
>     case ""RESET"":
>       return { count: 0 };
>     default:
>       break;
>   }
> };
> 
> ...
> 
> dispatch({type: 'INCREMENT'}) // state.count: 1
> dispatch({type: 'INCREMENT'}) // state.count: 2
> dispatch({type: 'INCREMENT'}) // state.count: 3
> dispatch({type: 'INCREMENT'}) // state.count: 4
> dispatch({type: 'INCREMENT'}) // state.count: 5
> 
> dispatch({type: 'DECREMENT'}) // state.count: 3
> dispatch({type: 'DECREMENT'}) // state.count: 1
> dispatch({type: 'DECREMENT'}) // state.count: -1 
> ```
> 
> Here's a sandbox example: https://codesandbox.io/s/determined-fermat-lvqbv?file=/src/App.js

Have you figured it out? I have a similar issue.",2021-01-14T03:51:56Z
759908486,"> Can someone show me where is the impurity of my reducer?
> The first time addToBasket is called once (correct) but the following calls are twice causing the quantity to add 2 instead of 1.
> 
> If I remove StrictMode it works fine.
> 
> ```ts
> import React, { createContext, useContext, useReducer } from 'react';
> 
> export interface Product {
>   id: string;
>   title: string;
>   price: number;
>   quantity: number;
>   rating: number;
>   image: string;
> }
> 
> interface CartContextData {
>   basket: Product[];
>   totalItems: number;
>   subtotal: number;
> }
> 
> const initialState: CartContextData = {
>   basket: [],
>   totalItems: 0,
>   subtotal: 0,
> };
> 
> type Action = { type: 'ADD_TO_BASKET'; item: Omit<Product, 'quantity'> }
> 
> const CartContext = createContext<{
>   state: CartContextData;
>   dispatch: React.Dispatch<Action>;
> }>({
>   state: initialState,
>   dispatch: () => null,
> });
> 
> function fixDecimal(value: number) {
>   return Number(value.toFixed(2));
> }
> 
> function addToBasket(
>   state: CartContextData,
>   item: Omit<Product, 'quantity'>,
> ): CartContextData {
>   let newBasket = [...state.basket];
>   const index = newBasket.findIndex(product => product.id === item.id);
> 
>   console.log('called addToBasket');
> 
>   if (index < 0) {
>     newBasket = [...newBasket, { ...item, quantity: 1 }];
>   } else {
>     console.log('quantity before:', newBasket[index].quantity);
>     newBasket[index].quantity += 1;
>     console.log('quantity after:', newBasket[index].quantity);
>   }
> 
>   return {
>     ...state,
>     basket: newBasket,
>     totalItems: state.totalItems + 1,
>     subtotal: fixDecimal(state.subtotal + item.price),
>   };
> }
> 
> const reducer = (state: CartContextData, action: Action): CartContextData => {
>   switch (action.type) {
>     case 'ADD_TO_BASKET':
>       return addToBasket(state, action.item);
>     default:
>       return state;
>   }
> };
> 
> const CartProvider: React.FC = ({ children }) => {
>   const [state, dispatch] = useReducer(reducer, initialState);
> 
>   return (
>     <CartContext.Provider value={{ state, dispatch }}>
>       {children}
>     </CartContext.Provider>
>   );
> };
> 
> function useCart(): [CartContextData, React.Dispatch<Action>] {
>   const context = useContext(CartContext);
> 
>   if (!context) {
>     throw new Error('useCart must be used within an CartProvider');
>   }
> 
>   return [context.state, context.dispatch];
> }
> 
> export { CartProvider, useCart };
> ```
> 
> ```ts
> ...
> 
>   const [state, dispatch] = useCart();
> 
>   const addToBasket = useCallback(() => {
>     console.log('button clicked');
> 
>     dispatch({
>       type: 'ADD_TO_BASKET',
>       item: {
>         id,
>         title,
>         image,
>         price,
>         rating,
>       },
>     });
>   }, [dispatch, id, title, image, price, rating]);
> 
> ...
> ```
> 
> Log after clicking the button 3 times. The quantity should be 3 but is 5 due to the double calls
> 
> ```
> button clicked
> called addToBasket
> button clicked
> called addToBasket
> quantity before: 1
> quantity after: 2
> called addToBasket
> quantity before: 2
> quantity after: 3
> button clicked
> called addToBasket
> quantity before: 3
> quantity after: 4
> called addToBasket
> quantity before: 4
> quantity after: 5
> ```

Hi @paolorr , have you figured it out? I have implemented a similar cart reducer and encountered the same issue, have you figured out how to solve it?",2021-01-14T03:53:29Z
759916294,"@paolorr I have figured out the issue in my code.

Before:
```
// the issue here is that I mutate the quantity value.
cart.purchases[index] = {
  product: action.product,
  quantity: cart.purchases[index].quantity + 1,
};
```

After: 
```
// I was mutating purchases and now increment its quantity in an immutable way:
  const incrementPurchasesQuantity = (purchases: Purchase[], index: number) => {
      return [
        ...purchases.slice(0, index),
        { ...purchases[index], quantity: purchases[index].quantity + 1 },
        ...purchases.slice(index + 1),
      ];
  };


  cart = {
   shop,  // this is another field in cart, ignore it in this case
    purchases: incrementPurchasesQuantity(purchases, index),
  };

```
Hope it helps.
",2021-01-14T04:23:40Z
759929102,"I think the same issue is happening to me:

```
react_devtools_backend.js:5158 Uncaught RangeError: Maximum call stack size exceeded
    at shouldFilterFiber (react_devtools_backend.js:5158)
    at mountFiberRecursively (react_devtools_backend.js:5820)
    at mountFiberRecursively (react_devtools_backend.js:5871)
    at mountFiberRecursively (react_devtools_backend.js:5871)
    at mountFiberRecursively (react_devtools_backend.js:5880)
    at mountFiberRecursively (react_devtools_backend.js:5880)
    at mountFiberRecursively (react_devtools_backend.js:5880)
    at mountFiberRecursively (react_devtools_backend.js:5880)
    at mountFiberRecursively (react_devtools_backend.js:5880)
    at mountFiberRecursively (react_devtools_backend.js:5880)
```

I'm rendering (among other things) about 10k very small react elements

```jsx
function PlaceholderRow() {
  return (
    <tr className=""candidate-row"">
      <td colSpan=""10""></td>
    </tr>
  );
}
```

React Developer Tools 4.10.1 (12/4/2020)",2021-01-14T05:07:50Z
760003021,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20587/builds/92049) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit e522991c4172021e5d46c9ff4c3829eff2f57b0d:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-tmf8z)| Configuration |
",2021-01-14T08:01:06Z
760004467,"
<!--
  0 failure: 
  0 warning: 
  
  3 markdown notices
  DangerID: danger-id-stable;
-->




  <details>
  <summary>Details of bundled changes.</summary>

  <p>Comparing: a656ace8da6d005e49a750da3d9a3fd0fdcac76c...e522991c4172021e5d46c9ff4c3829eff2f57b0d</p>


  
## react-test-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-test-renderer.development.js | +0.1% | +0.1% | 617.23 KB | 617.64 KB | 130.18 KB | 130.28 KB | UMD_DEV
**react-test-renderer.production.min.js** | **0.0%** | **-0.0%** | **77.71 KB** | **77.72 KB** | **24.43 KB** | **24.43 KB** | **UMD_PROD**
ReactTestRenderer-dev.js | +0.1% | +0.1% | 597.76 KB | 598.15 KB | 129.54 KB | 129.64 KB | RN_FB_DEV
**ReactTestRenderer-prod.js** | **0.0%** | **:small_red_triangle:+0.1%** | **233.46 KB** | **233.56 KB** | **42.59 KB** | **42.61 KB** | **RN_FB_PROD**
ReactTestRenderer-profiling.js | 0.0% | 0.0% | 244.91 KB | 245.02 KB | 44.83 KB | 44.83 KB | RN_FB_PROFILING
react-test-renderer.development.js | +0.1% | +0.1% | 587.99 KB | 588.38 KB | 128.65 KB | 128.75 KB | NODE_DEV
**react-test-renderer.production.min.js** | **0.0%** | **0.0%** | **77.52 KB** | **77.53 KB** | **24.11 KB** | **24.11 KB** | **NODE_PROD**
ReactTestRenderer-dev.js | +0.1% | +0.1% | 603.17 KB | 603.56 KB | 129.92 KB | 130.03 KB | FB_WWW_DEV

## react-art
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactART-dev.js | +0.1% | +0.1% | 663.18 KB | 663.57 KB | 141.27 KB | 141.37 KB | FB_WWW_DEV
react-art.development.js | +0.1% | +0.1% | 676.62 KB | 677.03 KB | 144.21 KB | 144.31 KB | UMD_DEV
**react-art.production.min.js** | **0.0%** | **0.0%** | **109.84 KB** | **109.85 KB** | **34.1 KB** | **34.11 KB** | **UMD_PROD**
react-art.development.js | +0.1% | +0.1% | 578.47 KB | 578.87 KB | 126.34 KB | 126.43 KB | NODE_DEV
**react-art.production.min.js** | **0.0%** | **0.0%** | **74.83 KB** | **74.84 KB** | **23.27 KB** | **23.28 KB** | **NODE_PROD**
**ReactART-prod.js** | **0.0%** | **0.0%** | **249.52 KB** | **249.64 KB** | **44.4 KB** | **44.41 KB** | **FB_WWW_PROD**

## react-dom
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactDOM-profiling.js | 0.0% | 0.0% | 408.16 KB | 408.27 KB | 75.29 KB | 75.33 KB | FB_WWW_PROFILING
react-dom-server.browser.development.js | 0.0% | 0.0% | 143.17 KB | 143.17 KB | 36.66 KB | 36.67 KB | UMD_DEV
react-dom-server.node.development.js | 0.0% | 0.0% | 137.09 KB | 137.09 KB | 36.46 KB | 36.46 KB | NODE_DEV
**react-dom-server.browser.production.min.js** | **0.0%** | **0.0%** | **19.87 KB** | **19.87 KB** | **7.46 KB** | **7.46 KB** | **UMD_PROD**
**react-dom-server.node.production.min.js** | **0.0%** | **0.0%** | **20.19 KB** | **20.19 KB** | **7.58 KB** | **7.58 KB** | **NODE_PROD**
**react-dom-test-utils.production.min.js** | **0.0%** | **0.0%** | **13.68 KB** | **13.68 KB** | **5.26 KB** | **5.26 KB** | **NODE_PROD**
**ReactDOMTesting-prod.js** | **0.0%** | **0.0%** | **386.44 KB** | **386.59 KB** | **72.91 KB** | **72.92 KB** | **FB_WWW_PROD**
react-dom.development.js | 0.0% | +0.1% | 929.88 KB | 930.28 KB | 204.59 KB | 204.69 KB | UMD_DEV
**react-dom.production.min.js** | **0.0%** | **0.0%** | **119.14 KB** | **119.15 KB** | **39.09 KB** | **39.11 KB** | **UMD_PROD**
react-dom.profiling.min.js | 0.0% | 0.0% | 123.24 KB | 123.25 KB | 40.34 KB | 40.36 KB | UMD_PROFILING
react-dom.development.js | 0.0% | +0.1% | 884.91 KB | 885.3 KB | 201.94 KB | 202.04 KB | NODE_DEV
ReactDOMForked-dev.js | 0.0% | 0.0% | 1012.6 KB | 1012.99 KB | 224.74 KB | 224.83 KB | FB_WWW_DEV
**react-dom.production.min.js** | **0.0%** | **-0.0%** | **119.27 KB** | **119.28 KB** | **38.36 KB** | **38.35 KB** | **NODE_PROD**
**ReactDOMForked-prod.js** | **0.0%** | **0.0%** | **390.45 KB** | **390.61 KB** | **72.17 KB** | **72.18 KB** | **FB_WWW_PROD**
react-dom.profiling.min.js | 0.0% | -0.0% | 123.53 KB | 123.54 KB | 39.57 KB | 39.57 KB | NODE_PROFILING
ReactDOMForked-profiling.js | 0.0% | 0.0% | 408.17 KB | 408.28 KB | 75.29 KB | 75.33 KB | FB_WWW_PROFILING
ReactDOM-dev.js | 0.0% | 0.0% | 1012.59 KB | 1012.98 KB | 224.7 KB | 224.8 KB | FB_WWW_DEV
**ReactDOM-prod.js** | **0.0%** | **0.0%** | **390.44 KB** | **390.6 KB** | **72.17 KB** | **72.18 KB** | **FB_WWW_PROD**
react-dom-server.browser.development.js | 0.0% | 0.0% | 135.82 KB | 135.82 KB | 36.21 KB | 36.21 KB | NODE_DEV
**react-dom-server.browser.production.min.js** | **0.0%** | **0.0%** | **19.77 KB** | **19.77 KB** | **7.42 KB** | **7.42 KB** | **NODE_PROD**
react-dom-test-utils.development.js | 0.0% | 0.0% | 71.36 KB | 71.36 KB | 19.32 KB | 19.32 KB | UMD_DEV
**react-dom-test-utils.production.min.js** | **0.0%** | **0.0%** | **13.7 KB** | **13.7 KB** | **5.31 KB** | **5.32 KB** | **UMD_PROD**
**ReactDOMServer-prod.js** | **0.0%** | **0.0%** | **47.44 KB** | **47.44 KB** | **11.06 KB** | **11.06 KB** | **FB_WWW_PROD**
react-dom-test-utils.development.js | 0.0% | 0.0% | 66.17 KB | 66.17 KB | 18.8 KB | 18.8 KB | NODE_DEV
ReactDOMTesting-dev.js | 0.0% | 0.0% | 948.29 KB | 948.68 KB | 212.82 KB | 212.92 KB | FB_WWW_DEV

## react-native-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactNativeRenderer-profiling.js | 0.0% | -0.0% | 284.01 KB | 284.12 KB | 50.82 KB | 50.82 KB | RN_OSS_PROFILING
ReactFabric-profiling.js | 0.0% | 0.0% | 278.07 KB | 278.18 KB | 49.58 KB | 49.58 KB | RN_FB_PROFILING
ReactFabric-dev.js | +0.1% | +0.1% | 669.64 KB | 670.04 KB | 144.94 KB | 145.06 KB | RN_OSS_DEV
**ReactFabric-prod.js** | **0.0%** | **0.0%** | **266.27 KB** | **266.4 KB** | **47.36 KB** | **47.37 KB** | **RN_OSS_PROD**
ReactFabric-profiling.js | 0.0% | 0.0% | 278.11 KB | 278.22 KB | 49.6 KB | 49.6 KB | RN_OSS_PROFILING
ReactNativeRenderer-dev.js | +0.1% | +0.1% | 688.9 KB | 689.3 KB | 149.5 KB | 149.61 KB | RN_OSS_DEV
ReactFabric-dev.js | +0.1% | +0.1% | 675.05 KB | 675.44 KB | 145.82 KB | 145.94 KB | RN_FB_DEV
**ReactNativeRenderer-prod.js** | **0.0%** | **0.0%** | **272.43 KB** | **272.54 KB** | **48.54 KB** | **48.56 KB** | **RN_OSS_PROD**
**ReactFabric-prod.js** | **0.0%** | **0.0%** | **266.24 KB** | **266.37 KB** | **47.34 KB** | **47.35 KB** | **RN_FB_PROD**
ReactNativeRenderer-dev.js | +0.1% | +0.1% | 694.3 KB | 694.69 KB | 150.38 KB | 150.48 KB | RN_FB_DEV
**ReactNativeRenderer-prod.js** | **0.0%** | **0.0%** | **272.39 KB** | **272.5 KB** | **48.52 KB** | **48.54 KB** | **RN_FB_PROD**
ReactNativeRenderer-profiling.js | 0.0% | -0.0% | 283.96 KB | 284.08 KB | 50.8 KB | 50.8 KB | RN_FB_PROFILING

## react-reconciler
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-reconciler-reflection.development.js | 0.0% | 0.0% | 16 KB | 16 KB | 4.87 KB | 4.87 KB | NODE_DEV
**react-reconciler-reflection.production.min.js** | **0.0%** | **:small_red_triangle:+0.1%** | **2.62 KB** | **2.62 KB** | **1.13 KB** | **1.13 KB** | **NODE_PROD**
react-reconciler.development.js | +0.1% | +0.1% | 633.29 KB | 633.69 KB | 135.68 KB | 135.79 KB | NODE_DEV
**react-reconciler.production.min.js** | **0.0%** | **0.0%** | **84.31 KB** | **84.32 KB** | **26.1 KB** | **26.11 KB** | **NODE_PROD**
react-reconciler.profiling.min.js | 0.0% | +0.1% | 88.46 KB | 88.47 KB | 27.38 KB | 27.4 KB | NODE_PROFILING

  </details>
  

ReactDOM: size: 0.0%, gzip: 0.0%

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against e522991c4172021e5d46c9ff4c3829eff2f57b0d
</p>
",2021-01-14T08:04:13Z
760004773,"
<!--
  0 failure: 
  0 warning: 
  
  3 markdown notices
  DangerID: danger-id-experimental;
-->




  <details>
  <summary>Details of bundled changes.</summary>

  <p>Comparing: a656ace8da6d005e49a750da3d9a3fd0fdcac76c...e522991c4172021e5d46c9ff4c3829eff2f57b0d</p>


  
## react-test-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-test-renderer.development.js | +0.1% | +0.1% | 617.26 KB | 617.67 KB | 130.19 KB | 130.3 KB | UMD_DEV
**react-test-renderer.production.min.js** | **0.0%** | **-0.0%** | **77.73 KB** | **77.74 KB** | **24.44 KB** | **24.44 KB** | **UMD_PROD**
ReactTestRenderer-dev.js | +0.1% | +0.1% | 597.77 KB | 598.16 KB | 129.55 KB | 129.65 KB | RN_FB_DEV
**ReactTestRenderer-prod.js** | **0.0%** | **:small_red_triangle:+0.1%** | **233.47 KB** | **233.58 KB** | **42.59 KB** | **42.62 KB** | **RN_FB_PROD**
ReactTestRenderer-profiling.js | 0.0% | 0.0% | 244.92 KB | 245.03 KB | 44.84 KB | 44.84 KB | RN_FB_PROFILING
react-test-renderer.development.js | +0.1% | +0.1% | 588.01 KB | 588.41 KB | 128.67 KB | 128.76 KB | NODE_DEV
**react-test-renderer.production.min.js** | **0.0%** | **0.0%** | **77.54 KB** | **77.55 KB** | **24.13 KB** | **24.13 KB** | **NODE_PROD**
ReactTestRenderer-dev.js | +0.1% | +0.1% | 603.18 KB | 603.57 KB | 129.92 KB | 130.04 KB | FB_WWW_DEV

## react-art
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactART-dev.js | +0.1% | +0.1% | 653.17 KB | 653.56 KB | 139.24 KB | 139.34 KB | FB_WWW_DEV
react-art.development.js | +0.1% | +0.1% | 718.85 KB | 719.26 KB | 152.68 KB | 152.79 KB | UMD_DEV
**react-art.production.min.js** | **0.0%** | **0.0%** | **114.62 KB** | **114.62 KB** | **35.62 KB** | **35.63 KB** | **UMD_PROD**
react-art.development.js | +0.1% | +0.1% | 618.69 KB | 619.08 KB | 134.68 KB | 134.78 KB | NODE_DEV
**react-art.production.min.js** | **0.0%** | **0.0%** | **79.55 KB** | **79.56 KB** | **24.81 KB** | **24.82 KB** | **NODE_PROD**
**ReactART-prod.js** | **0.0%** | **0.0%** | **242.3 KB** | **242.42 KB** | **43.17 KB** | **43.18 KB** | **FB_WWW_PROD**

## react-dom
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactDOM-profiling.js | 0.0% | 0.0% | 396.69 KB | 396.8 KB | 73.44 KB | 73.46 KB | FB_WWW_PROFILING
react-dom-server.browser.development.js | 0.0% | 0.0% | 145.08 KB | 145.08 KB | 36.93 KB | 36.93 KB | UMD_DEV
react-dom-server.node.development.js | 0.0% | 0.0% | 138.89 KB | 138.89 KB | 36.75 KB | 36.75 KB | NODE_DEV
**react-dom-server.browser.production.min.js** | **0.0%** | **0.0%** | **20.42 KB** | **20.42 KB** | **7.57 KB** | **7.58 KB** | **UMD_PROD**
**react-dom-server.node.production.min.js** | **0.0%** | **0.0%** | **20.75 KB** | **20.75 KB** | **7.68 KB** | **7.68 KB** | **NODE_PROD**
**react-dom-test-utils.production.min.js** | **0.0%** | **0.0%** | **13.7 KB** | **13.7 KB** | **5.26 KB** | **5.27 KB** | **NODE_PROD**
**ReactDOMTesting-prod.js** | **0.0%** | **0.0%** | **373.22 KB** | **373.37 KB** | **70.7 KB** | **70.71 KB** | **FB_WWW_PROD**
react-dom.development.js | 0.0% | 0.0% | 982.39 KB | 982.79 KB | 214.56 KB | 214.67 KB | UMD_DEV
**react-dom.production.min.js** | **0.0%** | **:small_red_triangle:+0.1%** | **125.5 KB** | **125.51 KB** | **41.08 KB** | **41.1 KB** | **UMD_PROD**
react-dom.profiling.min.js | 0.0% | 0.0% | 131.17 KB | 131.17 KB | 42.8 KB | 42.81 KB | UMD_PROFILING
react-dom-unstable-fizz.browser.development.js | 0.0% | +0.1% | 5.15 KB | 5.15 KB | 1.75 KB | 1.76 KB | UMD_DEV
react-dom-unstable-fizz.node.development.js | 0.0% | +0.2% | 5.42 KB | 5.42 KB | 1.82 KB | 1.82 KB | NODE_DEV
react-dom.development.js | 0.0% | 0.0% | 934.93 KB | 935.32 KB | 211.87 KB | 211.97 KB | NODE_DEV
ReactDOMForked-dev.js | 0.0% | 0.0% | 987.01 KB | 987.41 KB | 219.96 KB | 220.06 KB | FB_WWW_DEV
**react-dom-unstable-fizz.browser.production.min.js** | **0.0%** | **:small_red_triangle:+0.3%** | **1.22 KB** | **1.22 KB** | **711 B** | **713 B** | **UMD_PROD**
**react-dom-unstable-fizz.node.production.min.js** | **0.0%** | **:small_red_triangle:+0.3%** | **1.17 KB** | **1.17 KB** | **665 B** | **667 B** | **NODE_PROD**
**react-dom.production.min.js** | **0.0%** | **0.0%** | **125.69 KB** | **125.7 KB** | **40.37 KB** | **40.38 KB** | **NODE_PROD**
**ReactDOMForked-prod.js** | **0.0%** | **0.0%** | **379.03 KB** | **379.2 KB** | **70.3 KB** | **70.32 KB** | **FB_WWW_PROD**
react-dom.profiling.min.js | 0.0% | 0.0% | 131.57 KB | 131.58 KB | 42.09 KB | 42.1 KB | NODE_PROFILING
ReactDOMForked-profiling.js | 0.0% | 0.0% | 396.7 KB | 396.81 KB | 73.45 KB | 73.46 KB | FB_WWW_PROFILING
react-dom-unstable-fizz.browser.development.js | 0.0% | +0.1% | 4.68 KB | 4.68 KB | 1.66 KB | 1.66 KB | NODE_DEV
ReactDOM-dev.js | 0.0% | 0.0% | 987.01 KB | 987.4 KB | 219.93 KB | 220.03 KB | FB_WWW_DEV
**react-dom-unstable-fizz.browser.production.min.js** | **0.0%** | **:small_red_triangle:+0.3%** | **1.01 KB** | **1.01 KB** | **615 B** | **617 B** | **NODE_PROD**
**ReactDOM-prod.js** | **0.0%** | **0.0%** | **379.02 KB** | **379.19 KB** | **70.29 KB** | **70.31 KB** | **FB_WWW_PROD**
react-dom-server.browser.development.js | 0.0% | 0.0% | 137.62 KB | 137.62 KB | 36.5 KB | 36.5 KB | NODE_DEV
**react-dom-server.browser.production.min.js** | **0.0%** | **0.0%** | **20.33 KB** | **20.33 KB** | **7.53 KB** | **7.53 KB** | **NODE_PROD**
react-dom-test-utils.development.js | 0.0% | 0.0% | 71.37 KB | 71.37 KB | 19.33 KB | 19.33 KB | UMD_DEV
**react-dom-test-utils.production.min.js** | **0.0%** | **0.0%** | **13.71 KB** | **13.71 KB** | **5.32 KB** | **5.32 KB** | **UMD_PROD**
**ReactDOMServer-prod.js** | **0.0%** | **0.0%** | **46.58 KB** | **46.58 KB** | **10.85 KB** | **10.85 KB** | **FB_WWW_PROD**
react-dom-test-utils.development.js | 0.0% | 0.0% | 66.18 KB | 66.18 KB | 18.81 KB | 18.81 KB | NODE_DEV
ReactDOMTesting-dev.js | 0.0% | +0.1% | 919.95 KB | 920.34 KB | 207.15 KB | 207.26 KB | FB_WWW_DEV

## react-native-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactNativeRenderer-profiling.js | 0.0% | -0.0% | 284.02 KB | 284.14 KB | 50.83 KB | 50.83 KB | RN_OSS_PROFILING
ReactFabric-dev.js | +0.1% | +0.1% | 669.66 KB | 670.05 KB | 144.95 KB | 145.07 KB | RN_OSS_DEV
**ReactFabric-prod.js** | **0.0%** | **0.0%** | **266.29 KB** | **266.42 KB** | **47.36 KB** | **47.38 KB** | **RN_OSS_PROD**
ReactFabric-profiling.js | 0.0% | 0.0% | 278.12 KB | 278.24 KB | 49.6 KB | 49.61 KB | RN_OSS_PROFILING
ReactNativeRenderer-dev.js | +0.1% | +0.1% | 688.92 KB | 689.31 KB | 149.51 KB | 149.61 KB | RN_OSS_DEV
**ReactNativeRenderer-prod.js** | **0.0%** | **0.0%** | **272.45 KB** | **272.55 KB** | **48.54 KB** | **48.57 KB** | **RN_OSS_PROD**

## react-reconciler
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-reconciler-reflection.development.js | 0.0% | 0.0% | 16.01 KB | 16.01 KB | 4.88 KB | 4.88 KB | NODE_DEV
**react-reconciler-reflection.production.min.js** | **0.0%** | **:small_red_triangle:+0.1%** | **2.63 KB** | **2.63 KB** | **1.13 KB** | **1.14 KB** | **NODE_PROD**
react-reconciler.development.js | +0.1% | +0.1% | 676.42 KB | 676.81 KB | 144.64 KB | 144.74 KB | NODE_DEV
**react-reconciler.production.min.js** | **0.0%** | **0.0%** | **89.54 KB** | **89.55 KB** | **27.69 KB** | **27.7 KB** | **NODE_PROD**
react-reconciler.profiling.min.js | 0.0% | 0.0% | 95.31 KB | 95.32 KB | 29.46 KB | 29.47 KB | NODE_PROFILING

  </details>
  

ReactDOM: size: 0.0%, gzip: 0.0%

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against e522991c4172021e5d46c9ff4c3829eff2f57b0d
</p>
",2021-01-14T08:04:58Z
760081891,"Thanks for the reproducible example!

You're logging twice:
1. `console.log(""roo"");` logs `""roo""`
2. `console.log(ref.current.say());` which logs the return value of `say()` which is `undefined` so you log `undefined`

In the title you're saying `ref.current` is `undefined` sometimes but in your repro `ref.current.say()` would crash if that would be the case.

> The expected behavior
> aways get roo

```diff
    say() {
      console.log(""roo"");
+     return ""roo""
    }
```

I don't see how this is related to React.",2021-01-14T09:44:33Z
760083394,"Thanks for the report

> Error happens while trying to use the profiler on my React app on Chrome

Could you elaborate a bit more on this point:

1. Does this happen with every app or just your app? If it only happens with your app can you reduce this to a minimal example and share with us?
2. What exact steps in the profiler lead to this error? 
",2021-01-14T09:47:16Z
760087939,"Thanks for the report. 

This looks familiar to https://github.com/facebook/react/issues/20359

> <script src=""https://cdnjs.cloudflare.com/ajax/libs/react/17.0.1/umd/react.<%=  process.env.NODE_ENV==='development'?'development':'production' %>.min.js""></script>

There is no `development.min.js`. You're probably never hitting this branch in the ternary and always use the production bundle. Mixing the React production bundle with the JSX dev bundle is already identified as the cause of https://github.com/facebook/react/issues/20359

Maybe your `NODE_ENV` isn't set at all? Usually the dev/prod flags are checked by `process.env.NODE_ENV !== 'production'`.

Could you share a cloneable repro that I can tinker with?",2021-01-14T09:55:56Z
760137511,"This should be reopened! The explanation here - why this issue is closed - is definitely wrong!
Yes there is a problem with standards compliance. But if standard compliance would be the reason for this issue, it would fail in dev mode, too! That's because the browser is always in production mode, whether react is in dev or not!

So there is definitely a fixable bug in react causing the dev mode to work different from production!
",2021-01-14T11:28:03Z
760179266,"This is old Chrome bug, I just open https://bugs.chromium.org/p/chromium/issues/detail?id=1166619 for it.",2021-01-14T12:55:27Z
760208457,"> (As a side note, I think we should start preparing semver releases using the prepare-release-from-ci script, too, and get rid of prepare-release-from-npm. I think downloading from npm was a neat idea originally, but because we already run npm pack before storing the artifacts in CI, there's really not much additional safety; the only safeguard it adds is the requirement that a ""next"" release must have already been published.)

What's the main motivation for this change? Seems like that's a nice safeguard, though it's admittedly not totally necessary. What additional benefit do we get from publishing from CI?",2021-01-14T13:50:24Z
760248754,"Thanks your debugging. As read  your express and rewrite my example code, I thank it may be other issue.

My opinion of this report is some times I call  `ref.current.foo()` as say, `ref.current.say()` , and got `null` or `undefined`.

I can understand the logic of this issue, the `ref.current` has been re-assigned to the default state. maybe anther componentâ€™s re-render cause it.

Iâ€™ll debug on my code first. So, let me close this issue, and say thanks again.
",2021-01-14T14:56:43Z
760297958,"> What's the main motivation for [getting rid of the prepare from npm script]? Seems like that's a nice safeguard, though it's admittedly not totally necessary. What additional benefit do we get from publishing from CI?

Not much other than fewer things to maintain, or accidentally subtly break.",2021-01-14T16:13:10Z
760298266,"@awibox @53jk1 and others, please merge it, I also want this feature;) Thanks!

1,5 years, why haven't merged?",2021-01-14T16:13:39Z
760302146,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20591/builds/92081) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 0602ce5ede4cdc0b951c4d684418961c0505002b:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-3hph4)| Configuration |
",2021-01-14T16:19:43Z
760302225,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->



No significant bundle size changes to report.

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 0602ce5ede4cdc0b951c4d684418961c0505002b
</p>
",2021-01-14T16:19:50Z
760302557,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->



No significant bundle size changes to report.

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 0602ce5ede4cdc0b951c4d684418961c0505002b
</p>
",2021-01-14T16:20:24Z
760322851,"If it helps anybody, this is how I solved it in my event handler

`event.relatedTarget?.click()`",2021-01-14T16:52:38Z
760347808,Reopening since the [PR that would implement this feature](https://github.com/facebook/react/pull/17473#issuecomment-760298266) is still open. ,2021-01-14T17:33:23Z
760430276,RESOLVED: The issue was caused by `@babel/plugin-transform-react-constant-elements` behaving unexpectantly. Removing this package resolved the issue.,2021-01-14T19:37:25Z
760688279,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20595/builds/92214) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit d75105b7747cf2d90e1a7ccc2c298ab5da2f2438:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-33jns)| Configuration |
",2021-01-15T06:41:27Z
760689254,"
<!--
  0 failure: 
  0 warning: 
  
  3 markdown notices
  DangerID: danger-id-experimental;
-->




  <details>
  <summary>Details of bundled changes.</summary>

  <p>Comparing: 42e04b46d19648968537a404f15cebc42b6fab54...d75105b7747cf2d90e1a7ccc2c298ab5da2f2438</p>


  
## react-dom
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactDOM-profiling.js | 0.0% | 0.0% | 396.8 KB | 396.8 KB | 73.46 KB | 73.46 KB | FB_WWW_PROFILING
react-dom-server.browser.development.js | 0.0% | 0.0% | 145.08 KB | 145.08 KB | 36.93 KB | 36.93 KB | UMD_DEV
**react-dom-server.browser.production.min.js** | **0.0%** | **0.0%** | **20.42 KB** | **20.42 KB** | **7.57 KB** | **7.58 KB** | **UMD_PROD**
**ReactDOMTesting-prod.js** | **0.0%** | **-0.0%** | **373.37 KB** | **373.37 KB** | **70.71 KB** | **70.71 KB** | **FB_WWW_PROD**
**react-dom.production.min.js** | **0.0%** | **0.0%** | **125.51 KB** | **125.51 KB** | **41.1 KB** | **41.1 KB** | **UMD_PROD**
react-dom.profiling.min.js | 0.0% | 0.0% | 131.17 KB | 131.17 KB | 42.81 KB | 42.81 KB | UMD_PROFILING
react-dom.development.js | 0.0% | 0.0% | 935.32 KB | 935.32 KB | 211.97 KB | 211.97 KB | NODE_DEV
ReactDOMForked-dev.js | +0.1% | +0.1% | 987.41 KB | 988.66 KB | 220.06 KB | 220.31 KB | FB_WWW_DEV
**react-dom.production.min.js** | **0.0%** | **0.0%** | **125.7 KB** | **125.7 KB** | **40.38 KB** | **40.38 KB** | **NODE_PROD**
**ReactDOMForked-prod.js** | **:small_red_triangle:+1.0%** | **:small_red_triangle:+1.0%** | **379.2 KB** | **383.09 KB** | **70.32 KB** | **71.05 KB** | **FB_WWW_PROD**
react-dom.profiling.min.js | 0.0% | 0.0% | 131.58 KB | 131.58 KB | 42.1 KB | 42.1 KB | NODE_PROFILING
ReactDOMForked-profiling.js | +1.2% | +1.1% | 396.81 KB | 401.75 KB | 73.46 KB | 74.28 KB | FB_WWW_PROFILING
react-dom-unstable-fizz.browser.development.js | 0.0% | +0.1% | 4.68 KB | 4.68 KB | 1.66 KB | 1.66 KB | NODE_DEV
ReactDOM-dev.js | 0.0% | 0.0% | 987.4 KB | 987.4 KB | 220.03 KB | 220.03 KB | FB_WWW_DEV
**react-dom-unstable-fizz.browser.production.min.js** | **0.0%** | **:small_red_triangle:+0.2%** | **1.01 KB** | **1.01 KB** | **616 B** | **617 B** | **NODE_PROD**
**react-dom-server.browser.production.min.js** | **0.0%** | **0.0%** | **20.33 KB** | **20.33 KB** | **7.53 KB** | **7.53 KB** | **NODE_PROD**
react-dom-test-utils.development.js | 0.0% | 0.0% | 71.37 KB | 71.37 KB | 19.33 KB | 19.33 KB | UMD_DEV
react-dom-test-utils.development.js | 0.0% | 0.0% | 66.18 KB | 66.18 KB | 18.81 KB | 18.81 KB | NODE_DEV
ReactDOMTesting-dev.js | 0.0% | 0.0% | 920.34 KB | 920.34 KB | 207.26 KB | 207.26 KB | FB_WWW_DEV

  </details>
  

ReactDOM: size: 0.0%, gzip: 0.0%

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against d75105b7747cf2d90e1a7ccc2c298ab5da2f2438
</p>
",2021-01-15T06:43:44Z
760689728,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->




  <details>
  <summary>Details of bundled changes.</summary>

  <p>Comparing: 42e04b46d19648968537a404f15cebc42b6fab54...d75105b7747cf2d90e1a7ccc2c298ab5da2f2438</p>


  
## react-dom
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactDOM-profiling.js | 0.0% | -0.0% | 408.27 KB | 408.27 KB | 75.33 KB | 75.33 KB | FB_WWW_PROFILING
react-dom-server.browser.development.js | 0.0% | 0.0% | 143.17 KB | 143.17 KB | 36.67 KB | 36.67 KB | UMD_DEV
react-dom-server.node.development.js | 0.0% | 0.0% | 137.09 KB | 137.09 KB | 36.46 KB | 36.46 KB | NODE_DEV
**react-dom-test-utils.production.min.js** | **0.0%** | **-0.0%** | **13.68 KB** | **13.68 KB** | **5.26 KB** | **5.26 KB** | **NODE_PROD**
**ReactDOMTesting-prod.js** | **0.0%** | **0.0%** | **386.59 KB** | **386.59 KB** | **72.92 KB** | **72.92 KB** | **FB_WWW_PROD**
react-dom.development.js | 0.0% | 0.0% | 930.28 KB | 930.28 KB | 204.69 KB | 204.69 KB | UMD_DEV
**react-dom.production.min.js** | **0.0%** | **0.0%** | **119.15 KB** | **119.15 KB** | **39.1 KB** | **39.1 KB** | **UMD_PROD**
react-dom.profiling.min.js | 0.0% | 0.0% | 123.25 KB | 123.25 KB | 40.36 KB | 40.36 KB | UMD_PROFILING
react-dom.development.js | 0.0% | 0.0% | 885.3 KB | 885.3 KB | 202.04 KB | 202.04 KB | NODE_DEV
ReactDOMForked-dev.js | +0.1% | +0.1% | 1012.99 KB | 1014.24 KB | 224.83 KB | 225.09 KB | FB_WWW_DEV
**react-dom.production.min.js** | **0.0%** | **0.0%** | **119.28 KB** | **119.28 KB** | **38.35 KB** | **38.35 KB** | **NODE_PROD**
**ReactDOMForked-prod.js** | **:small_red_triangle:+1.0%** | **:small_red_triangle:+1.0%** | **390.61 KB** | **394.5 KB** | **72.18 KB** | **72.91 KB** | **FB_WWW_PROD**
react-dom.profiling.min.js | 0.0% | 0.0% | 123.54 KB | 123.54 KB | 39.57 KB | 39.57 KB | NODE_PROFILING
ReactDOMForked-profiling.js | +1.2% | +1.1% | 408.28 KB | 413.22 KB | 75.33 KB | 76.13 KB | FB_WWW_PROFILING
react-dom-test-utils.development.js | 0.0% | 0.0% | 71.36 KB | 71.36 KB | 19.32 KB | 19.32 KB | UMD_DEV
ReactDOMServer-dev.js | 0.0% | 0.0% | 146.3 KB | 146.3 KB | 37.57 KB | 37.57 KB | FB_WWW_DEV
**ReactDOMServer-prod.js** | **0.0%** | **0.0%** | **47.44 KB** | **47.44 KB** | **11.06 KB** | **11.06 KB** | **FB_WWW_PROD**
react-dom-test-utils.development.js | 0.0% | 0.0% | 66.17 KB | 66.17 KB | 18.8 KB | 18.81 KB | NODE_DEV
ReactDOMTesting-dev.js | 0.0% | 0.0% | 948.68 KB | 948.68 KB | 212.92 KB | 212.92 KB | FB_WWW_DEV

  </details>
  

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against d75105b7747cf2d90e1a7ccc2c298ab5da2f2438
</p>
",2021-01-15T06:44:46Z
760700221,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20596/builds/92539) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit e35a7ee273098632896b3bef08d9922ad89a248c:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-7q3km)| Configuration |
",2021-01-15T07:10:13Z
760702294,"
<!--
  0 failure: 
  1 warning:  Build job for bas...
  
  1 markdown notices
  DangerID: danger-id-experimental;
-->


<table>
  <thead>
    <tr>
      <th width=""50""></th>
      <th width=""100%"" data-danger-table=""true"">Warnings</th>
    </tr>
  </thead>
  <tbody><tr>
      <td>:warning:</td>
      <td>Build job for base commit is still pending: 6132919bf2b8851382547b34a442e7e0c09c5697</td>
    </tr>
  </tbody>
</table>


## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against e35a7ee273098632896b3bef08d9922ad89a248c
</p>
",2021-01-15T07:15:23Z
760702461,"
<!--
  0 failure: 
  1 warning:  Could not find bu...
  
  1 markdown notices
  DangerID: danger-id-stable;
-->


<table>
  <thead>
    <tr>
      <th width=""50""></th>
      <th width=""100%"" data-danger-table=""true"">Warnings</th>
    </tr>
  </thead>
  <tbody><tr>
      <td>:warning:</td>
      <td>Could not find build artifacts for base commit: 6132919bf2b8851382547b34a442e7e0c09c5697</td>
    </tr>
  </tbody>
</table>


## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against e35a7ee273098632896b3bef08d9922ad89a248c
</p>
",2021-01-15T07:15:48Z
760788564,"I'm running into the same issue as @blixt above. I have a stateful non-React class for API accesses that I pass around the app, and I define a `useFetchAPI()` hook function inside of it that I only call from function components. It would be nice to not require adding explicit comments to disable ESLint for those lines.",2021-01-15T09:46:56Z
760799977,"Thanks for the report.

The problem is that you're re-creating the `img` DOM element on every render so after every render the `onLoad` effect will be fire. Since you cause a re-render with your `onLoad`, the component re-renders indefinitely.

The reason for that is [how React reconciles two UI trees](https://reactjs.org/docs/reconciliation.html#elements-of-different-types). If it finds two elements with a different type it throws a way the whole tree of the old element.

In your `App` you're returning `<RenderLogo />`. When React compares the old element with the new element it'll find that the component types are different and throws away the old tree created by the element. That old tree contains the `img` element so it mounts a new `img` element and a new `onLoad` event is fired. The element type changes because you create it inside the render function:

```js
const RenderLogo = () => {
  console.log(""Rendering logo!"");
  return <img onLoad={handleLoad} src={logo} />;
};

return <RenderLogo />; 
```

What you can do to avoid this, is move the `RenderLogo` outside of the `App` component and pass props to it instead:

```jsx
const RenderLogo = ({ logo, onLoad }) => {
  console.log(""Rendering logo!"");
  return <img onLoad={onLoad} src={logo} />;
};

export default function App() {
  ...
  return <RenderLogo logo={logo} onLoad={handleLoad} />
}
```

I hope that helps. Please let me know if anything is unclear.",2021-01-15T10:09:07Z
760816987,Duplicate of https://github.com/facebook/react/issues/20589,2021-01-15T10:35:34Z
760909367,Is the goal for this to eventually support `www-modern` and `www-classic` too?,2021-01-15T12:17:48Z
760932400,"Hello,
Your explanation, for the most part, makes total sense. I definitely understand in principle now that I set myself up for an infinite loop with the way that I structured RenderLogo.

That said, I do have one final question at this point. Why does setting a variable in the way that I did trigger a re-render of the screen? That's ultimately my biggest source of confusion at this point.

Thanks again for your help!",2021-01-15T13:09:06Z
760958756,"> Why does setting a variable in the way that I did trigger a re-render of the screen? 

It triggers a re-render if the received value in `setState(value)` is not equal (`Object.is` equality but ""referential equality"" is the relevant part here) to the current state. Since you call it with `setTestObject({test: 'This triggers an infinite loop'});` the received value is always different compared to the current value (`Object.is({test: 'This triggers an infinite loop'}, {test: 'This triggers an infinite loop'}); // returns false`). 

You can think of it in another way:
`setState` always triggers a re-render. However, in some scenarios it does not (it ""bails out"") which are described in [Hooks reference: Bailing out of a state update](https://reactjs.org/docs/hooks-reference.html#bailing-out-of-a-state-update)

About referential equality: https://dmitripavlutin.com/how-to-compare-objects-in-javascript/#1-referential-equality
About equality comparisons in JS: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Equality_comparisons_and_sameness",2021-01-15T14:01:46Z
760964122,"Ah, okay. That makes total sense. Thanks for the detailed explanation!",2021-01-15T14:11:27Z
761003231,"I've refactored the way the frontend loads component props/state/etc to hopefully make it better match the Suspense+cache model. Doing this gave up some of the small optimizations I'd added but hopefully the actual performance impact of that is minor and the overall ergonomic improvements of working with the cache API make this worth it.

The backend no longer remembers inspected paths. Instead, the frontend sends them every time and the backend sends a response with those paths. I've also added a new ""force"" parameter that the frontend can use to tell the backend to send a response even if the component hasn't rendered since the last time it asked. (This is used to get data for newly inspected paths.)

Here's an example scenario:

_Initial inspection..._
```
front |                                                      | back
      | -- ""inspect"" (id:1, paths:[], force:true) ---------> |
      | <------------------------ ""inspected"" (full-data) -- |
```
_1 second passes with no updates..._
```
      | -- ""inspect"" (id:1, paths:[], force:false) --------> |
      | <------------------------ ""inspected"" (no-change) -- |
```
_User clicks to expand a path, aka hydrate..._
```
      | -- ""inspect"" (id:1, paths:['foo'], force:true) ----> |
      | <------------------------ ""inspected"" (full-data) -- |
```
_1 second passes during which there is an update..._
```
      | -- ""inspect"" (id:1, paths:['foo'], force:false) ---> |
      | <----------------- ""inspectedElement"" (full-data) -- |
```

Note that CI is expected to fail at the moment because I have several tests to sort out still. Actual DevTools seems to be working though based on my testing.",2021-01-15T15:20:34Z
761019442,"Seems suspicious that it's only discovered many months after the 16.14 release. I'd bet that something is wrong with the polyfilling, but I don't know how exactly.

The symptom appears to mean that when `react` is initialized, `Symbol` polyfill is not yet there, but when `react-dom` is initialized, the `Symbol` polyfill has already run. This would cause them to not recognize each other. Can you check if this is correct, and why this might be happening?",2021-01-15T15:47:23Z
761020349,"Check the compiled code. I wonder if TS is inserting an import to `react/jsx-runtime` _before_ other imports, which would cause the polyfill to run too late.",2021-01-15T15:48:40Z
761035847,"You're right, there is a jsx-runtime before the polyfill import (if I read the minified file correctly), however it does not appear to be TS related as I have the same problem when creating another project using CRA but skipping the typescript template this time.

![image](https://user-images.githubusercontent.com/830794/104750749-c8a41d00-5754-11eb-91ba-c29525aca952.png)
This is from the non-TS version â˜ï¸ 

I do agree with you that it's really strange that it's taken this long for the problem to surface though - I've spent a good part of the day googling without finding anyone else having the same problem (in recent months) ðŸ¤· 
",2021-01-15T16:15:17Z
761046228,"All tests pass now except for ""_should poll for updates for the currently selected element_"" (in `inspectedElement-test`). That one's interesting because it seems like it _should_ be passing, except the transition+refresh that get scheduled never gets rendered. Will dig in more this afternoon.",2021-01-15T16:33:57Z
761069222,"So the easy workaround for now is to separate the file where you load the polyfill and the file where you use JSX.

```js
import 'react-app-polyfill/ie11';
import 'react-app-polyfill/stable';
import './renderApp'; // Call ReactDOM.render here
```

The upstream solution is to move the order of the imports, I think. I.e. make the transform put the JSX import last. Can you file an issue in Babel to discuss this?",2021-01-15T17:15:37Z
761069533,Going to close it here since the issue is not something we can fix in the _React library_ but it can be fixed in Babel and TS.,2021-01-15T17:16:11Z
761076161,"We had a previous report in https://github.com/facebook/react/issues/20481 which we moved to https://github.com/babel/babel/issues/12522.

The fix was merged but is not released yet. So the next release of `@babel/plugin-transform-react-jsx` should fix this.",2021-01-15T17:28:41Z
761147157,"You can avoid linting errors the following way:

```ts

// A helper hook that can allow a functional component to re-render when state changes.
const useTheThing = (key: string) => {
  const [thing, setThing] = useState(this.map[key])
  useEffect(() => { /* Register an event handler, etc. */ })
  return thing
}

class StatefulStuff {
    // ...
    // A bunch of stateful functionality that can change over time.
    // ...

    // âš ï¸ Pesonal note: not sure this is a good idea even thought the code is syntactically correct
    useTheThing = useTheThing;
}
```

TBH, I cannot imagine a real use case that would need a hook function inside a non-react class. Implementing things this way may lead to confusion by new contributors to the codebase, needlessly making the learning curve steeper.
",2021-01-15T19:29:57Z
761165629,"@kachkaev Rebinding the function might be a working solution, though as your example uses an arrow function it cannot be rebound and will not work. I think it can be made to work with a regular `function` statement though.

> TBH, I cannot imagine a real use case that would need a hook function inside a non-react class. Implementing things this way may lead to confusion by new contributors to the codebase, needlessly making the learning curve steeper.

I think a regular class does very little to confuse people â€“Â it's traditional JavaScript syntax. If the user understands hooks already, I don't think `instance.useThing(â€¦)` is a steeper learning curve than `useThing(â€¦)`. I *do* think working around a linter by moving methods outside the class could lead to confusion, though, so of course it would be nicer for the linter to allow defining hook methods in non-React component classes. But I think we're mostly theorizing here, so I can only speak for the use case at my company where we use these extensively.

I can also tell you about a real use case that we're actively using across our entire React codebase, which led to my comment in the first place:

```javascript
// (Very simplified to save space.)
export class FeatureSet {
    #activeConfig
    #listeners = new Map()
    constructor(config) {
        this.#activeConfig = { ...config }
    }
    update(changes) {
        for (const name in changes) {
            const variant = changes[name]
            this.#activeConfig[name] = variant
            const set = this.#listeners.get(name)
            if (!set) continue
            set.forEach(listener => listener(variant))
        }
    }
    useCondition(name, condition) {
        // This is a pretty involved hook that is hydration aware among other things
        // and uses internal state of FeatureSet so it would not be nice to move it out.
    }
    // more methods for inspecting state, adding listeners, etc
}

// Example use

// In some shared module:
const experiments = new FeatureSet({ checkoutEncouragement: ""off"" })

// In some app logic somewhere:
experiments.update({ checkoutEncouragement: ""on"" })

// Component:
function BuyButton() {
    const encourageUser = experiments.useCondition(""checkoutEncouragement"", v => v === ""on"")
    return <button>{encourageUser ? ""BUY NOW!"" : ""Continue""}</button>
}
```

This is pretty much how we use it, overly simplified of course. We have multiple types of feature sets (tracking platform, active features based on user profile, and experiments for testing). The class tracks several internals such as realtime updates to the current state, and also tracks build-time state for effective hydration of the application.

This could of course all be rewritten to use some singleton store that has functions accessing it, but it's not the ideal way to write it, and I see little reason to go to such efforts to appease a linter.",2021-01-15T19:54:02Z
761194893,"I'm sorry you experienced this bug! ðŸ™‡ 

Looks like this problem was already reported though (#19602) so I'm going to mark this issue as a duplicate and close it. If you have additional context that might help us repro this problem, please leave a comment on the other issue!

Thank you~",2021-01-15T21:00:02Z
761195954,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20600/builds/92541) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 6bc4eb649f5bef91c7fba97bbdd9f3ce38e1a1d6:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-tv3j6)| Configuration |
",2021-01-15T21:02:38Z
761197128,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->



No significant bundle size changes to report.

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 6bc4eb649f5bef91c7fba97bbdd9f3ce38e1a1d6
</p>
",2021-01-15T21:05:31Z
761197254,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->



No significant bundle size changes to report.

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 6bc4eb649f5bef91c7fba97bbdd9f3ce38e1a1d6
</p>
",2021-01-15T21:05:50Z
761197639,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20601/builds/92558) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit ae89c8afcf420edd9ab8b9f9f7b2aff113da882c:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-xxe2b)| Configuration |
",2021-01-15T21:06:46Z
761198831,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->



No significant bundle size changes to report.

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against ae89c8afcf420edd9ab8b9f9f7b2aff113da882c
</p>
",2021-01-15T21:10:00Z
761199296,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->



No significant bundle size changes to report.

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against ae89c8afcf420edd9ab8b9f9f7b2aff113da882c
</p>
",2021-01-15T21:11:09Z
761205309,"The only test that's failing now is this one:
```js
it('should poll for updates for the currently selected element', async done => {
  const Example = () => null;

  const container = document.createElement('div');
  await utils.actAsync(
    () => ReactDOM.render(<Example a={1} b=""abc"" />, container),
    false,
  );

  const id = ((store.getElementIDAtIndex(0): any): number);

  let inspectedElement = null;

  function Suspender({target}) {
    inspectedElement = useInspectedElement(id);
    return null;
  }

  let renderer;

  await utils.actAsync(() => {
    renderer = TestRenderer.create(
      <Contexts defaultSelectedElementID={id} defaultSelectedElementIndex={0}>
        <React.Suspense fallback={null}>
          <Suspender target={id} />
        </React.Suspense>
      </Contexts>,
    );
  }, false);
  expect(inspectedElement.props).toMatchInlineSnapshot(`
    Object {
      ""a"": 1,
      ""b"": ""abc"",
    }
  `);

  await utils.actAsync(
    () => ReactDOM.render(<Example a={2} b=""def"" />, container),
    false,
  );

  // Wait for our check-for-updates poll to get the new data.
  jest.runOnlyPendingTimers();
  await Promise.resolve();

  expect(inspectedElement.props).toMatchInlineSnapshot(`
    Object {
      ""a"": 2,
      ""b"": ""def"",
    }
  `);

  done();
});
```

The bit that waits for the check-for-updates poll works, in thatâ€“Â new data comes in and I refresh the cache, but that update never goes anywhere. React doesn't re-render `<Suspender>` afterward and so my test fails.

Interestingly the test passes if I include both of the following after the `ReactDOM` update render:
```js
// Wait for our check-for-updates poll to get the new data.
jest.runOnlyPendingTimers();
await Promise.resolve();

await utils.actAsync(
  () =>
    renderer.update(
      <Contexts
        defaultSelectedElementID={id}
        defaultSelectedElementIndex={0}>
        <React.Suspense fallback={null}>
          <Suspender target={id} />
        </React.Suspense>
      </Contexts>,
    ),
  false,
);
```

But if I only include one of the two, the test fails. It seems like either one should be sufficient by itself.",2021-01-15T21:25:30Z
761205321,"Hey!

We are seeing this issue being reported in Headless UI, (https://github.com/tailwindlabs/headlessui/issues/194).
I made a reproduction in codesandbox that showcases the issue for React 17.

- React reproduction: https://codesandbox.io/s/angry-wing-k4lif?file=/src/App.js
- Vanilla js expectation: https://codesandbox.io/s/currying-cache-mtso0?file=/src/index.js

I noticed that there was a PR for this (https://github.com/facebook/react/issues/17909), but the PR got closed because it had been reported as a bug for Mozilla https://github.com/facebook/react/issues/17909#issuecomment-579449775

However, I am seeing this issue in the following browsers (all tested on macOS Big Sur):

- Safari - Version 14.0.1 (16610.2.11.51.8)
- Brave - Version 1.18.75 Chromium: 87.0.4280.101 (Official Build) (x86_64)
- Google Chrome Canary - Version 89.0.4389.0 (Official Build) canary (x86_64)

What would be the next steps? Is there anything you want me to do (re-open that PR for example)?",2021-01-15T21:25:32Z
761213755,Okay. That test is still not great and I'd love to get input on how to resolve it. Otherwise I think this PR is ready for another set of eyes!,2021-01-15T21:42:32Z
761221023,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20602/builds/92559) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit d6d2baa4b65618e8a3e7bec81761175caa0458bd:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-wm1rc)| Configuration |
",2021-01-15T22:00:22Z
761221746,"
<!--
  0 failure: 
  0 warning: 
  
  3 markdown notices
  DangerID: danger-id-experimental;
-->




  <details>
  <summary>Details of bundled changes.</summary>

  <p>Comparing: 95feb0e701a5ae20996e8cc6c4acd0f504d5985a...d6d2baa4b65618e8a3e7bec81761175caa0458bd</p>


  
## react-dom
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactDOM-profiling.js | +1.3% | +1.1% | 396.8 KB | 402.16 KB | 73.46 KB | 74.3 KB | FB_WWW_PROFILING
**react-dom-server.browser.production.min.js** | **0.0%** | **-0.0%** | **20.42 KB** | **20.42 KB** | **7.57 KB** | **7.57 KB** | **UMD_PROD**
**react-dom-test-utils.production.min.js** | **0.0%** | **0.0%** | **13.7 KB** | **13.7 KB** | **5.26 KB** | **5.26 KB** | **NODE_PROD**
**ReactDOMTesting-prod.js** | **:small_red_triangle:+1.2%** | **:small_red_triangle:+1.0%** | **373.37 KB** | **378.02 KB** | **70.71 KB** | **71.42 KB** | **FB_WWW_PROD**
react-dom.development.js | -0.0% | -0.2% | 982.79 KB | 982.36 KB | 214.67 KB | 214.23 KB | UMD_DEV
**react-dom.production.min.js** | **:small_red_triangle:+0.5%** | **:small_red_triangle:+0.8%** | **125.51 KB** | **126.12 KB** | **41.1 KB** | **41.44 KB** | **UMD_PROD**
react-dom.profiling.min.js | +0.5% | +1.0% | 131.17 KB | 131.86 KB | 42.81 KB | 43.22 KB | UMD_PROFILING
react-dom-unstable-fizz.node.development.js | 0.0% | -0.1% | 5.42 KB | 5.42 KB | 1.82 KB | 1.82 KB | NODE_DEV
react-dom.development.js | -0.0% | -0.2% | 935.32 KB | 934.87 KB | 211.97 KB | 211.55 KB | NODE_DEV
ReactDOMForked-dev.js | 0.0% | -0.0% | 987.59 KB | 987.59 KB | 219.7 KB | 219.7 KB | FB_WWW_DEV
**react-dom-unstable-fizz.browser.production.min.js** | **0.0%** | **-0.1%** | **1.22 KB** | **1.22 KB** | **712 B** | **711 B** | **UMD_PROD**
**react-dom.production.min.js** | **:small_red_triangle:+0.5%** | **:small_red_triangle:+1.0%** | **125.7 KB** | **126.37 KB** | **40.37 KB** | **40.76 KB** | **NODE_PROD**
**ReactDOMForked-prod.js** | **0.0%** | **0.0%** | **383.54 KB** | **383.54 KB** | **71.09 KB** | **71.09 KB** | **FB_WWW_PROD**
react-dom.profiling.min.js | +0.5% | +1.2% | 131.58 KB | 132.28 KB | 42.1 KB | 42.61 KB | NODE_PROFILING
ReactDOMForked-profiling.js | 0.0% | -0.0% | 402.17 KB | 402.17 KB | 74.31 KB | 74.31 KB | FB_WWW_PROFILING
ReactDOM-dev.js | 0.0% | -0.2% | 987.4 KB | 987.58 KB | 220.03 KB | 219.67 KB | FB_WWW_DEV
**react-dom-unstable-fizz.browser.production.min.js** | **0.0%** | **-0.2%** | **1.01 KB** | **1.01 KB** | **616 B** | **615 B** | **NODE_PROD**
**ReactDOM-prod.js** | **:small_red_triangle:+1.1%** | **:small_red_triangle:+1.1%** | **379.19 KB** | **383.53 KB** | **70.31 KB** | **71.09 KB** | **FB_WWW_PROD**
react-dom-server.browser.development.js | 0.0% | -0.0% | 137.62 KB | 137.62 KB | 36.5 KB | 36.5 KB | NODE_DEV
**react-dom-server.browser.production.min.js** | **0.0%** | **-0.0%** | **20.33 KB** | **20.33 KB** | **7.53 KB** | **7.53 KB** | **NODE_PROD**
react-dom-test-utils.development.js | 0.0% | -0.0% | 71.37 KB | 71.37 KB | 19.33 KB | 19.33 KB | UMD_DEV
react-dom-test-utils.development.js | 0.0% | -0.0% | 66.18 KB | 66.18 KB | 18.81 KB | 18.81 KB | NODE_DEV
ReactDOMTesting-dev.js | -0.0% | -0.2% | 920.34 KB | 920.27 KB | 207.26 KB | 206.94 KB | FB_WWW_DEV

## react-native-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactNativeRenderer-profiling.js | +1.0% | +0.9% | 284.14 KB | 286.9 KB | 50.83 KB | 51.3 KB | RN_OSS_PROFILING
ReactFabric-dev.js | 0.0% | -0.3% | 670.05 KB | 670.15 KB | 145.07 KB | 144.67 KB | RN_OSS_DEV
**ReactFabric-prod.js** | **:small_red_triangle:+0.7%** | **:small_red_triangle:+0.7%** | **266.42 KB** | **268.15 KB** | **47.38 KB** | **47.71 KB** | **RN_OSS_PROD**
ReactFabric-profiling.js | +0.7% | +0.7% | 278.24 KB | 280.19 KB | 49.61 KB | 49.97 KB | RN_OSS_PROFILING
ReactNativeRenderer-dev.js | 0.0% | -0.3% | 689.31 KB | 689.4 KB | 149.61 KB | 149.22 KB | RN_OSS_DEV
**ReactNativeRenderer-prod.js** | **:small_red_triangle:+0.7%** | **:small_red_triangle:+0.9%** | **272.55 KB** | **274.45 KB** | **48.57 KB** | **49.02 KB** | **RN_OSS_PROD**

## react-test-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-test-renderer.development.js | -0.1% | -0.3% | 617.67 KB | 617.35 KB | 130.3 KB | 129.92 KB | UMD_DEV
**react-test-renderer.production.min.js** | **:small_red_triangle:+0.2%** | **:small_red_triangle:+0.9%** | **77.74 KB** | **77.91 KB** | **24.43 KB** | **24.66 KB** | **UMD_PROD**
ReactTestRenderer-dev.js | 0.0% | -0.2% | 598.16 KB | 598.25 KB | 129.65 KB | 129.33 KB | RN_FB_DEV
**ReactTestRenderer-prod.js** | **:small_red_triangle:+0.8%** | **:small_red_triangle:+1.0%** | **233.58 KB** | **235.52 KB** | **42.62 KB** | **43.04 KB** | **RN_FB_PROD**
ReactTestRenderer-profiling.js | +1.2% | +0.9% | 245.03 KB | 247.88 KB | 44.84 KB | 45.26 KB | RN_FB_PROFILING
react-test-renderer.development.js | -0.1% | -0.3% | 588.41 KB | 588.07 KB | 128.76 KB | 128.39 KB | NODE_DEV
**react-test-renderer.production.min.js** | **:small_red_triangle:+0.2%** | **:small_red_triangle:+0.6%** | **77.55 KB** | **77.71 KB** | **24.13 KB** | **24.28 KB** | **NODE_PROD**
ReactTestRenderer-dev.js | 0.0% | -0.3% | 603.57 KB | 603.59 KB | 130.04 KB | 129.69 KB | FB_WWW_DEV

## react-art
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactART-dev.js | 0.0% | -0.2% | 653.56 KB | 653.79 KB | 139.34 KB | 139.04 KB | FB_WWW_DEV
react-art.development.js | -0.1% | -0.3% | 719.26 KB | 718.87 KB | 152.79 KB | 152.38 KB | UMD_DEV
**react-art.production.min.js** | **:small_red_triangle:+0.1%** | **:small_red_triangle:+0.5%** | **114.62 KB** | **114.79 KB** | **35.63 KB** | **35.8 KB** | **UMD_PROD**
react-art.development.js | -0.1% | -0.3% | 619.08 KB | 618.68 KB | 134.78 KB | 134.35 KB | NODE_DEV
**react-art.production.min.js** | **:small_red_triangle:+0.2%** | **:small_red_triangle:+0.6%** | **79.56 KB** | **79.73 KB** | **24.82 KB** | **24.96 KB** | **NODE_PROD**
**ReactART-prod.js** | **:small_red_triangle:+0.9%** | **:small_red_triangle:+0.9%** | **242.42 KB** | **244.55 KB** | **43.18 KB** | **43.57 KB** | **FB_WWW_PROD**

## react-reconciler
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
**react-reconciler-reflection.production.min.js** | **0.0%** | **-0.1%** | **2.63 KB** | **2.63 KB** | **1.13 KB** | **1.13 KB** | **NODE_PROD**
react-reconciler.development.js | -0.1% | -0.3% | 676.81 KB | 676.36 KB | 144.74 KB | 144.25 KB | NODE_DEV
**react-reconciler.production.min.js** | **:small_red_triangle:+0.2%** | **:small_red_triangle:+0.7%** | **89.55 KB** | **89.74 KB** | **27.7 KB** | **27.9 KB** | **NODE_PROD**
react-reconciler.profiling.min.js | +0.2% | +0.6% | 95.32 KB | 95.52 KB | 29.47 KB | 29.66 KB | NODE_PROFILING

  </details>
  

ReactDOM: size: 0.0%, gzip: -0.0%

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against d6d2baa4b65618e8a3e7bec81761175caa0458bd
</p>
",2021-01-15T22:02:19Z
761222790,"
<!--
  0 failure: 
  0 warning: 
  
  3 markdown notices
  DangerID: danger-id-stable;
-->




  <details>
  <summary>Details of bundled changes.</summary>

  <p>Comparing: 95feb0e701a5ae20996e8cc6c4acd0f504d5985a...d6d2baa4b65618e8a3e7bec81761175caa0458bd</p>


  
## react-dom
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactDOM-profiling.js | +1.3% | +1.1% | 408.27 KB | 413.62 KB | 75.33 KB | 76.17 KB | FB_WWW_PROFILING
react-dom-server.browser.development.js | 0.0% | 0.0% | 143.17 KB | 143.17 KB | 36.66 KB | 36.66 KB | UMD_DEV
react-dom-server.node.development.js | 0.0% | 0.0% | 137.09 KB | 137.09 KB | 36.46 KB | 36.46 KB | NODE_DEV
**react-dom-server.browser.production.min.js** | **0.0%** | **0.0%** | **19.87 KB** | **19.87 KB** | **7.46 KB** | **7.46 KB** | **UMD_PROD**
**react-dom-server.node.production.min.js** | **0.0%** | **0.0%** | **20.19 KB** | **20.19 KB** | **7.58 KB** | **7.58 KB** | **NODE_PROD**
**react-dom-test-utils.production.min.js** | **0.0%** | **0.0%** | **13.68 KB** | **13.68 KB** | **5.25 KB** | **5.26 KB** | **NODE_PROD**
**ReactDOMTesting-prod.js** | **:small_red_triangle:+1.2%** | **:small_red_triangle:+1.0%** | **386.59 KB** | **391.24 KB** | **72.92 KB** | **73.64 KB** | **FB_WWW_PROD**
react-dom.development.js | -0.0% | -0.2% | 930.28 KB | 929.92 KB | 204.69 KB | 204.29 KB | UMD_DEV
**react-dom.production.min.js** | **:small_red_triangle:+0.5%** | **:small_red_triangle:+0.9%** | **119.15 KB** | **119.77 KB** | **39.1 KB** | **39.44 KB** | **UMD_PROD**
react-dom.profiling.min.js | +0.5% | +0.9% | 123.25 KB | 123.91 KB | 40.35 KB | 40.7 KB | UMD_PROFILING
react-dom.development.js | -0.0% | -0.2% | 885.3 KB | 884.92 KB | 202.04 KB | 201.66 KB | NODE_DEV
ReactDOMForked-dev.js | 0.0% | -0.0% | 1013.17 KB | 1013.17 KB | 224.48 KB | 224.48 KB | FB_WWW_DEV
**react-dom.production.min.js** | **:small_red_triangle:+0.6%** | **:small_red_triangle:+1.2%** | **119.28 KB** | **119.95 KB** | **38.35 KB** | **38.79 KB** | **NODE_PROD**
react-dom.profiling.min.js | +0.6% | +1.2% | 123.54 KB | 124.23 KB | 39.57 KB | 40.06 KB | NODE_PROFILING
ReactDOM-dev.js | 0.0% | -0.2% | 1012.98 KB | 1013.17 KB | 224.8 KB | 224.44 KB | FB_WWW_DEV
**ReactDOM-prod.js** | **:small_red_triangle:+1.1%** | **:small_red_triangle:+1.1%** | **390.6 KB** | **394.95 KB** | **72.18 KB** | **72.96 KB** | **FB_WWW_PROD**
react-dom-server.browser.development.js | 0.0% | 0.0% | 135.82 KB | 135.82 KB | 36.21 KB | 36.21 KB | NODE_DEV
**react-dom-server.browser.production.min.js** | **0.0%** | **0.0%** | **19.77 KB** | **19.77 KB** | **7.42 KB** | **7.42 KB** | **NODE_PROD**
react-dom-test-utils.development.js | 0.0% | -0.0% | 71.36 KB | 71.36 KB | 19.32 KB | 19.32 KB | UMD_DEV
**react-dom-test-utils.production.min.js** | **0.0%** | **0.0%** | **13.7 KB** | **13.7 KB** | **5.31 KB** | **5.31 KB** | **UMD_PROD**
ReactDOMTesting-dev.js | -0.0% | -0.2% | 948.68 KB | 948.61 KB | 212.92 KB | 212.6 KB | FB_WWW_DEV

## react-native-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactNativeRenderer-profiling.js | +1.0% | +0.9% | 284.12 KB | 286.89 KB | 50.82 KB | 51.29 KB | RN_OSS_PROFILING
ReactFabric-profiling.js | +0.7% | +0.7% | 278.18 KB | 280.14 KB | 49.58 KB | 49.95 KB | RN_FB_PROFILING
ReactFabric-dev.js | 0.0% | -0.3% | 670.04 KB | 670.14 KB | 145.06 KB | 144.66 KB | RN_OSS_DEV
**ReactFabric-prod.js** | **:small_red_triangle:+0.7%** | **:small_red_triangle:+0.7%** | **266.4 KB** | **268.14 KB** | **47.37 KB** | **47.7 KB** | **RN_OSS_PROD**
ReactFabric-profiling.js | +0.7% | +0.7% | 278.22 KB | 280.18 KB | 49.6 KB | 49.96 KB | RN_OSS_PROFILING
ReactNativeRenderer-dev.js | 0.0% | -0.3% | 689.3 KB | 689.38 KB | 149.61 KB | 149.21 KB | RN_OSS_DEV
ReactFabric-dev.js | 0.0% | -0.3% | 675.44 KB | 675.54 KB | 145.94 KB | 145.56 KB | RN_FB_DEV
**ReactNativeRenderer-prod.js** | **:small_red_triangle:+0.7%** | **:small_red_triangle:+0.9%** | **272.54 KB** | **274.43 KB** | **48.56 KB** | **49.01 KB** | **RN_OSS_PROD**
**ReactFabric-prod.js** | **:small_red_triangle:+0.7%** | **:small_red_triangle:+0.7%** | **266.37 KB** | **268.1 KB** | **47.35 KB** | **47.68 KB** | **RN_FB_PROD**
ReactNativeRenderer-dev.js | 0.0% | -0.3% | 694.69 KB | 694.78 KB | 150.48 KB | 150.09 KB | RN_FB_DEV
**ReactNativeRenderer-prod.js** | **:small_red_triangle:+0.7%** | **:small_red_triangle:+0.9%** | **272.5 KB** | **274.39 KB** | **48.54 KB** | **48.99 KB** | **RN_FB_PROD**
ReactNativeRenderer-profiling.js | +1.0% | +0.9% | 284.08 KB | 286.84 KB | 50.8 KB | 51.27 KB | RN_FB_PROFILING

## react-test-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-test-renderer.development.js | -0.1% | -0.3% | 617.64 KB | 617.32 KB | 130.28 KB | 129.9 KB | UMD_DEV
**react-test-renderer.production.min.js** | **:small_red_triangle:+0.2%** | **:small_red_triangle:+0.9%** | **77.72 KB** | **77.89 KB** | **24.42 KB** | **24.64 KB** | **UMD_PROD**
ReactTestRenderer-dev.js | 0.0% | -0.2% | 598.15 KB | 598.24 KB | 129.64 KB | 129.32 KB | RN_FB_DEV
**ReactTestRenderer-prod.js** | **:small_red_triangle:+0.8%** | **:small_red_triangle:+1.0%** | **233.56 KB** | **235.51 KB** | **42.61 KB** | **43.04 KB** | **RN_FB_PROD**
ReactTestRenderer-profiling.js | +1.2% | +0.9% | 245.02 KB | 247.86 KB | 44.83 KB | 45.25 KB | RN_FB_PROFILING
react-test-renderer.development.js | -0.1% | -0.3% | 588.38 KB | 588.04 KB | 128.75 KB | 128.38 KB | NODE_DEV
**react-test-renderer.production.min.js** | **:small_red_triangle:+0.2%** | **:small_red_triangle:+0.6%** | **77.53 KB** | **77.69 KB** | **24.11 KB** | **24.26 KB** | **NODE_PROD**
ReactTestRenderer-dev.js | 0.0% | -0.3% | 603.56 KB | 603.58 KB | 130.03 KB | 129.68 KB | FB_WWW_DEV

## react-art
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactART-dev.js | 0.0% | -0.2% | 663.57 KB | 663.8 KB | 141.37 KB | 141.06 KB | FB_WWW_DEV
react-art.development.js | -0.0% | -0.3% | 677.03 KB | 676.71 KB | 144.31 KB | 143.92 KB | UMD_DEV
**react-art.production.min.js** | **:small_red_triangle:+0.1%** | **:small_red_triangle:+0.6%** | **109.85 KB** | **110.01 KB** | **34.11 KB** | **34.3 KB** | **UMD_PROD**
react-art.development.js | -0.1% | -0.3% | 578.87 KB | 578.53 KB | 126.43 KB | 126.03 KB | NODE_DEV
**react-art.production.min.js** | **:small_red_triangle:+0.2%** | **:small_red_triangle:+0.8%** | **74.84 KB** | **75 KB** | **23.28 KB** | **23.45 KB** | **NODE_PROD**
**ReactART-prod.js** | **:small_red_triangle:+0.9%** | **:small_red_triangle:+0.9%** | **249.64 KB** | **251.76 KB** | **44.41 KB** | **44.82 KB** | **FB_WWW_PROD**

## react-reconciler
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-reconciler-reflection.development.js | 0.0% | -0.0% | 16 KB | 16 KB | 4.87 KB | 4.87 KB | NODE_DEV
**react-reconciler-reflection.production.min.js** | **0.0%** | **-0.1%** | **2.62 KB** | **2.62 KB** | **1.13 KB** | **1.13 KB** | **NODE_PROD**
react-reconciler.development.js | -0.1% | -0.3% | 633.69 KB | 633.3 KB | 135.79 KB | 135.32 KB | NODE_DEV
**react-reconciler.production.min.js** | **:small_red_triangle:+0.2%** | **:small_red_triangle:+0.7%** | **84.32 KB** | **84.5 KB** | **26.11 KB** | **26.3 KB** | **NODE_PROD**
react-reconciler.profiling.min.js | +0.2% | +0.6% | 88.47 KB | 88.68 KB | 27.4 KB | 27.57 KB | NODE_PROFILING

  </details>
  

ReactDOM: size: 0.0%, gzip: 0.0%

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against d6d2baa4b65618e8a3e7bec81761175caa0458bd
</p>
",2021-01-15T22:05:09Z
761430627,"This really does not need to be added to React, at all. It can stay in userland.",2021-01-16T05:13:08Z
761574705,"Hey @LazarPetrovic1,

That should work normally. Could you show us an example of what you are doing?

If your code is looking similar to this example:

```js
import React, { useState, useEffect } from 'react';
import axios from 'axios';
 
export const App = () => {
  const [data, setData] = useState({ hits: [] });
 
  useEffect(() => {
    const fetchData = async () => {
      const result = await axios(
        'https://hn.algolia.com/api/v1/search?query=redux',
      );
 
      setData(result.data);
    };
 
    fetchData();
  }, []);
 
  return (
    <ul>
      {data.hits.map(item => (
        <li key={item.objectID}>
          <a href={item.url}>{item.title}</a>
        </li>
      ))}
    </ul>
  );
}
```

This example is from this blog: [How to fetch data with React Hooks?](https://www.robinwieruch.de/react-hooks-fetch-data). It will probably solve the issue you are describing here.",2021-01-16T14:43:09Z
761591072,"The code above looks over-engineered to me. Iâ€™d recommend checking out this article: [Tidy TypeScript: Avoid traditional OOP patterns](https://fettblog.eu/tidy-typescript-avoid-traditional-oop/). You can also check out how [apollo-client](https://github.com/apollographql/apollo-client) or [react-query](https://github.com/tannerlinsley/react-query) are implemented. In short, they have class-based stateful cores with clean class-free react hooks around them.",2021-01-16T16:24:59Z
761599847,I am working on a bursh-able parallel coordinates graph with d3 v6 in react. I have the exact same issue: `Attempted import error: 'event' is not exported from 'd3-selection' (imported as 'currentEvent').`,2021-01-16T17:16:02Z
761600570,okay. 1 minute later I appear to have found an answer: like written in [this article](https://www.geeksforgeeks.org/d3-js-brushselection-function/)` let selected = d3.brushSelection(this);` should fix the problem,2021-01-16T17:20:49Z
761602220,"Still an issue, although less interesting the older it gets (e.g. we are dropping support for IE11 in a few months)",2021-01-16T17:31:57Z
761716728,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20604/builds/92703) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit e1192f430a788359feb35471e301861af0e188d1:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-hlywl)| Configuration |
",2021-01-17T02:16:12Z
761717140,"
<!--
  0 failure: 
  0 warning: 
  
  3 markdown notices
  DangerID: danger-id-stable;
-->




  <details>
  <summary>Details of bundled changes.</summary>

  <p>Comparing: 95feb0e701a5ae20996e8cc6c4acd0f504d5985a...e1192f430a788359feb35471e301861af0e188d1</p>


  
## react
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
**react-jsx-runtime.production.min.js** | **0.0%** | **:small_red_triangle:+0.2%** | **971 B** | **971 B** | **606 B** | **607 B** | **NODE_PROD**
react-jsx-runtime.profiling.min.js | 0.0% | +0.2% | 970 B | 970 B | 606 B | 607 B | NODE_PROFILING
React-profiling.js | +0.1% | -0.2% | 16.67 KB | 16.69 KB | 4.33 KB | 4.32 KB | FB_WWW_PROFILING
React-dev.js | +0.3% | +0.4% | 88.31 KB | 88.58 KB | 21.22 KB | 21.3 KB | RN_FB_DEV
**React-prod.js** | **-2.3%** | **-5.4%** | **16.93 KB** | **16.54 KB** | **4.49 KB** | **4.25 KB** | **RN_FB_PROD**
React-profiling.js | -2.3% | -5.4% | 16.93 KB | 16.54 KB | 4.49 KB | 4.25 KB | RN_FB_PROFILING
react-jsx-dev-runtime.development.js | 0.0% | 0.0% | 37.08 KB | 37.08 KB | 10.71 KB | 10.71 KB | NODE_DEV
**react-jsx-dev-runtime.production.min.js** | **0.0%** | **:small_red_triangle:+0.3%** | **465 B** | **465 B** | **321 B** | **322 B** | **NODE_PROD**
react-jsx-dev-runtime.profiling.min.js | 0.0% | +0.3% | 464 B | 464 B | 321 B | 322 B | NODE_PROFILING
react-jsx-runtime.development.js | 0.0% | 0.0% | 37.66 KB | 37.66 KB | 10.88 KB | 10.88 KB | NODE_DEV
react.development.js | +0.2% | +0.2% | 107.4 KB | 107.6 KB | 26.5 KB | 26.56 KB | UMD_DEV
react-unstable-shared-subset.development.js | 0.0% | +0.3% | 464 B | 464 B | 335 B | 336 B | NODE_DEV
**react.production.min.js** | **-0.2%** | **-0.4%** | **10.75 KB** | **10.73 KB** | **4.34 KB** | **4.32 KB** | **UMD_PROD**
**react-unstable-shared-subset.production.min.js** | **0.0%** | **:small_red_triangle:+0.7%** | **374 B** | **374 B** | **275 B** | **277 B** | **NODE_PROD**
react.profiling.min.js | -0.1% | -0.3% | 14.26 KB | 14.24 KB | 5.41 KB | 5.4 KB | UMD_PROFILING
react.development.js | +0.3% | +0.4% | 70.91 KB | 71.11 KB | 19.19 KB | 19.27 KB | NODE_DEV
**react.production.min.js** | **-0.3%** | **-0.7%** | **6.32 KB** | **6.3 KB** | **2.62 KB** | **2.6 KB** | **NODE_PROD**
React-dev.js | +0.3% | +0.3% | 96.65 KB | 96.9 KB | 23.57 KB | 23.64 KB | FB_WWW_DEV
**React-prod.js** | **:small_red_triangle:+0.1%** | **-0.2%** | **16.67 KB** | **16.69 KB** | **4.33 KB** | **4.32 KB** | **FB_WWW_PROD**

  </details>
  

React: size: -0.2%, gzip: -0.4%

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against e1192f430a788359feb35471e301861af0e188d1
</p>
",2021-01-17T02:20:17Z
761717162,"
<!--
  0 failure: 
  0 warning: 
  
  3 markdown notices
  DangerID: danger-id-experimental;
-->




  <details>
  <summary>Details of bundled changes.</summary>

  <p>Comparing: 95feb0e701a5ae20996e8cc6c4acd0f504d5985a...e1192f430a788359feb35471e301861af0e188d1</p>


  
## react
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
**react-jsx-runtime.production.min.js** | **0.0%** | **:small_red_triangle:+0.2%** | **984 B** | **984 B** | **614 B** | **615 B** | **NODE_PROD**
react-jsx-runtime.profiling.min.js | 0.0% | +0.2% | 983 B | 983 B | 614 B | 615 B | NODE_PROFILING
React-profiling.js | +0.1% | -0.2% | 16.53 KB | 16.55 KB | 4.29 KB | 4.28 KB | FB_WWW_PROFILING
React-dev.js | +0.3% | +0.4% | 87.32 KB | 87.59 KB | 20.99 KB | 21.07 KB | RN_FB_DEV
**React-prod.js** | **-2.3%** | **-5.4%** | **16.79 KB** | **16.39 KB** | **4.44 KB** | **4.21 KB** | **RN_FB_PROD**
React-profiling.js | -2.3% | -5.4% | 16.79 KB | 16.39 KB | 4.44 KB | 4.21 KB | RN_FB_PROFILING
react-jsx-dev-runtime.development.js | 0.0% | 0.0% | 37.05 KB | 37.05 KB | 10.69 KB | 10.7 KB | NODE_DEV
**react-jsx-dev-runtime.production.min.js** | **0.0%** | **:small_red_triangle:+0.3%** | **478 B** | **478 B** | **330 B** | **331 B** | **NODE_PROD**
react-jsx-dev-runtime.profiling.min.js | 0.0% | +0.3% | 477 B | 477 B | 330 B | 331 B | NODE_PROFILING
react-jsx-runtime.development.js | 0.0% | 0.0% | 37.64 KB | 37.64 KB | 10.87 KB | 10.87 KB | NODE_DEV
react.development.js | +0.2% | +0.3% | 109.38 KB | 109.58 KB | 26.83 KB | 26.9 KB | UMD_DEV
react-unstable-shared-subset.development.js | +0.3% | +0.4% | 66.05 KB | 66.25 KB | 18.01 KB | 18.08 KB | NODE_DEV
**react.production.min.js** | **:small_red_triangle:+0.1%** | **-0.4%** | **11.75 KB** | **11.77 KB** | **4.62 KB** | **4.61 KB** | **UMD_PROD**
**react-unstable-shared-subset.production.min.js** | **-0.5%** | **-0.7%** | **6.25 KB** | **6.22 KB** | **2.58 KB** | **2.57 KB** | **NODE_PROD**
react.profiling.min.js | +0.1% | -0.3% | 15.26 KB | 15.28 KB | 5.7 KB | 5.69 KB | UMD_PROFILING
react.development.js | +0.3% | +0.4% | 72.79 KB | 72.99 KB | 19.51 KB | 19.58 KB | NODE_DEV
**react.production.min.js** | **:small_red_triangle:+0.2%** | **-0.8%** | **7.41 KB** | **7.43 KB** | **2.91 KB** | **2.89 KB** | **NODE_PROD**
React-dev.js | +0.3% | +0.3% | 95.66 KB | 95.91 KB | 23.34 KB | 23.42 KB | FB_WWW_DEV
**React-prod.js** | **:small_red_triangle:+0.1%** | **-0.2%** | **16.53 KB** | **16.55 KB** | **4.29 KB** | **4.28 KB** | **FB_WWW_PROD**

  </details>
  

React: size: :small_red_triangle:+0.1%, gzip: -0.4%

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against e1192f430a788359feb35471e301861af0e188d1
</p>
",2021-01-17T02:20:29Z
761803268,"Hi @soumyadip007! 

Thank you for your pull request and welcome to our community. We require contributors to sign our Contributor License Agreement, and we don't seem to have you on file.

In order for us to review and merge your code, please sign at <https://code.facebook.com/cla>. **If you are contributing on behalf of someone else (eg your employer)**, the individual CLA may not be sufficient and your employer may need to sign the corporate CLA.

If you have received this in error or have any questions, please contact us at [cla@fb.com](mailto:cla@fb.com?subject=CLA%20for%20facebook%2Freact%20%2320605). Thanks!",2021-01-17T12:21:15Z
761803612,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20605/builds/92763) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit b8a28f67cd57ae6f6d047f5b8f25592ee954a912:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-vwy58)| Configuration |
",2021-01-17T12:23:40Z
761808446,Just hit this warning and realized that I actually do want to have undefined as the initial value otherwise how does the placeholder het rendered? The input box uses placeholder to render in case the initial value is undefined and setting the value to anything else stops the placeholder string from rendering.,2021-01-17T12:58:34Z
761823586,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20606/builds/92783) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 09b8fa9685a97076a78a24fc72ee4cbb5049af7c:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-j0l9s)| Configuration |
|[React (forked)](https://codesandbox.io/s/react-forked-jkzbu)| PR |
",2021-01-17T14:44:24Z
761823938,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->



No significant bundle size changes to report.

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 09b8fa9685a97076a78a24fc72ee4cbb5049af7c
</p>
",2021-01-17T14:47:10Z
761823979,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->



No significant bundle size changes to report.

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 09b8fa9685a97076a78a24fc72ee4cbb5049af7c
</p>
",2021-01-17T14:47:32Z
761853351,"Hi @Prasundas99! 

Thank you for your pull request and welcome to our community. We require contributors to sign our Contributor License Agreement, and we don't seem to have you on file.

In order for us to review and merge your code, please sign at <https://code.facebook.com/cla>. **If you are contributing on behalf of someone else (eg your employer)**, the individual CLA may not be sufficient and your employer may need to sign the corporate CLA.

If you have received this in error or have any questions, please contact us at [cla@fb.com](mailto:cla@fb.com?subject=CLA%20for%20facebook%2Freact%20%2320607). Thanks!",2021-01-17T18:01:55Z
761853843,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20607/builds/92799) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 0d75def6353b03075952e218af5db5b160b69280:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-lv6i5)| Configuration |
",2021-01-17T18:04:34Z
761854274,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->



No significant bundle size changes to report.

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 0d75def6353b03075952e218af5db5b160b69280
</p>
",2021-01-17T18:07:23Z
761854547,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->



No significant bundle size changes to report.

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 0d75def6353b03075952e218af5db5b160b69280
</p>
",2021-01-17T18:09:14Z
762065560,Ohh. Why didn't you mark this in the documentation for StrictMode?,2021-01-18T08:08:55Z
762197249,"@gaearon My understanding here is that the agreed solution for this is to introduce `defaultMuted` to be consistent.
Do you think this could be a ""good first issue"" to tackle by looking at other `default*` props or there is more than that?
Is somebody already working in that direction?",2021-01-18T11:46:09Z
762387373,"Sounds like a local issue considering:
> error An unexpected error occurred: ""registry.npmjs.org/react: error:0909006C:PEM routines:get_name:no start line"".
info If you think this is a bug, please open a bug report with the information provided in ""C:\Users\nadia\Desktop\MERN Stack\tinder-app\yarn-error.log"".

This indicates that you should open a bug report in https://github.com/yarnpkg/yarn/issues?q=is%3Aissue+is%3Aopen+sort%3Aupdated-desc

",2021-01-18T17:35:23Z
762388825,Sounds like this was also requested in https://github.com/facebook/react/issues/18945. Is there anything different between these two issues?,2021-01-18T17:38:52Z
762438985,"Seems exactly this. I haven't found it by search's I github (was not sure about what to type)

Thanks I close it",2021-01-18T19:40:53Z
762443635,"This doesn't sound like a bug. Since iframes are sandboxed from the parent page you shouldn't be able to access the parent page from an iframe. Going to close, but if you create a codesandbox reproducing the issue I'll take a closer look.",2021-01-18T19:53:25Z
762444243,Thanks but Node 16 is still pending and we'll want to confirm all our dev workflows work before enabling it.,2021-01-18T19:55:09Z
762445175,@Singha360 are you able to reproduce this without Hookstate to rule out Hookstate as the source of the issue?,2021-01-18T19:57:45Z
762446261,"As the error message states, there are three common user-errors that can cause this to happen. Closing as there is no code sample and the stated behavior works as expected. 

@LazarPetrovic1 if you still believe this is a bug in React and not in your code, please provide a codesandbox that reproduces it and I'll take a look.",2021-01-18T20:00:37Z
762451178,"Hey @mstill3, thanks for the suggestion and tests. Let's leave this in user-land though.",2021-01-18T20:13:28Z
762460790,"@rickhanlonii Using `React.useState` doesn't cause this issue. I wouldn't have opened an issue for this if it wasn't for the fact that the owner of hookstate mentioned [never having come across this error before](https://github.com/avkonst/hookstate/issues/123#issuecomment-761970835):

> The crash is somewhere within the devtools. And I think it is relatively recent issue as I have not seen it before and I am sure I used more than one state hook in many places.

So yes, this is somewhat of a Hookstate issue but it wasn't present in a previous version of React Dev Tools acording to the owner of Hookstate.",2021-01-18T20:38:33Z
762483494,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20612/builds/93148) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit fa037cf70f7a556c24516393acd310f5cddbd8a4:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-9ishm)| Configuration |
",2021-01-18T21:44:33Z
762484120,"Thanks for the repos @RobinMalfait.

Looks like the browser is firing the click event for the span in both the React and Vanilla examples. The difference is, React bubbles that click up to the button, which it shouldn't do according to [the spec](https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#concept-fe-disabled):

> A form control is disabled if... The element is a descendant of a fieldset element whose disabled attribute is specified, and is not a descendant of that fieldset element's first legend element child, if any... A form control that is disabled must prevent any click events that are queued on the user interaction task source from being dispatched on the element.

I've added a test for this in https://github.com/facebook/react/pull/20612 which should be failing. Unfortunately, a bug in JSDOM prevents click events from firing on _any_ child of a disabled fieldset (see [here](https://github.com/jsdom/jsdom/blob/master/lib/jsdom/living/helpers/form-controls.js#L37-L44)), so the test passes in our test suite.

I believe the handling should be added somewhere around [here](https://github.com/facebook/react/blob/376d5c1b5aa17724c5fea9412f8fcde14a7b23f1/packages/react-dom/src/events/getListener.js#L67) but @gaearon @trueadm or @sophiebits may have more context.

",2021-01-18T21:46:29Z
762484225,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->



No significant bundle size changes to report.

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against fa037cf70f7a556c24516393acd310f5cddbd8a4
</p>
",2021-01-18T21:46:48Z
762484276,"Note our whole approach to ""how to not fire events while disabled"" seems flawed and there's a bunch of bugs related to it. Just a note to whoever looks at this again to investigate it deeper than the latest symptom. ",2021-01-18T21:46:56Z
762484348,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->



No significant bundle size changes to report.

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against fa037cf70f7a556c24516393acd310f5cddbd8a4
</p>
",2021-01-18T21:47:08Z
762502731,"Confirmed.

@dimaqq do you want to put in a PR to fix it? You should be able to just change `newChild` to `Object.prototype.toString.call(newChild)` in the three or so places that this error is thrown.

That change would result in this message:

> Objects are not valid as a React child (found: [object Temporal.ZonedDateTime]). If you meant to render a collection of children, use an array instead.""",2021-01-18T22:50:28Z
762503405,"@Singha360 does Hookstate use React Hooks under the hood? If so, this issue should be reproducible with vanilla React. If not, and Hookstate is not using React, then it is not supported by React DevTools.",2021-01-18T22:53:03Z
762506540,"Hey @ievgennaida, thanks for the suggestion.

You can set the initial value of the state to the default value you want in a controlled component. If `defaultValue` was allowed, then it would violate the ""single source of truth"" aspect of controlled components because there would then be two sources of truth for the value.",2021-01-18T23:04:45Z
762507198,"@rickhanlonii it is indeed using React Hooks under the hood.

![image](https://user-images.githubusercontent.com/35334787/104969956-e45b2d80-59b7-11eb-88d3-ff37fcf45568.png)

And I tried reproducing it with React Hooks and no errors popped up.",2021-01-18T23:07:06Z
762511250,"Hey @eric-burel, thanks for submitting the issue.

By design, `react-test-renderer` doesn't use a browser environment or JSDOM, so it's not possible to provide an `attachTo` feature to attach to an element.

If you're using Jest in a JSDOM environment, you can use ReactDOM directly as in:

```js
import ReactDOM from ""react-dom"";
import { Map, TileLayer } from ""react-leaflet"";

let div = document.createElement('div');
document.body.appendChild(div);

ReactDOM.render(
  <Map>
    <TileLayer
      attribution='&copy; <a href=""http://osm.org/copyright"">OpenStreetMap</a> contributors'
      url=""https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png""
    />
  </Map>
, div);
```

But I would recommend using a DOM testing library like [react-testing-library](https://github.com/testing-library/react-testing-library) if this is something you want to do.


See the [Jest DOM Testing guide](https://jestjs.io/docs/en/tutorial-react#dom-testing) for more info.",2021-01-18T23:23:18Z
762511949,"I'm sorry you experienced this bug!

Looks like this problem was already reported though (#20197) so I'm going to mark this issue as a duplicate and close it. If you have additional context that might help us repro this problem, please leave a comment on the other issue!",2021-01-18T23:26:20Z
762513604,"@Singha360 thanks for the info!

I'm going to close this until there's a vanilla React reproduction case since, as you said, this works when using just React hooks.",2021-01-18T23:33:27Z
762523813,"@rickhanlonii Author of Hookstate is here. Hookstate uses two React hooks underneath useState and useEffect. There is no other special magic except specially maintained hash map to efficiently identify and notify (via a call to setState coming from React.useState) components affected by state change. This hash map gives React extraordinary performance boost, which you may not be seen before; see this demo of 10000 cells table state re-rending update to 1 cell every single millisecond - https://hookstate.js.org/docs/performance-frequent-updates. 

In relation to the reported bug. I disagree it was closed. And I am reopening it for the following reasons:

1. The bug happens with ONLY vanilla react hooks as Hookstate uses only vanilla react and 2 vanilla react hooks.
2. If you do not like the fact that there is a dependency to Hookstate, then copy index.ts from Hookstate to your project and use this instead of the Hookstate lib, and it will cause the crash in development tools. Would you like me to create such a reproducer repo for you?
3. Also, aren't you concerned that the crash stack trace points to the react dev tools code? I would thought that the code should be robust to the input it receives from various apps.
4. Moreover, the bug is reproducible if you simply add `React.useState(0)` - vanilla react hook - line to the sample React app: https://github.com/avkonst/hookstate/tree/master/docs/demos/todolist
![image](https://user-images.githubusercontent.com/3971413/104972656-3ef79680-5a57-11eb-8f06-7d8783e05914.png)
Otherwise it works fine. Should you be concerned that the addition of `React.useState(0)` is a part of the cause of the bug?
",2021-01-19T00:12:20Z
762524088,It seems like I do not have permissions to reopen it. Could you please reopen it?,2021-01-19T00:13:39Z
762533163,"Does using **useMemo** on _blockA_ and _blockB_ child components from the first example, prevent its rerender?",2021-01-19T00:47:03Z
762550193,"Concise version of this bug is opened: https://github.com/facebook/react/issues/20613
",2021-01-19T01:52:01Z
762550726,"@avkonst thanks for the detailed information, I'll reply on the new issue.",2021-01-19T01:54:05Z
762551561,"@avkonst thanks for submitting, continuing the discussion from https://github.com/facebook/react/issues/20609.

It's very common for stack traces to point to React internals where the issue is sourced in user code. Since you're the expert of the way your library works, can you strip down the example to use vanilla React?",2021-01-19T01:57:15Z
762554475,"> Does using **useMemo** on _blockA_ and _blockB_ child components from the first example, prevent its rerender?

No. That memoizes the JSX and can have a similar effect to `memo`. But it doesn't provide any sort of unique ID to the tree and React will not move the tree when it changes parents.",2021-01-19T02:08:00Z
762555210,"Have you seen the code in the demo repo? I stripped down the example to just that:
```tsx
export function useState() {
    React.useState(0);
    React.useEffect(() => {
        return () => {}
    });
}
```
This is vanilla react, there is nothing left from Hookstate really. And this hook causes the crash if used twice in a component. I can not make it smaller than this. Is it good enough?",2021-01-19T02:10:50Z
762556457,"Here is the complete reproducer in 16 lines of vanilla react code:

```tsx
import React from 'react';

function useState() {
    React.useState(0);
    React.useEffect(() => () => {});
}

function Counter() {
	useState();
	React.useState(0);
	return <div>Open React Dev Tools Components panel,
		click on Counter component and
		observe the crash in the logging console.</div>;
}

export default Counter;
```",2021-01-19T02:15:33Z
762558174,I have updated the original description too. There is nothing left from Hookstate in the above 16 lines of vanilla react code.,2021-01-19T02:20:25Z
762558516,Committed the same code sample to the demo repository now.,2021-01-19T02:21:30Z
762561214,"Issue reproduced, and it's a naming conflict? Renaming the custom hook to `useMyState` seems to work.
https://codesandbox.io/s/ecstatic-shockley-g1usv",2021-01-19T02:30:35Z
762561628,"Maybe naming. But devtools should not influence how I name my functions, right? Compiler is happy with this name, so why not...",2021-01-19T02:32:09Z
762561778,"@avkonst thanks a ton for following up and reducing the code down.

The issue is that DevTools errors when a custom hook is named `useState`. If you rename the custom hook in your example to `useStateCustom`, DevTools does not error.",2021-01-19T02:32:45Z
762562606,"@rickhanlonii, sure, but I can not rename the hook as it is the interface of the public library and I could not find better name originally. Hookstate.useState is in the different module and naming space than React.useState. It does not cause any conflict for the compiler and bundler, why should it for devtools. Hookstate.useState is the supercharged version of React.useState, hence named identically as it is nearly plug and play replacement.",2021-01-19T02:36:09Z
762563868,"Yeah, I agree, it probably shouldn't error but I don't have a much context as @bvaughn so let's wait to see what he says.

In the meantime, I've created a failing test here https://github.com/facebook/react/pull/20614.

Thanks again for reporting the issue and stripping down the issue so I could debug it quickly.",2021-01-19T02:40:48Z
762564027,"And thanks @dai-shi for debugging this as well, nice find!",2021-01-19T02:41:22Z
762564039,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20614/builds/93185) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 2834ddcc0e7fa1df918c4b92120924020248722c:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-0yvo2)| Configuration |
",2021-01-19T02:41:26Z
762564798,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->



No significant bundle size changes to report.

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 2834ddcc0e7fa1df918c4b92120924020248722c
</p>
",2021-01-19T02:43:59Z
762565311,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->



No significant bundle size changes to report.

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 2834ddcc0e7fa1df918c4b92120924020248722c
</p>
",2021-01-19T02:45:34Z
762578896,"my workaround try to be KISS by abuse self reference from JS context.

But it always point to latest, not sure what could it break in various mode and lifecycle in react.
At least it work in my case.

```
export default function useStableCallback<T extends (...args: any[]) => unknown>(callback: T): T {
  const ref = useRef({
    stableProxy: (...args: any) => {
      return ref.current.targetFunc(...args);
    },
    targetFunc: callback,
  });
  ref.current.targetFunc = callback;
  return ref.current.stableProxy as T;
}
```",2021-01-19T03:29:04Z
762628508,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20615/builds/94615) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit c0730375e404ea0da84e88ef149166e1f87d806d:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-teefn)| Configuration |
",2021-01-19T06:22:20Z
762629226,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->




  <details>
  <summary>Details of bundled changes.</summary>

  <p>Comparing: 0fd6805c6d0477be917d31949a73b3bbdccfe71c...c0730375e404ea0da84e88ef149166e1f87d806d</p>


  
## react-dom
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactDOM-profiling.js | 0.0% | -0.0% | 396.83 KB | 396.83 KB | 73.57 KB | 73.56 KB | FB_WWW_PROFILING
**react-dom-test-utils.production.min.js** | **0.0%** | **-0.0%** | **13.7 KB** | **13.7 KB** | **5.27 KB** | **5.26 KB** | **NODE_PROD**
react-dom.profiling.min.js | 0.0% | 0.0% | 129.95 KB | 129.95 KB | 42.49 KB | 42.49 KB | UMD_PROFILING
react-dom.development.js | 0.0% | -0.0% | 928.8 KB | 928.8 KB | 210.47 KB | 210.46 KB | NODE_DEV
ReactDOMForked-dev.js | +0.5% | +0.5% | 988.86 KB | 994.12 KB | 219.49 KB | 220.6 KB | FB_WWW_DEV
**react-dom.production.min.js** | **0.0%** | **0.0%** | **124.44 KB** | **124.44 KB** | **40.11 KB** | **40.11 KB** | **NODE_PROD**
**ReactDOMForked-prod.js** | **:small_red_triangle:+0.8%** | **:small_red_triangle:+0.8%** | **378.37 KB** | **381.29 KB** | **70.37 KB** | **70.94 KB** | **FB_WWW_PROD**
react-dom.profiling.min.js | 0.0% | 0.0% | 130.31 KB | 130.31 KB | 41.82 KB | 41.82 KB | NODE_PROFILING
ReactDOMForked-profiling.js | +0.7% | +0.8% | 396.84 KB | 399.76 KB | 73.57 KB | 74.15 KB | FB_WWW_PROFILING
**ReactDOM-prod.js** | **0.0%** | **-0.0%** | **378.36 KB** | **378.36 KB** | **70.37 KB** | **70.37 KB** | **FB_WWW_PROD**
ReactDOMServer-dev.js | 0.0% | -0.0% | 142.27 KB | 142.27 KB | 36.56 KB | 36.56 KB | FB_WWW_DEV
**react-dom-test-utils.production.min.js** | **0.0%** | **-0.0%** | **13.71 KB** | **13.71 KB** | **5.32 KB** | **5.32 KB** | **UMD_PROD**
**ReactDOMServer-prod.js** | **0.0%** | **-0.0%** | **46.58 KB** | **46.58 KB** | **10.85 KB** | **10.85 KB** | **FB_WWW_PROD**
ReactDOMTesting-dev.js | 0.0% | -0.0% | 914.5 KB | 914.5 KB | 205.85 KB | 205.85 KB | FB_WWW_DEV

  </details>
  

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against c0730375e404ea0da84e88ef149166e1f87d806d
</p>
",2021-01-19T06:24:13Z
762629389,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->




  <details>
  <summary>Details of bundled changes.</summary>

  <p>Comparing: 0fd6805c6d0477be917d31949a73b3bbdccfe71c...c0730375e404ea0da84e88ef149166e1f87d806d</p>


  
## react-dom
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactDOM-profiling.js | 0.0% | -0.0% | 408.3 KB | 408.3 KB | 75.37 KB | 75.37 KB | FB_WWW_PROFILING
react-dom-server.node.development.js | 0.0% | 0.0% | 137.09 KB | 137.09 KB | 36.46 KB | 36.46 KB | NODE_DEV
**react-dom-server.node.production.min.js** | **0.0%** | **0.0%** | **20.19 KB** | **20.19 KB** | **7.58 KB** | **7.58 KB** | **NODE_PROD**
**react-dom-test-utils.production.min.js** | **0.0%** | **-0.0%** | **13.68 KB** | **13.68 KB** | **5.26 KB** | **5.26 KB** | **NODE_PROD**
**ReactDOMTesting-prod.js** | **0.0%** | **0.0%** | **385.98 KB** | **385.98 KB** | **72.9 KB** | **72.9 KB** | **FB_WWW_PROD**
react-dom.development.js | 0.0% | -0.0% | 923.58 KB | 923.58 KB | 203.19 KB | 203.19 KB | UMD_DEV
**react-dom.production.min.js** | **0.0%** | **-0.0%** | **117.92 KB** | **117.92 KB** | **38.75 KB** | **38.75 KB** | **UMD_PROD**
react-dom.development.js | 0.0% | -0.0% | 878.85 KB | 878.85 KB | 200.63 KB | 200.63 KB | NODE_DEV
ReactDOMForked-dev.js | +0.5% | +0.5% | 1014.44 KB | 1019.7 KB | 224.27 KB | 225.4 KB | FB_WWW_DEV
**ReactDOMForked-prod.js** | **:small_red_triangle:+0.7%** | **:small_red_triangle:+0.8%** | **389.79 KB** | **392.67 KB** | **72.16 KB** | **72.73 KB** | **FB_WWW_PROD**
react-dom.profiling.min.js | 0.0% | 0.0% | 122.28 KB | 122.28 KB | 39.38 KB | 39.38 KB | NODE_PROFILING
ReactDOMForked-profiling.js | +0.7% | +0.7% | 408.31 KB | 411.2 KB | 75.37 KB | 75.93 KB | FB_WWW_PROFILING
ReactDOM-dev.js | 0.0% | -0.0% | 1014.43 KB | 1014.43 KB | 224.24 KB | 224.23 KB | FB_WWW_DEV
ReactDOMServer-dev.js | 0.0% | -0.0% | 146.3 KB | 146.3 KB | 37.57 KB | 37.57 KB | FB_WWW_DEV
**react-dom-test-utils.production.min.js** | **0.0%** | **-0.0%** | **13.7 KB** | **13.7 KB** | **5.32 KB** | **5.31 KB** | **UMD_PROD**
**ReactDOMServer-prod.js** | **0.0%** | **-0.0%** | **47.44 KB** | **47.44 KB** | **11.06 KB** | **11.06 KB** | **FB_WWW_PROD**
ReactDOMTesting-dev.js | 0.0% | -0.0% | 942.84 KB | 942.84 KB | 211.51 KB | 211.51 KB | FB_WWW_DEV

  </details>
  

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against c0730375e404ea0da84e88ef149166e1f87d806d
</p>
",2021-01-19T06:24:34Z
762652707,"yarn ok
npm not exec",2021-01-19T07:20:42Z
762702413,"Big thanks for this solution with `react-dom` only, what I wanted to avoid is a dependency to Enzyme which would be counter-productive. 
I am in the context of Storybook storyshots, which uses `react-test-renderer` as a default. Not sure how to switch the render mode for a specific story but I'll check that.
",2021-01-19T09:03:22Z
762747339,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->



No significant bundle size changes to report.

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 58a4d1cd61d605279522e2296be82a060083dcdc
</p>
",2021-01-19T10:21:23Z
762748208,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->



No significant bundle size changes to report.

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 58a4d1cd61d605279522e2296be82a060083dcdc
</p>
",2021-01-19T10:22:55Z
762751816,It seems like onSubmit isn't propagated,2021-01-19T10:29:30Z
762787715,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




Comparing: 1214b302e11b06f5fd11f2af20c20b2f26386827...56fcc69f66b86f12defc1e0b6578cd0895d66b14

## Critical size changes

Includes critical production bundles, as well as any change greater than 2%:


  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| oss-stable/react-dom/cjs/react-dom.production.min.js | **=** | 122.49 kB | 122.49 kB | = | 39.30 kB | 39.30 kB
| oss-experimental/react-dom/cjs/react-dom.production.min.js | **=** | 129.06 kB | 129.06 kB | = | 41.39 kB | 41.39 kB
| facebook-www/ReactDOM-prod.classic.js | **=** | 412.33 kB | 412.33 kB | = | 76.19 kB | 76.19 kB
| facebook-www/ReactDOM-prod.modern.js | **=** | 400.38 kB | 400.38 kB | = | 74.31 kB | 74.31 kB
| facebook-www/ReactDOMForked-prod.classic.js | **=** | 412.33 kB | 412.33 kB | = | 76.19 kB | 76.19 kB

## Significant size changes

Includes any change greater than 0.2%:

(No significant changes)

<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 56fcc69f66b86f12defc1e0b6578cd0895d66b14
</p>
",2021-01-19T11:39:33Z
762787982,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->



No significant bundle size changes to report.

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against ad46678fd19f328d1e2e37efd19d8cca70043a02
</p>
",2021-01-19T11:40:07Z
762788409,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20618/builds/93482) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit ad46678fd19f328d1e2e37efd19d8cca70043a02:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-3xpoq)| Configuration |
",2021-01-19T11:41:02Z
762791402,"> That test is still not great and I'd love to get input on how to resolve it.

@bvaughn Does https://github.com/facebook/react/pull/20618 help?",2021-01-19T11:47:32Z
762808155,"Thanks for the report.

Whenever you want to update state based on the current state, you should use [functional state updates](https://reactjs.org/docs/hooks-reference.html#functional-updates).

I applied this pattern to your codesandbox and it seems to result in the expected behavior: https://codesandbox.io/s/usestate-object-infinite-loop-forked-dk7vv

Does this solve your problem?",2021-01-19T12:23:20Z
762810836,Awesome!! yeah it will work for me. Thanks alot.,2021-01-19T12:28:52Z
762854298,"For googlers, this post is providing a satisfying solution with React Testing Library : https://stackoverflow.com/questions/52029273/using-react-testing-library-with-storyshots

After a first try, it feels more robust and faster to me than using Enzyme, in the context of Storyshots/Jest.",2021-01-19T13:55:58Z
762890472,"Thanks @acdlite! I wish I knew why [that one test](https://github.com/facebook/react/pull/20548#issuecomment-761205309) required such approach to pass, but I think that's something I can follow up with later.",2021-01-19T14:50:42Z
762898523,"Excellent. Thank you for pushing a test.

I'm rebasing this branch locally since it conflicts with some Suspense changes I made last week. I'll review it momentarily.",2021-01-19T15:02:11Z
762900476,"try to use a clean context with this [library](https://www.npmjs.com/package/react-hooks-in-callback)

see this  [code sandbox example](https://codesandbox.io/s/clean-context-example-5jgbn)

check also this [article](https://fernando-ekutsu.medium.com/react-context-without-unwanted-re-renders-bb5275edadd0)

actually, you can create a clean context with _**createContext**_ from **_react-hooks-in-callback_** 

![Screenshot 2021-01-19 at 15 53 49](https://user-images.githubusercontent.com/24588737/105050901-8c333280-5a6e-11eb-9bc2-015b8cddeead.png)

and use the **_useContextSelector_** hook to pick only the desired part from your context 

![Screenshot 2021-01-19 at 15 59 47](https://user-images.githubusercontent.com/24588737/105051891-838f2c00-5a6f-11eb-86cc-83f05ad6a977.png)

you can also _**filter out re-renders noise from derived context's hooks**_  like with this _formik_ example

![Screenshot 2021-01-19 at 15 49 38](https://user-images.githubusercontent.com/24588737/105050601-3e1e2f00-5a6e-11eb-84b1-bf745cca9b43.png)
 


",2021-01-19T15:04:49Z
762902101,Soon as CI passes I'll land this. Thanks again for the great investigation work and for your patience.,2021-01-19T15:07:23Z
762903019,"> > That test is still not great and I'd love to get input on how to resolve it.
> 
> @bvaughn Does https://github.com/facebook/react/pull/20618 help?

@eps1lon That comment was referring to [this](https://github.com/facebook/react/pull/20548#issuecomment-761205309) which is different.

Your findings with the inline snapshot are interesting though. So the real issue was the `async -> done()` callback? (Obviously the date formatting issue but that's separate.) Maybe we can discuss the pros and cons of that in a follow up PR :)
",2021-01-19T15:08:47Z
762905063,Thanks for the bug report and concise repo. I'll take a look this morning.,2021-01-19T15:11:44Z
762909933,bump,2021-01-19T15:18:27Z
762930389,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20620/builds/93421) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit a887dbe5dc80ffd5d80aedc4603b296e277c227d:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-ontbw)| Configuration |
",2021-01-19T15:47:47Z
762930586,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->



No significant bundle size changes to report.

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against a887dbe5dc80ffd5d80aedc4603b296e277c227d
</p>
",2021-01-19T15:48:05Z
762930616,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->



No significant bundle size changes to report.

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against a887dbe5dc80ffd5d80aedc4603b296e277c227d
</p>
",2021-01-19T15:48:07Z
762951522,Thanks!,2021-01-19T16:17:32Z
762965879,"@tettoffensive I am still working on linking the react-native part (react-spring is giving me issues), but checkout https://github.com/jottenlips/react-bones for a react-native-web storybook + CRA example. ",2021-01-19T16:39:09Z
762970883,"Ok, read this whole thread, didn't find what I was hoping to find: away to tell *React* to **NOT** use **passive event** on a specific element, or at least some way to tell *React* to bind a specific event on that element instead of on the root element (as a delegated event)

So, I want to stop the page from scrolling while the wheel (mouse for that matter) is being used over a specific range input field (`<input type=""range""/>`) and I hacked it like so:

https://stackoverflow.com/a/65795791/104380

Here's my copied answer from stackoverflow:

```js
const wheelTimeout = useRef()

const onWheel = e => {
    // ... some code I needed ...

    // while wheel is moving, do not release the lock
    clearTimeout(wheelTimeout.current)

    // flag indicating to lock page scrolling (setTimeout returns a number)
    wheelTimeout.current = setTimeout(() => {
      wheelTimeout.current = false
    }, 300)
}

// block the body from scrolling (or any other element)
useEffect(() => {
    const cancelWheel = e => wheelTimeout.current && e.preventDefault()
    document.body.addEventListener('wheel', cancelWheel, {passive:false})
    return () => document.body.removeEventListener('wheel', cancelWheel)
}, [])
```

Where `onWheel` is a callback for `<input type=""range"" wheel={onWheel} />`",2021-01-19T16:46:42Z
763041438,"
<!--
  0 failure: 
  0 warning: 
  
  3 markdown notices
  DangerID: danger-id-experimental;
-->




  <details>
  <summary>Details of bundled changes.</summary>

  <p>Comparing: af0bb68e87476c0d72ceb5ffed7263924ee18c10...4452907c335cdc55eb2cc49e588e386350ff0479</p>


  
## react-art
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactART-dev.js | -0.1% | -0.1% | 653.79 KB | 653.13 KB | 139.04 KB | 138.85 KB | FB_WWW_DEV
react-art.development.js | -0.0% | -0.1% | 718.87 KB | 718.67 KB | 152.38 KB | 152.3 KB | UMD_DEV
**react-art.production.min.js** | **0.0%** | **0.0%** | **114.79 KB** | **114.79 KB** | **35.81 KB** | **35.81 KB** | **UMD_PROD**
react-art.development.js | -0.0% | -0.0% | 618.68 KB | 618.48 KB | 134.35 KB | 134.29 KB | NODE_DEV
**react-art.production.min.js** | **0.0%** | **0.0%** | **79.73 KB** | **79.73 KB** | **24.96 KB** | **24.96 KB** | **NODE_PROD**
**ReactART-prod.js** | **:small_red_triangle:+0.7%** | **:small_red_triangle:+0.6%** | **244.55 KB** | **246.38 KB** | **43.58 KB** | **43.82 KB** | **FB_WWW_PROD**

## react-dom
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactDOM-profiling.js | 0.0% | 0.0% | 402.16 KB | 402.31 KB | 74.3 KB | 74.31 KB | FB_WWW_PROFILING
react-dom-server.browser.development.js | 0.0% | 0.0% | 145.08 KB | 145.08 KB | 36.93 KB | 36.93 KB | UMD_DEV
react-dom-server.node.development.js | 0.0% | 0.0% | 138.89 KB | 138.89 KB | 36.75 KB | 36.75 KB | NODE_DEV
**react-dom-server.browser.production.min.js** | **0.0%** | **0.0%** | **20.42 KB** | **20.42 KB** | **7.57 KB** | **7.58 KB** | **UMD_PROD**
**react-dom-server.node.production.min.js** | **0.0%** | **0.0%** | **20.75 KB** | **20.75 KB** | **7.68 KB** | **7.69 KB** | **NODE_PROD**
react-dom.development.js | -0.0% | -0.0% | 982.36 KB | 982.16 KB | 214.23 KB | 214.17 KB | UMD_DEV
**react-dom.production.min.js** | **0.0%** | **0.0%** | **126.12 KB** | **126.12 KB** | **41.44 KB** | **41.44 KB** | **UMD_PROD**
react-dom.profiling.min.js | 0.0% | 0.0% | 131.86 KB | 131.86 KB | 43.22 KB | 43.22 KB | UMD_PROFILING
react-dom-unstable-fizz.browser.development.js | 0.0% | +0.1% | 5.15 KB | 5.15 KB | 1.76 KB | 1.76 KB | UMD_DEV
react-dom-unstable-fizz.node.development.js | 0.0% | +0.1% | 5.42 KB | 5.42 KB | 1.82 KB | 1.82 KB | NODE_DEV
react-dom.development.js | -0.0% | -0.0% | 934.87 KB | 934.68 KB | 211.56 KB | 211.49 KB | NODE_DEV
ReactDOMForked-dev.js | -0.1% | -0.1% | 987.59 KB | 986.93 KB | 219.7 KB | 219.53 KB | FB_WWW_DEV
**react-dom-unstable-fizz.browser.production.min.js** | **0.0%** | **:small_red_triangle:+0.3%** | **1.22 KB** | **1.22 KB** | **711 B** | **713 B** | **UMD_PROD**
**react-dom-unstable-fizz.node.production.min.js** | **0.0%** | **:small_red_triangle:+0.5%** | **1.17 KB** | **1.17 KB** | **665 B** | **668 B** | **NODE_PROD**
**react-dom.production.min.js** | **0.0%** | **0.0%** | **126.37 KB** | **126.37 KB** | **40.76 KB** | **40.76 KB** | **NODE_PROD**
**ReactDOMForked-prod.js** | **0.0%** | **0.0%** | **383.54 KB** | **383.7 KB** | **71.09 KB** | **71.12 KB** | **FB_WWW_PROD**
react-dom.profiling.min.js | 0.0% | 0.0% | 132.28 KB | 132.28 KB | 42.61 KB | 42.61 KB | NODE_PROFILING
ReactDOMForked-profiling.js | 0.0% | 0.0% | 402.17 KB | 402.32 KB | 74.31 KB | 74.32 KB | FB_WWW_PROFILING
react-dom-unstable-fizz.browser.development.js | 0.0% | +0.1% | 4.68 KB | 4.68 KB | 1.66 KB | 1.66 KB | NODE_DEV
ReactDOM-dev.js | -0.1% | -0.1% | 987.58 KB | 986.92 KB | 219.67 KB | 219.49 KB | FB_WWW_DEV
**react-dom-unstable-fizz.browser.production.min.js** | **0.0%** | **:small_red_triangle:+0.5%** | **1.01 KB** | **1.01 KB** | **615 B** | **618 B** | **NODE_PROD**
**ReactDOM-prod.js** | **0.0%** | **0.0%** | **383.53 KB** | **383.69 KB** | **71.09 KB** | **71.12 KB** | **FB_WWW_PROD**
react-dom-server.browser.development.js | 0.0% | 0.0% | 137.62 KB | 137.62 KB | 36.5 KB | 36.5 KB | NODE_DEV
**react-dom-server.browser.production.min.js** | **0.0%** | **0.0%** | **20.33 KB** | **20.33 KB** | **7.53 KB** | **7.53 KB** | **NODE_PROD**
react-dom-test-utils.development.js | 0.0% | 0.0% | 71.37 KB | 71.37 KB | 19.33 KB | 19.33 KB | UMD_DEV
**ReactDOMServer-prod.js** | **0.0%** | **0.0%** | **46.58 KB** | **46.58 KB** | **10.85 KB** | **10.85 KB** | **FB_WWW_PROD**
react-dom-test-utils.development.js | 0.0% | 0.0% | 66.18 KB | 66.18 KB | 18.81 KB | 18.81 KB | NODE_DEV
ReactDOMTesting-dev.js | -0.0% | -0.0% | 920.27 KB | 920.08 KB | 206.94 KB | 206.89 KB | FB_WWW_DEV

  </details>
  

ReactDOM: size: 0.0%, gzip: 0.0%

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 4452907c335cdc55eb2cc49e588e386350ff0479
</p>
",2021-01-19T18:37:48Z
763041743,"
<!--
  0 failure: 
  0 warning: 
  
  3 markdown notices
  DangerID: danger-id-stable;
-->




  <details>
  <summary>Details of bundled changes.</summary>

  <p>Comparing: af0bb68e87476c0d72ceb5ffed7263924ee18c10...4452907c335cdc55eb2cc49e588e386350ff0479</p>


  
## react-art
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactART-dev.js | -0.1% | -0.1% | 663.8 KB | 663.15 KB | 141.06 KB | 140.87 KB | FB_WWW_DEV
react-art.development.js | -0.0% | -0.0% | 676.71 KB | 676.51 KB | 143.92 KB | 143.85 KB | UMD_DEV
**react-art.production.min.js** | **0.0%** | **0.0%** | **110.01 KB** | **110.01 KB** | **34.3 KB** | **34.31 KB** | **UMD_PROD**
react-art.development.js | -0.0% | -0.0% | 578.53 KB | 578.34 KB | 126.03 KB | 125.97 KB | NODE_DEV
**react-art.production.min.js** | **0.0%** | **0.0%** | **75 KB** | **75 KB** | **23.45 KB** | **23.46 KB** | **NODE_PROD**
**ReactART-prod.js** | **:small_red_triangle:+0.7%** | **:small_red_triangle:+0.5%** | **251.76 KB** | **253.59 KB** | **44.82 KB** | **45.05 KB** | **FB_WWW_PROD**

## react-dom
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactDOM-profiling.js | 0.0% | 0.0% | 413.62 KB | 413.77 KB | 76.17 KB | 76.19 KB | FB_WWW_PROFILING
react-dom-server.browser.development.js | 0.0% | 0.0% | 143.17 KB | 143.17 KB | 36.66 KB | 36.67 KB | UMD_DEV
react-dom-server.node.development.js | 0.0% | 0.0% | 137.09 KB | 137.09 KB | 36.46 KB | 36.46 KB | NODE_DEV
**react-dom-server.browser.production.min.js** | **0.0%** | **0.0%** | **19.87 KB** | **19.87 KB** | **7.46 KB** | **7.46 KB** | **UMD_PROD**
**react-dom-server.node.production.min.js** | **0.0%** | **0.0%** | **20.19 KB** | **20.19 KB** | **7.58 KB** | **7.58 KB** | **NODE_PROD**
**ReactDOMTesting-prod.js** | **0.0%** | **-0.0%** | **391.24 KB** | **391.24 KB** | **73.64 KB** | **73.64 KB** | **FB_WWW_PROD**
react-dom.development.js | -0.0% | -0.0% | 929.92 KB | 929.72 KB | 204.29 KB | 204.23 KB | UMD_DEV
**react-dom.production.min.js** | **0.0%** | **0.0%** | **119.77 KB** | **119.77 KB** | **39.44 KB** | **39.44 KB** | **UMD_PROD**
react-dom.profiling.min.js | 0.0% | 0.0% | 123.91 KB | 123.91 KB | 40.7 KB | 40.7 KB | UMD_PROFILING
react-dom.development.js | -0.0% | -0.0% | 884.92 KB | 884.73 KB | 201.66 KB | 201.6 KB | NODE_DEV
ReactDOMForked-dev.js | -0.1% | -0.1% | 1013.17 KB | 1012.51 KB | 224.48 KB | 224.3 KB | FB_WWW_DEV
**react-dom.production.min.js** | **0.0%** | **0.0%** | **119.95 KB** | **119.95 KB** | **38.79 KB** | **38.8 KB** | **NODE_PROD**
**ReactDOMForked-prod.js** | **0.0%** | **0.0%** | **394.96 KB** | **395.11 KB** | **72.96 KB** | **72.97 KB** | **FB_WWW_PROD**
react-dom.profiling.min.js | 0.0% | 0.0% | 124.23 KB | 124.23 KB | 40.06 KB | 40.06 KB | NODE_PROFILING
ReactDOMForked-profiling.js | 0.0% | 0.0% | 413.63 KB | 413.78 KB | 76.17 KB | 76.19 KB | FB_WWW_PROFILING
ReactDOM-dev.js | -0.1% | -0.1% | 1013.17 KB | 1012.51 KB | 224.44 KB | 224.27 KB | FB_WWW_DEV
**ReactDOM-prod.js** | **0.0%** | **0.0%** | **394.95 KB** | **395.1 KB** | **72.96 KB** | **72.97 KB** | **FB_WWW_PROD**
react-dom-server.browser.development.js | 0.0% | 0.0% | 135.82 KB | 135.82 KB | 36.21 KB | 36.21 KB | NODE_DEV
**react-dom-server.browser.production.min.js** | **0.0%** | **0.0%** | **19.77 KB** | **19.77 KB** | **7.42 KB** | **7.42 KB** | **NODE_PROD**
react-dom-test-utils.development.js | 0.0% | 0.0% | 71.36 KB | 71.36 KB | 19.32 KB | 19.32 KB | UMD_DEV
**react-dom-test-utils.production.min.js** | **0.0%** | **0.0%** | **13.7 KB** | **13.7 KB** | **5.31 KB** | **5.32 KB** | **UMD_PROD**
react-dom-test-utils.development.js | 0.0% | 0.0% | 66.17 KB | 66.17 KB | 18.8 KB | 18.81 KB | NODE_DEV
ReactDOMTesting-dev.js | -0.0% | -0.0% | 948.61 KB | 948.42 KB | 212.6 KB | 212.55 KB | FB_WWW_DEV

  </details>
  

ReactDOM: size: 0.0%, gzip: 0.0%

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 4452907c335cdc55eb2cc49e588e386350ff0479
</p>
",2021-01-19T18:38:18Z
763043254,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20621/builds/93474) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 4452907c335cdc55eb2cc49e588e386350ff0479:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-i1q5l)| Configuration |
",2021-01-19T18:40:27Z
763044646,"I can reproduce this failure in a unit test btw:
```js
it('should gracefully handle custom hooks that have the same name as primitive hooks', async done => {
  let inspectedElement = null;
  function Suspender({target}) {
    inspectedElement = useInspectedElement(target);
    return null;
  }

  const container = document.createElement('div');

  function useState() {
    React.useState(0);
    React.useEffect(() => {});
  }

  function HooksNamingConflict() {
    useState();
    React.useState(0);
    return null;
  }

  await utils.actAsync(() =>
    ReactDOM.render(<HooksNamingConflict />, container),
  );

  const id = ((store.getElementIDAtIndex(0): any): number);
  await utils.actAsync(
    () =>
      TestRenderer.create(
        <Contexts
          defaultSelectedElementID={id}
          defaultSelectedElementIndex={0}>
          <React.Suspense fallback={null}>
            <Suspender target={id} />
          </React.Suspense>
        </Contexts>,
      ),
    false,
  );
  expect(inspectedElement.hooks).toMatchInlineSnapshot(`
    Array [
      Object {
        ""id"": 0,
        ""isStateEditable"": true,
        ""name"": ""State"",
        ""subHooks"": Array [],
        ""value"": 1,
      },
    ]
  `);

  done();
});
```

Seems like a few things are required:
* Custom hook with the same name as built-in hook.
* Custom hook calls both the same name built-in hook _and_ at least one other built-in hook.
* React component calls both the custom hook and at least one other built-in hook.

Anyway now that I have a repro should be easy enough to track down and fix between meetings today. ðŸ˜„ 

**Edit** Can repro this with an even smaller test:
```js
it('should gracefully handle custom hooks that have the same name as primitive hooks', () => {
  function useState() {
    React.useState(0);
    React.useEffect(() => {});
  }

  function HooksNamingConflict() {
    useState();
    React.useMemo(() => 0, []);
    return null;
  }

  ReactDebugTools.inspectHooks(HooksNamingConflict, {});
});
```",2021-01-19T18:42:55Z
763078532,"I'm having this issue as well using Next.js.

My experience aligns with @iamandrewluca - when using the `ReactDOMServer.renderToString()` method within a useMemo, I get the error: `TypeError: Cannot set property 'memoizedState' of null`",2021-01-19T19:33:18Z
763087121,"The only real solution for me is to use React as an external in webpack, then to load the React delivery in the root html page.
Like this react will 'ot be bundled in the app and all the code will use the same instance",2021-01-19T19:49:18Z
763107524,"@bvaughn in your smaller version, I don't think you need the useEffect",2021-01-19T20:20:08Z
763107647,"Seems like (maybe among other things) this check is not great:
https://github.com/facebook/react/blob/master/packages/react-debug-tools/src/ReactDebugHooks.js#L538-L539",2021-01-19T20:20:27Z
763107972,"> @bvaughn in your smaller version, I don't think you need the useEffect

You do, if you want to repro the runtime error. Without it, the error isn't thrown (although the inspected tree is missing info I think)",2021-01-19T20:21:06Z
763132611,"Can confirm this is happening on the standalone version on Windows. Initial messages are sent: 
![image](https://user-images.githubusercontent.com/17841919/105091744-4c6c4b00-5a6e-11eb-84a0-e70a3e0144c9.png)
but the app stays blank:
![image](https://user-images.githubusercontent.com/17841919/105091765-555d1c80-5a6e-11eb-8a7e-ed850ea468cb.png)

",2021-01-19T20:52:32Z
763209770,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20622/builds/93520) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 403d7012048177657a77279c2245e6f0887e488f:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-7ihxm)| Configuration |
",2021-01-19T23:29:38Z
763210861,"
<!--
  0 failure: 
  0 warning: 
  
  3 markdown notices
  DangerID: danger-id-stable;
-->




  <details>
  <summary>Details of bundled changes.</summary>

  <p>Comparing: fb3e158a64dd9e0d777220ce0e4a3bdecff158dc...403d7012048177657a77279c2245e6f0887e488f</p>


  
## react-dom
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-dom-server.node.development.js | 0.0% | 0.0% | 137.09 KB | 137.09 KB | 36.46 KB | 36.46 KB | NODE_DEV
**react-dom-server.browser.production.min.js** | **0.0%** | **0.0%** | **19.87 KB** | **19.87 KB** | **7.46 KB** | **7.46 KB** | **UMD_PROD**
**react-dom-server.node.production.min.js** | **0.0%** | **0.0%** | **20.19 KB** | **20.19 KB** | **7.58 KB** | **7.58 KB** | **NODE_PROD**
**ReactDOMTesting-prod.js** | **0.0%** | **-0.0%** | **391.24 KB** | **391.24 KB** | **73.64 KB** | **73.64 KB** | **FB_WWW_PROD**
**react-dom.production.min.js** | **0.0%** | **-0.0%** | **119.77 KB** | **119.77 KB** | **39.44 KB** | **39.44 KB** | **UMD_PROD**
react-dom.profiling.min.js | 0.0% | 0.0% | 123.91 KB | 123.91 KB | 40.7 KB | 40.7 KB | UMD_PROFILING
ReactDOMForked-dev.js | +0.2% | +0.3% | 1012.51 KB | 1014.37 KB | 224.3 KB | 224.92 KB | FB_WWW_DEV
**ReactDOMForked-prod.js** | **-0.0%** | **-0.2%** | **395.11 KB** | **395.03 KB** | **72.97 KB** | **72.86 KB** | **FB_WWW_PROD**
ReactDOMForked-profiling.js | -0.0% | -0.2% | 413.78 KB | 413.58 KB | 76.19 KB | 76.06 KB | FB_WWW_PROFILING
ReactDOM-dev.js | 0.0% | -0.0% | 1012.51 KB | 1012.51 KB | 224.27 KB | 224.26 KB | FB_WWW_DEV
react-dom-server.browser.development.js | 0.0% | 0.0% | 135.82 KB | 135.82 KB | 36.21 KB | 36.21 KB | NODE_DEV
**react-dom-server.browser.production.min.js** | **0.0%** | **0.0%** | **19.77 KB** | **19.77 KB** | **7.42 KB** | **7.42 KB** | **NODE_PROD**
react-dom-test-utils.development.js | 0.0% | 0.0% | 71.36 KB | 71.36 KB | 19.32 KB | 19.32 KB | UMD_DEV
ReactDOMServer-dev.js | 0.0% | 0.0% | 146.3 KB | 146.3 KB | 37.57 KB | 37.57 KB | FB_WWW_DEV
**react-dom-test-utils.production.min.js** | **0.0%** | **-0.0%** | **13.7 KB** | **13.7 KB** | **5.32 KB** | **5.31 KB** | **UMD_PROD**
ReactDOMTesting-dev.js | 0.0% | 0.0% | 948.42 KB | 948.42 KB | 212.55 KB | 212.55 KB | FB_WWW_DEV

  </details>
  

ReactDOM: size: 0.0%, gzip: 0.0%

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 403d7012048177657a77279c2245e6f0887e488f
</p>
",2021-01-19T23:32:29Z
763211074,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->




  <details>
  <summary>Details of bundled changes.</summary>

  <p>Comparing: fb3e158a64dd9e0d777220ce0e4a3bdecff158dc...403d7012048177657a77279c2245e6f0887e488f</p>


  
## react-dom
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-dom-server.browser.development.js | 0.0% | 0.0% | 145.08 KB | 145.08 KB | 36.93 KB | 36.93 KB | UMD_DEV
react-dom-server.node.development.js | 0.0% | 0.0% | 138.89 KB | 138.89 KB | 36.75 KB | 36.75 KB | NODE_DEV
**react-dom-server.node.production.min.js** | **0.0%** | **0.0%** | **20.75 KB** | **20.75 KB** | **7.68 KB** | **7.68 KB** | **NODE_PROD**
**react-dom-test-utils.production.min.js** | **0.0%** | **-0.0%** | **13.7 KB** | **13.7 KB** | **5.27 KB** | **5.26 KB** | **NODE_PROD**
**react-dom.production.min.js** | **0.0%** | **0.0%** | **126.12 KB** | **126.12 KB** | **41.44 KB** | **41.44 KB** | **UMD_PROD**
react-dom.profiling.min.js | 0.0% | -0.0% | 131.86 KB | 131.86 KB | 43.22 KB | 43.22 KB | UMD_PROFILING
react-dom-unstable-fizz.node.development.js | 0.0% | +0.1% | 5.42 KB | 5.42 KB | 1.82 KB | 1.82 KB | NODE_DEV
react-dom.development.js | 0.0% | -0.0% | 934.68 KB | 934.68 KB | 211.49 KB | 211.49 KB | NODE_DEV
ReactDOMForked-dev.js | +0.2% | +0.3% | 986.93 KB | 988.79 KB | 219.53 KB | 220.13 KB | FB_WWW_DEV
**react-dom-unstable-fizz.node.production.min.js** | **0.0%** | **:small_red_triangle:+0.5%** | **1.17 KB** | **1.17 KB** | **665 B** | **668 B** | **NODE_PROD**
**ReactDOMForked-prod.js** | **-0.0%** | **-0.1%** | **383.7 KB** | **383.61 KB** | **71.12 KB** | **71.06 KB** | **FB_WWW_PROD**
react-dom.profiling.min.js | 0.0% | 0.0% | 132.28 KB | 132.28 KB | 42.61 KB | 42.61 KB | NODE_PROFILING
ReactDOMForked-profiling.js | -0.1% | -0.1% | 402.32 KB | 402.12 KB | 74.32 KB | 74.28 KB | FB_WWW_PROFILING
**react-dom-unstable-fizz.browser.production.min.js** | **0.0%** | **:small_red_triangle:+0.2%** | **1.01 KB** | **1.01 KB** | **616 B** | **617 B** | **NODE_PROD**
react-dom-server.browser.development.js | 0.0% | 0.0% | 137.62 KB | 137.62 KB | 36.5 KB | 36.5 KB | NODE_DEV
react-dom-test-utils.development.js | 0.0% | 0.0% | 71.37 KB | 71.37 KB | 19.33 KB | 19.33 KB | UMD_DEV
ReactDOMServer-dev.js | 0.0% | -0.0% | 142.27 KB | 142.27 KB | 36.56 KB | 36.56 KB | FB_WWW_DEV
ReactDOMTesting-dev.js | 0.0% | 0.0% | 920.08 KB | 920.08 KB | 206.89 KB | 206.89 KB | FB_WWW_DEV

  </details>
  

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 403d7012048177657a77279c2245e6f0887e488f
</p>
",2021-01-19T23:33:05Z
763216216,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20623/builds/93524) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 2f6dfedbcc91a68dcda5dae3ae716e0db172a081:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-gfd65)| Configuration |
",2021-01-19T23:46:21Z
763216955,"
<!--
  0 failure: 
  0 warning: 
  
  3 markdown notices
  DangerID: danger-id-experimental;
-->




  <details>
  <summary>Details of bundled changes.</summary>

  <p>Comparing: 2a646f73e4f64000fcd1a483cec1c08614f20e9c...2f6dfedbcc91a68dcda5dae3ae716e0db172a081</p>


  
## react-dom
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactDOM-profiling.js | 0.0% | -0.0% | 402.31 KB | 402.31 KB | 74.32 KB | 74.31 KB | FB_WWW_PROFILING
react-dom-server.browser.development.js | 0.0% | -0.0% | 145.08 KB | 145.08 KB | 36.93 KB | 36.93 KB | UMD_DEV
react-dom-server.node.development.js | 0.0% | -0.0% | 138.89 KB | 138.89 KB | 36.75 KB | 36.75 KB | NODE_DEV
**react-dom-server.browser.production.min.js** | **0.0%** | **-0.0%** | **20.42 KB** | **20.42 KB** | **7.57 KB** | **7.57 KB** | **UMD_PROD**
**react-dom-server.node.production.min.js** | **0.0%** | **-0.0%** | **20.75 KB** | **20.75 KB** | **7.68 KB** | **7.68 KB** | **NODE_PROD**
**react-dom-test-utils.production.min.js** | **0.0%** | **-0.0%** | **13.7 KB** | **13.7 KB** | **5.27 KB** | **5.26 KB** | **NODE_PROD**
react-dom.development.js | 0.0% | -0.0% | 982.16 KB | 982.16 KB | 214.17 KB | 214.17 KB | UMD_DEV
**react-dom.production.min.js** | **0.0%** | **-0.0%** | **126.12 KB** | **126.12 KB** | **41.44 KB** | **41.44 KB** | **UMD_PROD**
react-dom.profiling.min.js | 0.0% | -0.0% | 131.86 KB | 131.86 KB | 43.22 KB | 43.22 KB | UMD_PROFILING
react-dom-unstable-fizz.browser.development.js | 0.0% | -0.1% | 5.15 KB | 5.15 KB | 1.76 KB | 1.75 KB | UMD_DEV
react-dom-unstable-fizz.node.development.js | 0.0% | -0.1% | 5.42 KB | 5.42 KB | 1.82 KB | 1.82 KB | NODE_DEV
react-dom.development.js | 0.0% | -0.0% | 934.68 KB | 934.68 KB | 211.49 KB | 211.49 KB | NODE_DEV
ReactDOMForked-dev.js | -0.0% | -0.0% | 988.79 KB | 988.44 KB | 220.13 KB | 220.05 KB | FB_WWW_DEV
**react-dom-unstable-fizz.browser.production.min.js** | **0.0%** | **-0.4%** | **1.22 KB** | **1.22 KB** | **713 B** | **710 B** | **UMD_PROD**
**react-dom-unstable-fizz.node.production.min.js** | **0.0%** | **-0.3%** | **1.17 KB** | **1.17 KB** | **667 B** | **665 B** | **NODE_PROD**
**react-dom.production.min.js** | **0.0%** | **-0.0%** | **126.37 KB** | **126.37 KB** | **40.76 KB** | **40.76 KB** | **NODE_PROD**
**ReactDOMForked-prod.js** | **-0.0%** | **-0.0%** | **383.61 KB** | **383.46 KB** | **71.06 KB** | **71.04 KB** | **FB_WWW_PROD**
react-dom.profiling.min.js | 0.0% | -0.0% | 132.28 KB | 132.28 KB | 42.61 KB | 42.61 KB | NODE_PROFILING
ReactDOMForked-profiling.js | -0.0% | -0.0% | 402.12 KB | 401.96 KB | 74.28 KB | 74.26 KB | FB_WWW_PROFILING
react-dom-unstable-fizz.browser.development.js | 0.0% | -0.1% | 4.68 KB | 4.68 KB | 1.66 KB | 1.66 KB | NODE_DEV
**react-dom-unstable-fizz.browser.production.min.js** | **0.0%** | **-0.5%** | **1.01 KB** | **1.01 KB** | **617 B** | **614 B** | **NODE_PROD**
**ReactDOM-prod.js** | **0.0%** | **0.0%** | **383.69 KB** | **383.69 KB** | **71.11 KB** | **71.12 KB** | **FB_WWW_PROD**
react-dom-server.browser.development.js | 0.0% | -0.0% | 137.62 KB | 137.62 KB | 36.5 KB | 36.5 KB | NODE_DEV
**react-dom-server.browser.production.min.js** | **0.0%** | **-0.0%** | **20.33 KB** | **20.33 KB** | **7.53 KB** | **7.53 KB** | **NODE_PROD**
react-dom-test-utils.development.js | 0.0% | -0.0% | 71.37 KB | 71.37 KB | 19.33 KB | 19.33 KB | UMD_DEV
ReactDOMServer-dev.js | 0.0% | -0.0% | 142.27 KB | 142.27 KB | 36.56 KB | 36.56 KB | FB_WWW_DEV
**react-dom-test-utils.production.min.js** | **0.0%** | **-0.0%** | **13.71 KB** | **13.71 KB** | **5.32 KB** | **5.32 KB** | **UMD_PROD**
**ReactDOMServer-prod.js** | **0.0%** | **0.0%** | **46.58 KB** | **46.58 KB** | **10.85 KB** | **10.85 KB** | **FB_WWW_PROD**
react-dom-test-utils.development.js | 0.0% | -0.0% | 66.18 KB | 66.18 KB | 18.81 KB | 18.81 KB | NODE_DEV

  </details>
  

ReactDOM: size: 0.0%, gzip: -0.0%

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 2f6dfedbcc91a68dcda5dae3ae716e0db172a081
</p>
",2021-01-19T23:48:09Z
763217331,"
<!--
  0 failure: 
  0 warning: 
  
  3 markdown notices
  DangerID: danger-id-stable;
-->




  <details>
  <summary>Details of bundled changes.</summary>

  <p>Comparing: 2a646f73e4f64000fcd1a483cec1c08614f20e9c...2f6dfedbcc91a68dcda5dae3ae716e0db172a081</p>


  
## react-dom
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactDOM-profiling.js | 0.0% | -0.0% | 413.77 KB | 413.77 KB | 76.19 KB | 76.19 KB | FB_WWW_PROFILING
react-dom-server.browser.development.js | 0.0% | -0.0% | 143.17 KB | 143.17 KB | 36.67 KB | 36.66 KB | UMD_DEV
react-dom-server.node.development.js | 0.0% | -0.0% | 137.09 KB | 137.09 KB | 36.46 KB | 36.46 KB | NODE_DEV
**react-dom-server.browser.production.min.js** | **0.0%** | **-0.0%** | **19.87 KB** | **19.87 KB** | **7.46 KB** | **7.46 KB** | **UMD_PROD**
**react-dom-server.node.production.min.js** | **0.0%** | **-0.0%** | **20.19 KB** | **20.19 KB** | **7.58 KB** | **7.58 KB** | **NODE_PROD**
**ReactDOMTesting-prod.js** | **0.0%** | **-0.0%** | **391.24 KB** | **391.24 KB** | **73.64 KB** | **73.64 KB** | **FB_WWW_PROD**
react-dom.development.js | 0.0% | -0.0% | 929.72 KB | 929.72 KB | 204.23 KB | 204.22 KB | UMD_DEV
**react-dom.production.min.js** | **0.0%** | **-0.0%** | **119.77 KB** | **119.77 KB** | **39.44 KB** | **39.44 KB** | **UMD_PROD**
react-dom.profiling.min.js | 0.0% | -0.0% | 123.91 KB | 123.91 KB | 40.7 KB | 40.7 KB | UMD_PROFILING
react-dom.development.js | 0.0% | -0.0% | 884.73 KB | 884.73 KB | 201.6 KB | 201.59 KB | NODE_DEV
ReactDOMForked-dev.js | -0.0% | -0.0% | 1014.37 KB | 1014.02 KB | 224.92 KB | 224.83 KB | FB_WWW_DEV
**react-dom.production.min.js** | **0.0%** | **-0.0%** | **119.95 KB** | **119.95 KB** | **38.8 KB** | **38.79 KB** | **NODE_PROD**
**ReactDOMForked-prod.js** | **-0.0%** | **-0.0%** | **395.03 KB** | **394.87 KB** | **72.86 KB** | **72.83 KB** | **FB_WWW_PROD**
react-dom.profiling.min.js | 0.0% | -0.0% | 124.23 KB | 124.23 KB | 40.06 KB | 40.06 KB | NODE_PROFILING
ReactDOMForked-profiling.js | -0.0% | -0.0% | 413.58 KB | 413.42 KB | 76.06 KB | 76.03 KB | FB_WWW_PROFILING
react-dom-server.browser.development.js | 0.0% | -0.0% | 135.82 KB | 135.82 KB | 36.21 KB | 36.21 KB | NODE_DEV
**react-dom-server.browser.production.min.js** | **0.0%** | **-0.0%** | **19.77 KB** | **19.77 KB** | **7.42 KB** | **7.42 KB** | **NODE_PROD**
react-dom-test-utils.development.js | 0.0% | -0.0% | 71.36 KB | 71.36 KB | 19.32 KB | 19.32 KB | UMD_DEV
**ReactDOMServer-prod.js** | **0.0%** | **0.0%** | **47.44 KB** | **47.44 KB** | **11.06 KB** | **11.06 KB** | **FB_WWW_PROD**
react-dom-test-utils.development.js | 0.0% | -0.0% | 66.17 KB | 66.17 KB | 18.8 KB | 18.8 KB | NODE_DEV
ReactDOMTesting-dev.js | 0.0% | -0.0% | 948.42 KB | 948.42 KB | 212.55 KB | 212.55 KB | FB_WWW_DEV

  </details>
  

ReactDOM: size: 0.0%, gzip: -0.0%

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 2f6dfedbcc91a68dcda5dae3ae716e0db172a081
</p>
",2021-01-19T23:49:05Z
763252730,"sandbox build failed with `{ [Error: EACCES: permission denied, mkdir '/tmp/output/scheduler']` which I guess is some systemic issue. I'll try to rebase and hope for the best :)",2021-01-20T01:05:30Z
763254999,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20617/builds/93547) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 58a4d1cd61d605279522e2296be82a060083dcdc:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-f3u24)| Configuration |
",2021-01-20T01:11:40Z
763300624,"So now.. which is the recommended way to check if a component (instead of an element) is memo component?
",2021-01-20T03:16:10Z
763322107,"Should be reopened. This still occur on v16.8.2.
I figure out that when using webpack to bundle, the line to declare useState threw an error, for instance:
`var _b=(0,react.useState)(0)`",2021-01-20T04:27:57Z
763349603,"So now if I return an instance of `MyCustomType`, and it `MyCustomType#toString` is defined, we'll no longer call it? Not a big deal, but seems unintentional.

Also maybe we shouldn't stringify the type in the production build at all. Only in dev.",2021-01-20T05:43:18Z
763355124,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20624/builds/93856) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 6079094ac192d64e2da444e2c1cc17f4370abdee:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-ehple)| Configuration |
",2021-01-20T05:56:19Z
763357929,"
<!--
  0 failure: 
  1 warning:  Could not find bu...
  
  1 markdown notices
  DangerID: danger-id-experimental;
-->


<table>
  <thead>
    <tr>
      <th width=""50""></th>
      <th width=""100%"" data-danger-table=""true"">Warnings</th>
    </tr>
  </thead>
  <tbody><tr>
      <td>:warning:</td>
      <td>Could not find build artifacts for base commit: 11a983fc76192037798d2f93dedf09af97f99884</td>
    </tr>
  </tbody>
</table>


## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 6079094ac192d64e2da444e2c1cc17f4370abdee
</p>
",2021-01-20T06:02:34Z
763357966,"
<!--
  0 failure: 
  1 warning:  Build job for bas...
  
  1 markdown notices
  DangerID: danger-id-stable;
-->


<table>
  <thead>
    <tr>
      <th width=""50""></th>
      <th width=""100%"" data-danger-table=""true"">Warnings</th>
    </tr>
  </thead>
  <tbody><tr>
      <td>:warning:</td>
      <td>Build job for base commit is still pending: 11a983fc76192037798d2f93dedf09af97f99884</td>
    </tr>
  </tbody>
</table>


## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 6079094ac192d64e2da444e2c1cc17f4370abdee
</p>
",2021-01-20T06:02:39Z
763364871,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20625/builds/93858) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 21d4b03af874b93aaec9a0453ddd31d59b128c50:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-d76zd)| Configuration |
",2021-01-20T06:17:09Z
763366161,"
<!--
  0 failure: 
  1 warning:  Build job for bas...
  
  1 markdown notices
  DangerID: danger-id-stable;
-->


<table>
  <thead>
    <tr>
      <th width=""50""></th>
      <th width=""100%"" data-danger-table=""true"">Warnings</th>
    </tr>
  </thead>
  <tbody><tr>
      <td>:warning:</td>
      <td>Build job for base commit is still pending: 741dcbdbec52b088e33538cd93c679c05c146aa1</td>
    </tr>
  </tbody>
</table>


## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 21d4b03af874b93aaec9a0453ddd31d59b128c50
</p>
",2021-01-20T06:19:55Z
763366199,"
<!--
  0 failure: 
  1 warning:  Build job for bas...
  
  1 markdown notices
  DangerID: danger-id-experimental;
-->


<table>
  <thead>
    <tr>
      <th width=""50""></th>
      <th width=""100%"" data-danger-table=""true"">Warnings</th>
    </tr>
  </thead>
  <tbody><tr>
      <td>:warning:</td>
      <td>Build job for base commit is still pending: 741dcbdbec52b088e33538cd93c679c05c146aa1</td>
    </tr>
  </tbody>
</table>


## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 21d4b03af874b93aaec9a0453ddd31d59b128c50
</p>
",2021-01-20T06:20:01Z
763448537,@tseveenganbold I guess it is because of the unsettled width and height of the image tag?,2021-01-20T08:59:52Z
763489802,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20626/builds/93645) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit d5e72247e7a3da3b3cc250f82d5f81821642dc15:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-qcnjb)| Configuration |
",2021-01-20T10:04:28Z
763491164,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->



No significant bundle size changes to report.

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against d5e72247e7a3da3b3cc250f82d5f81821642dc15
</p>
",2021-01-20T10:06:26Z
763491499,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->



No significant bundle size changes to report.

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against d5e72247e7a3da3b3cc250f82d5f81821642dc15
</p>
",2021-01-20T10:06:52Z
763566943,"> I don't think it makes sense conceptually to edit a variable name in the sources panel. (What would that even do?)

I think it would do the same as the dev-tools do now - allowing to change a property on a object ""on the fly"".

> I've designed the props/state/hooks editable interface to work like Chrome's style editor in the Elements panel. I think this is a pretty familiar interface for most web developers. That panel allows you to start editing by focusing on either a key or value field.

I think that it is a valid point, however the Elements panel does not support a tree view like the Debug and dev-tools does. 

Further I will argue that it seems a little off that the user is able to click on a value of a object and see it expanded vs. not enable editing it like the primitive values (strings, numbers, etc.). ",2021-01-20T12:19:01Z
763578633,"I use the MobX, so according to [the tutorial](https://mobx.js.org/installation.html#use-spec-compliant-transpilation-for-class-properties), I added the babel plugin  `[""@babel/plugin-proposal-class-properties"", { ""loose"": false }]`  and I have the same problem. When remove the babel plugin, the problem is solved. Does anyone know why? ",2021-01-20T12:37:45Z
763584152,I agree with the regression and another solution should be made. I will close this PR and create a issue instead. :)  ,2021-01-20T12:48:19Z
763627967,Thanks @TryingToImprove ,2021-01-20T14:06:39Z
763689238,"I think the core of this problem is here:
https://github.com/facebook/react/blob/a511dc7090523ee49ce21a08e55c41917d8af311/packages/react-debug-tools/src/ReactDebugHooks.js#L439-L444

This check in `findPrimitiveIndex` is what causes the ""primitive index"" to advance too far if a custom hook name matches the current built-in hook.

Comments above suggest that this is intentional, to handle wrappers added by packagers with the same name:
https://github.com/facebook/react/blob/a511dc7090523ee49ce21a08e55c41917d8af311/packages/react-debug-tools/src/ReactDebugHooks.js#L431-L432

Unfortunately we don't have any test coverage for that case ðŸ˜¦ I can disable the lines above and my newly added tests pass (as well as all previous tests) but I suspect this just means we don't have a good integration test case.

I'm not sure how to differentiate between a packager-added wrapper and a user-added custom hook. Is there even a way?",2021-01-20T15:06:10Z
763755563,"I need to sit this task down for now because I have something more pressing to work on. If anyone else feels like picking it up, that would be great. We have pretty good test coverage in `react-debug-tools`.",2021-01-20T16:22:52Z
763763249,"Note that I think we could prevent the runtime error by adding a check before pushing to `levelChildren`:
```js
if (levelChildren !== undefined) {
  levelChildren.push({
    id,
    isStateEditable,
    name: primitive,
    value: hook.value,
    subHooks: [],
  });
}
```

But this would have two downsides:
* It would mask the underlying error.
* It would hide some of the hooks information.

Consider the following component example:
```js
function useState() {
  React.useState(0);
  React.useEffect(() => {});
}

function HooksNamingConflict() {
  useState();
  React.useMemo(() => 0, []);
  return null;
}
```

We should see a hooks tree of:
* State (custom)
  * State (actual)
  * Effect
* Memo

With the above fix we would only see a reported tree of:
* State (actual)
* Memo

Stepping up the stack too far in `findPrimitiveIndex` would cause us to miss the custom `useState` as well as any other primitive hooks it calls inside of it.",2021-01-20T16:28:33Z
763810547,"@acdlite that was intentional on my part because calling the toString of the instances will give you some string representation of the value of the instance instead of a string of the object's name, so the error message doesn't make sense.

E.g.:

> Objects are not valid as a React child (found: 1611163658464)

vs:

> Objects are not valid as a React child (found: [object MyCustomType])

Is that fair?",2021-01-20T17:30:08Z
763811506,Re-opening since it came up again in https://github.com/facebook/react/issues/20629,2021-01-20T17:31:45Z
763811537,"Thanks for the report.

Closing this in favor of re-opening https://github.com/facebook/react/issues/12525 which discussed the same problem.",2021-01-20T17:31:47Z
763818644,"Thanks for the report.

This sounds like a duplicate of #19927. It would help a lot if you could provide a reproduction (preferably with a codesandbox (https://react.new) to #19927 ðŸ™.",2021-01-20T17:43:55Z
763830456,"Thanks for the report.

A couple of notes about your reprop:
`key={this.makeid(5)}` means that on every render you're creating a new `key`. `render` needs to be side-effect free 
Incidentally, this issue leads to will lead to Parent catching twice because you're rendering inside `StrictMode` which means React calls your render twice, you mount `Child` twice (because the `key` changes between `render`), call `componentDidMount` twice therefore throw two errors.

>  which will fall back to the next child in a specified list and attempts to render that

I'm not seeing that in your repro. I can only imagine that you have something like `<Parent fallbacks={[<A />, <A trySomethingDifferent={true} />]} />`. If React re-renders with `<A trySomethingDifferent={true} />` it will compare it against the previous configuration and note that the types are equal (`A === A`). It will then only update the previous instance of `A`. However, if `A` only threw in `componentDidMount` `<A trySomethingDifferent={true} />` will not throw again because it's already mounted.

~If you want to make sure that every fallback is mounted, you can wrap it in a `Fragment` and change the key. For example, `<React.Fragment key={this.state.fallbackCount}>{this.props.fallbacks[this.state.fallbackCount]}</React.Fragment>`~ Strike-through text doesn't seem to work (https://codesandbox.io/s/amazing-architecture-07zy6?file=/src/App.js). I suspect the behavior is not supported considering 

> In the event of an error, you can render a fallback UI with componentDidCatch() by calling setState, but this will be deprecated in a future release. Use static getDerivedStateFromError() to handle fallback rendering instead.

-- https://reactjs.org/docs/react-component.html#componentdidcatch

Access to the current state in `getDerivedStateFromError` is already requested in https://github.com/facebook/react/issues/13954",2021-01-20T18:04:05Z
763842541,"Hi, @eps1lon thanks for getting back to me so quickly.

Ah yes, the addition of the key was an attempt to ensure that it would be considered a new component each time. I've removed it from the example.

Yes sorry, I aimed for the example to be as simple as possible, I've updated it now to include an array of children which are then iterated over when rendered. It does seem that regardless of where in the lifecycle the error is thrown that it is only ever caught once, without making a more complex example it's difficult to show the behaviour but it is seen clearly if the error is thrown from the render method, does that still mean that it is the type comparison that is the cause. For reference, the patch we have implemented temporarily is to unique the child array before we attempt to render so we avoid this issue.

I did wonder if this behaviour was unsupported if so that is no problem at all, we can investigate into like getDerivedStateFromError.",2021-01-20T18:24:38Z
763889176,"Brian, would it be possible to apply and merge the solution you proposed in
the latest comment above? The downside you mentioned is actually a good
feature for hookstate support because it would hide internal hooks used by
hookstate and would show only the actual state hook. I think it is the best
outcome we could get really...

On Thu, 21 Jan 2021, 05:28 Brian Vaughn, <notifications@github.com> wrote:

> Note that I think we could prevent the runtime error by adding a check
> before pushing to levelChildren:
>
> if (levelChildren !== undefined) {
>   levelChildren.push({
>     id,
>     isStateEditable,
>     name: primitive,
>     value: hook.value,
>     subHooks: [],
>   });}
>
> But this would have two downsides:
>
>    - It would mask the underlying error.
>    - It would hide some of the hooks information.
>
> Consider the following component example:
>
> function useState() {
>   React.useState(0);
>   React.useEffect(() => {});}
> function HooksNamingConflict() {
>   useState();
>   React.useMemo(() => 0, []);
>   return null;}
>
> We should see a hooks tree of:
>
>    - State (custom)
>       - State (actual)
>       - Effect
>    - Memo
>
> With the above fix we would only see a reported tree of:
>
>    - State (actual)
>    - Memo
>
> Stepping up the stack too far in findPrimitiveIndex would cause us to
> miss the custom useState as well as any other primitive hooks it calls
> inside of it.
>
> â€”
> You are receiving this because you were mentioned.
> Reply to this email directly, view it on GitHub
> <https://github.com/facebook/react/issues/20613#issuecomment-763763249>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/AA6JSVK5NS6P2KTAVEZA7HLS24AENANCNFSM4WIB72XA>
> .
>
",2021-01-20T19:46:02Z
763892483,"That's not the way custom hook support is supposed to work in DevTools, and I don't think it would be what you wanted anyway (e.g. Effect hook would be invisible in this scenario).",2021-01-20T19:52:15Z
763896275,"Brian, yes, I want the effect hook invisible when it is inside of custom
hook named useState. I understand you proposal does not have the downside
for all other custom hooks, right?

On Thu, 21 Jan 2021, 08:52 Brian Vaughn, <notifications@github.com> wrote:

> That's not the way custom hook support is supposed to work in DevTools,
> and I don't think it would be what you wanted anyway (e.g. Effect hook
> would be invisible in this scenario).
>
> â€”
> You are receiving this because you were mentioned.
> Reply to this email directly, view it on GitHub
> <https://github.com/facebook/react/issues/20613#issuecomment-763892483>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/AA6JSVJCBZQ2PD6RXF7GRLTS24YAHANCNFSM4WIB72XA>
> .
>
",2021-01-20T19:58:58Z
763897062,It just happens to be the effect hook because of the way this example code is structured. It could be other arbitrary hooks that were shown or hidden if the code were structured differently. That's not a design that I think we would be able to land.,2021-01-20T20:00:25Z
763901312,"When you pass an anonymous function to `forwardRef`, like: `forwardRef((props, ref) => {...})`, the name of the inner component is `undefined` (so React falls back to using `Anonymous` as the name in the UI).

DevTools supports a custom `displayName` attribute if you want to specify what the name should be, although we suggest that be a DEV-only setting (not something you ship to production). Or you could just use a named function, like `forwardRef(function MyComponent(props, ref) {...})`.",2021-01-20T20:08:22Z
763902507,"Looking at your project specifically, I think it's probably this function:
https://github.com/nwutils/SnowPack-nw/blob/50bc967165d94e3c5431ae00d9c30adec4015f60/src/components/Box/Box.jsx#L29-L69

Just change:
```js
export const Box = React.forwardRef(
  (
    {
      Flex,
      Column,
      Grow,
      ColorBg,
      Fit,
      Position,
      P,
      M,
      OverflowX,
      OverflowY,
      children,
      style = {},
      debug,
      ...rest
    },
    ref
  ) => {
```
to:
```js
export const Box = React.forwardRef(
  function Box(
    {
      Flex,
      Column,
      Grow,
      ColorBg,
      Fit,
      Position,
      P,
      M,
      OverflowX,
      OverflowY,
      children,
      style = {},
      debug,
      ...rest
    },
    ref
  ) {
```",2021-01-20T20:10:29Z
763902984,"Are you planning to return to this back again? We need more ideas :) I
certainly have got no idea and zero knowledge of this code...

On Thu, 21 Jan 2021, 09:00 Brian Vaughn, <notifications@github.com> wrote:

> It just happens to be the effect hook because of the way this example code
> is structured. It could be other arbitrary hooks that were shown or hidden
> if the code were structured differently. That's not a design that I think
> we would be able to land.
>
> â€”
> You are receiving this because you were mentioned.
> Reply to this email directly, view it on GitHub
> <https://github.com/facebook/react/issues/20613#issuecomment-763897062>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/AA6JSVMSVOLC4AEIKT5HSP3S24Y65ANCNFSM4WIB72XA>
> .
>
",2021-01-20T20:11:17Z
763903668,"I wrote [this comment](https://github.com/facebook/react/issues/20613#issuecomment-763755563) only a few moments ago.
> I need to sit this task down for now because I have something more pressing to work on. If anyone else feels like picking it up, that would be great. We have pretty good test coverage in `react-debug-tools`.

It still holds.",2021-01-20T20:12:36Z
763917540,"> Looking at your project specifically, I think it's probably this function:
> https://github.com/nwutils/SnowPack-nw/blob/50bc967165d94e3c5431ae00d9c30adec4015f60/src/components/Box/Box.jsx#L29-L69
> 
> Just change:
> 
> ```js
> export const Box = React.forwardRef(
>   (
>     {
>       Flex,
>       Column,
>       Grow,
>       ColorBg,
>       Fit,
>       Position,
>       P,
>       M,
>       OverflowX,
>       OverflowY,
>       children,
>       style = {},
>       debug,
>       ...rest
>     },
>     ref
>   ) => {
> ```
> 
> to:
> 
> ```js
> export const Box = React.forwardRef(
>   function Box(
>     {
>       Flex,
>       Column,
>       Grow,
>       ColorBg,
>       Fit,
>       Position,
>       P,
>       M,
>       OverflowX,
>       OverflowY,
>       children,
>       style = {},
>       debug,
>       ...rest
>     },
>     ref
>   ) {
> ```

Thanks you so much friend for your time and sorry for this stupid mistake ! your awesome.
Is work !!",2021-01-20T20:38:47Z
763918042,Not a problem. Very glad it's sorted.,2021-01-20T20:39:37Z
763984733,"Hi @redbossrabbit! 

Thank you for your pull request and welcome to our community. 

# Action Required

In order to merge **any pull request** (code, docs, etc.), we **require** contributors to sign our **Contributor License Agreement**, and we don't seem to have one on file for you.

# Process

In order for us to review and merge your suggested changes, please sign at <https://code.facebook.com/cla>. **If you are contributing on behalf of someone else (eg your employer)**, the individual CLA may not be sufficient and your employer may need to sign the corporate CLA.

Once the CLA is signed, our tooling will perform checks and validations. Afterwards, the **pull request will be tagged** with `CLA signed`. The tagging process may take up to 1 hour after signing. Please give it that time before contacting us about it.

If you have received this in error or have any questions, please contact us at [cla@fb.com](mailto:cla@fb.com?subject=CLA%20for%20facebook%2Freact%20%2320633). Thanks!",2021-01-20T22:14:00Z
763986527,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20633/builds/95204) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit dc97b890d2096723547932f14607e8588318f944:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-b1j4b)| Configuration |
",2021-01-20T22:16:50Z
763988698,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->



No significant bundle size changes to report.

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against dc97b890d2096723547932f14607e8588318f944
</p>
",2021-01-20T22:20:31Z
763988845,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->



No significant bundle size changes to report.

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against dc97b890d2096723547932f14607e8588318f944
</p>
",2021-01-20T22:20:49Z
763996745,Thank you for signing our Contributor License Agreement. We can now accept your code for this (and any) Facebook open source project. Thanks!,2021-01-20T22:34:13Z
764463788,"Hmm, yeah I'm not saying that the code I wrote its 100% correct or should result in working behaviour. I'm saying that the error message was really unhelpful and confusing as to finding out the code was actually incorrect.",2021-01-21T08:18:12Z
764606600,"I tried everything from here and from other places as well, but no luck. I still get the ""invalid hook call"" error. 

I [raised my question on Stackoverflow](https://stackoverflow.com/questions/65825992/react-components-library-and-react-hooks-throws-invalid-hook-call-error) with repo links, and details, but for some reason, people started to downgrade it. 

If anyone here could help me, I'd really appreciate it!
",2021-01-21T12:21:47Z
764655409,"I'm sorry you experienced this bug! ðŸ™‡ 

Looks like this problem was already reported though (#18859) so I'm going to mark this issue as a duplicate and close it. If you have additional context that might help us repro this problem, please leave a comment on the other issue!

Thank you~",2021-01-21T13:50:32Z
764655442,"I'm sorry you experienced this bug! ðŸ™‡ 

Looks like this problem was already reported though (#18859) so I'm going to mark this issue as a duplicate and close it. If you have additional context that might help us repro this problem, please leave a comment on the other issue!

Thank you~",2021-01-21T13:50:37Z
764655468,"I'm sorry you experienced this bug! ðŸ™‡ 

Looks like this problem was already reported though (#18859) so I'm going to mark this issue as a duplicate and close it. If you have additional context that might help us repro this problem, please leave a comment on the other issue!

Thank you~",2021-01-21T13:50:40Z
764655506,"I'm sorry you experienced this bug! ðŸ™‡ 

Looks like this problem was already reported though (#18859) so I'm going to mark this issue as a duplicate and close it. If you have additional context that might help us repro this problem, please leave a comment on the other issue!

Thank you~",2021-01-21T13:50:43Z
764720112,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20635/builds/94157) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 77f5475f105089b498b2105db5a47707b963a340:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-m0w22)| Configuration |
",2021-01-21T15:25:27Z
764722400,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->



No significant bundle size changes to report.

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 77f5475f105089b498b2105db5a47707b963a340
</p>
",2021-01-21T15:28:48Z
764722915,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->



No significant bundle size changes to report.

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 77f5475f105089b498b2105db5a47707b963a340
</p>
",2021-01-21T15:29:33Z
764764479,"I am having a similar problem and I believe this is a bug in react dev tools. I am using a component which has no props but is using useContext inside (new context, not the legacy one). However in react-dev-tools the message is ""The parent component rendered.""
I think this is the exact case described here: https://github.com/facebook/react/issues/19732",2021-01-21T16:21:27Z
764816750,"Hey, any chance to get a review on this one? Or to have a discussion about whether or not it should be merged?",2021-01-21T17:35:48Z
764878815,"I don't think there's a bug here. You can reproduce the same behavior with vanilla DOM:

https://codesandbox.io/s/immutable-wildflower-w82nx?file=/src/index.js

```js
document.getElementById(""app"").innerHTML = `
<button id=""btn"">
  click me
</button>
`;
document.getElementById(""btn"").onclick = function () {
  document.addEventListener(""click"", function () {
    alert(""document click fired"");
  });
};
```

If you add a document listener *during* a button click, then that listener will fire (as a part of that click propagating upwards).

This didn't happen in React <17 because React used to register its events at the document level. So React handlers would run too late (when the event has already bubbled to the document level), and thus registering another document-level listener would not have a consequence. But React 17 behaves closer to how regular DOM works.",2021-01-21T19:22:19Z
764881783,Have you considered using something like https://reach.tech/dialog instead of rolling your own? ,2021-01-21T19:26:33Z
764894678,"I have had this issue too, so posting my situation/solution in case it helps others. The issue I encountered came in a custom React Library I was building, but was pulling into a sample application in order to test in the browser easily. When I tried to add a custom hook, I kept getting the ""Two versions of React"" error...which is probably what is bringing anyone to this Issue.

In order to connect the sample app with the package, I had `nameofpackage: file:..` in my package.json. This allows npm to pull in the package into the node_modules of the application. I am using webpack to create the `dist/` files. And I kept getting that ""two versions of react"" error. I found that webpack has a property you can define `externals` that tells webpack to NOT bundle whatever you define in your dist. So I added React and React-dom, it seemed to work, but ran into issues with production and development....and testing.

After trying every combination of things, it seemed nothing would work for Dev, Prod and Testing. So in the package.json ""scripts"" block, I had 
`""test"":  ""karma start --single-run --browsers Chrome"",` I ended up with this:
`""test"": ""NODE_ENV=testing karma start --single-run --browsers Chrome"",`

By adding that `NODE_ENV=testing` I can then conditionally set the `externals` in the webpack file.

The problem was the Production and Development builds need to specifically NOT bundle React and React-dom, but since in the testing env, there are no other copies of react/react-dom, you need to allow them.

I am not saying this is the best solution, but I think it describes the situation I experienced, and at least allowed me to get something working so that I can work on something else.",2021-01-21T19:48:42Z
764904658,"Hey @zcaudate, thanks for submitting the request.

Since we're a small team and there's a huge community of transforms and bundlers, we're not able to own creating integrations for every library. Our approach is to document the API, provide an example plugin via Babel, and help the community implement Fast Refresh into their own ecosystem. If it meets the API spec and covers all supported use cases, then it is considered ""officially"" supported.

For that reason, the issue you created in Sucrase is best to track this work. To do the integration, please see the docs [here](https://github.com/facebook/react/issues/16604#issuecomment-528663101) and reference the Babel plugin [here](https://github.com/alangpierce/sucrase/blob/master/src/transformers/ReactHotLoaderTransformer.ts).

",2021-01-21T20:06:37Z
764919780,"Hi @gaearon and thanks for taking your time to help me figure this out. Yes, i saw in the release notes that the listener was moved to the app root rather than keeping it at the document level, so i would expect things to bubble (and i know i can work around this by stopping propagation), but the weird thing to me is that, in my head, the effect in `Modal` shouldn't even have been run yet. And this behavior only happens when `useSortBy` is passed to `useTable`, otherwise the propagation works as i would expect.

To me it looks like:
1. On line 33 `setOpen` is called, the click handler returns immediately after `setOpen`, i then expect the click event to continue bubbling up and first after this process has finished should any other tasks in the event loop be handled.
2. The `setOpen` of step 1 queued a re-render of the `App` component, so it is run again and now `open` is actually set to true
3. At this point `Modal` will be mounted and renders a div with the contents ""my component""
4. The `useEffect` of `Modal` is then run, calling `document.addEventListener`
5. By this stage the click-event, in my eyes, is long gone and already handled and propagated, but my handler for `document.addEventListener('click', ...)` is called, causing `handleClick` to be run which in turn does `setOpen(false)` and hides the modal immediately

Maybe there is something asynchronous going on which i am missing. I'm using the Chrome debugger and seeing that the handler of my `addEventListener` call is being called immediately leaves me to think that event propagation was delayed somehow?

To continue on your vanilla example: (run here: https://codesandbox.io/s/falling-tdd-0tthx?file=/src/index.tsx):

```
document.getElementById(""app"").innerHTML = `
<button id=""btn"">
  click me
</button>
`;
document.getElementById(""btn"").onclick = function () {
  setTimeout(() => { // mimic async behavior of setOpen
    document.addEventListener(""click"", function () {
      alert(""document click fired"");
    });
  }, 0);
};
```

If we add a `setTimeout` to the `onclick`, mimicing the asynchronous operation react does when using the setter of `useState`, the event listener will not fire immediately, because the event bubbling will finish before next task of the event loop is picked up. Again, i'm a bit on thin ice here and maybe i'm making some wrong assumptions.

Regarding the library i don't think i need it in my case (i'm using a small little `useBackdrop` hook) If i just add a `event.stopPropagation()` to my hook i'm all good, but my curiosity is getting the better of me - in my mind this shouldn't be needed in the first place.

EDIT: Of course, this is all based on that `setState` from `const [state, setState] = useState(...)` is asynchronous, which i guess with fiber and all might not always be true(? again on thin ice) But even so it it is interesting why it happens only when i pass `useSortBy`. I tested adding `useFilters` instead, and same is true there so maybe it's not the actual ""plugin"", but whatever happens when a plugin is added to `useTable`",2021-01-21T20:33:57Z
764924428,"Here is a fork of the original codesandbox without passing `useSortBy` to the `useTable` hook (but really the entire `Table` component could be removed now as it serves no purpose) - as you can see it works perfectly fine. So it'd be interesting to see whatever in `useSortBy`  causes the propagation of the click event to be delayed.

https://codesandbox.io/s/react-table-react-17-forked-212ou?file=/src/App.js",2021-01-21T20:42:52Z
764967225,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20639/builds/94283) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 62d0b1367d906352239cbedd4d9756b0b4534108:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-vscps)| Configuration |
",2021-01-21T21:57:04Z
764968354,"
<!--
  0 failure: 
  0 warning: 
  
  3 markdown notices
  DangerID: danger-id-stable;
-->




  <details>
  <summary>Details of bundled changes.</summary>

  <p>Comparing: d4c05a1eadb0f94c930f5263f819587d14ab3ac9...62d0b1367d906352239cbedd4d9756b0b4534108</p>


  
## react-art
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactART-dev.js | +1.1% | +0.7% | 663.24 KB | 670.71 KB | 140.9 KB | 141.92 KB | FB_WWW_DEV
react-art.development.js | 0.0% | 0.0% | 676.61 KB | 676.87 KB | 143.88 KB | 143.92 KB | UMD_DEV
**react-art.production.min.js** | **0.0%** | **0.0%** | **110.02 KB** | **110.02 KB** | **34.31 KB** | **34.31 KB** | **UMD_PROD**
react-art.development.js | 0.0% | 0.0% | 578.43 KB | 578.65 KB | 126 KB | 126.04 KB | NODE_DEV
**react-art.production.min.js** | **0.0%** | **0.0%** | **75.01 KB** | **75.01 KB** | **23.46 KB** | **23.46 KB** | **NODE_PROD**

## react-dom
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactDOM-profiling.js | 0.0% | 0.0% | 413.81 KB | 413.81 KB | 76.2 KB | 76.2 KB | FB_WWW_PROFILING
**react-dom-server.browser.production.min.js** | **0.0%** | **0.0%** | **19.87 KB** | **19.87 KB** | **7.46 KB** | **7.46 KB** | **UMD_PROD**
**react-dom-server.node.production.min.js** | **0.0%** | **0.0%** | **20.19 KB** | **20.19 KB** | **7.58 KB** | **7.58 KB** | **NODE_PROD**
**ReactDOMTesting-prod.js** | **0.0%** | **0.0%** | **391.28 KB** | **391.28 KB** | **73.65 KB** | **73.65 KB** | **FB_WWW_PROD**
react-dom.development.js | 0.0% | 0.0% | 929.82 KB | 930.09 KB | 204.26 KB | 204.3 KB | UMD_DEV
**react-dom.production.min.js** | **0.0%** | **0.0%** | **119.77 KB** | **119.77 KB** | **39.43 KB** | **39.44 KB** | **UMD_PROD**
react-dom.profiling.min.js | 0.0% | 0.0% | 123.91 KB | 123.91 KB | 40.71 KB | 40.71 KB | UMD_PROFILING
react-dom.development.js | 0.0% | 0.0% | 884.83 KB | 885.07 KB | 201.63 KB | 201.68 KB | NODE_DEV
ReactDOMForked-dev.js | +0.8% | +0.5% | 1006.74 KB | 1014.33 KB | 223.26 KB | 224.27 KB | FB_WWW_DEV
**react-dom.production.min.js** | **0.0%** | **0.0%** | **119.95 KB** | **119.95 KB** | **38.79 KB** | **38.79 KB** | **NODE_PROD**
react-dom.profiling.min.js | 0.0% | 0.0% | 124.24 KB | 124.24 KB | 40.06 KB | 40.06 KB | NODE_PROFILING
ReactDOMForked-profiling.js | 0.0% | 0.0% | 408.31 KB | 408.31 KB | 75.37 KB | 75.37 KB | FB_WWW_PROFILING
ReactDOM-dev.js | +0.8% | +0.5% | 1012.6 KB | 1020.22 KB | 224.3 KB | 225.31 KB | FB_WWW_DEV
**ReactDOM-prod.js** | **0.0%** | **0.0%** | **395.14 KB** | **395.14 KB** | **72.98 KB** | **72.98 KB** | **FB_WWW_PROD**
**react-dom-server.browser.production.min.js** | **0.0%** | **0.0%** | **19.77 KB** | **19.77 KB** | **7.42 KB** | **7.42 KB** | **NODE_PROD**
ReactDOMServer-dev.js | 0.0% | 0.0% | 146.3 KB | 146.3 KB | 37.57 KB | 37.57 KB | FB_WWW_DEV
**ReactDOMServer-prod.js** | **0.0%** | **0.0%** | **47.44 KB** | **47.44 KB** | **11.06 KB** | **11.06 KB** | **FB_WWW_PROD**
ReactDOMTesting-dev.js | 0.0% | 0.0% | 948.51 KB | 948.77 KB | 212.58 KB | 212.64 KB | FB_WWW_DEV

## react-test-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-test-renderer.development.js | 0.0% | 0.0% | 617.22 KB | 617.48 KB | 129.87 KB | 129.92 KB | UMD_DEV
**react-test-renderer.production.min.js** | **0.0%** | **0.0%** | **77.89 KB** | **77.89 KB** | **24.64 KB** | **24.64 KB** | **UMD_PROD**
ReactTestRenderer-dev.js | 0.0% | 0.0% | 598.14 KB | 598.38 KB | 129.29 KB | 129.35 KB | RN_FB_DEV
**ReactTestRenderer-prod.js** | **0.0%** | **0.0%** | **235.55 KB** | **235.55 KB** | **43.05 KB** | **43.05 KB** | **RN_FB_PROD**
ReactTestRenderer-profiling.js | 0.0% | 0.0% | 247.9 KB | 247.9 KB | 45.26 KB | 45.26 KB | RN_FB_PROFILING
react-test-renderer.development.js | 0.0% | 0.0% | 587.95 KB | 588.17 KB | 128.34 KB | 128.38 KB | NODE_DEV
**react-test-renderer.production.min.js** | **0.0%** | **0.0%** | **77.69 KB** | **77.69 KB** | **24.26 KB** | **24.26 KB** | **NODE_PROD**
ReactTestRenderer-dev.js | +1.1% | +0.7% | 603.48 KB | 610.33 KB | 129.66 KB | 130.58 KB | FB_WWW_DEV

  </details>
  

ReactDOM: size: 0.0%, gzip: 0.0%

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 62d0b1367d906352239cbedd4d9756b0b4534108
</p>
",2021-01-21T21:59:27Z
764968954,"
<!--
  0 failure: 
  0 warning: 
  
  3 markdown notices
  DangerID: danger-id-experimental;
-->




  <details>
  <summary>Details of bundled changes.</summary>

  <p>Comparing: d4c05a1eadb0f94c930f5263f819587d14ab3ac9...62d0b1367d906352239cbedd4d9756b0b4534108</p>


  
## react-art
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactART-dev.js | +1.1% | +0.7% | 653.23 KB | 660.7 KB | 138.88 KB | 139.91 KB | FB_WWW_DEV
react-art.development.js | 0.0% | 0.0% | 718.77 KB | 719.03 KB | 152.33 KB | 152.38 KB | UMD_DEV
**react-art.production.min.js** | **0.0%** | **0.0%** | **114.79 KB** | **114.79 KB** | **35.81 KB** | **35.81 KB** | **UMD_PROD**
react-art.development.js | 0.0% | 0.0% | 618.58 KB | 618.8 KB | 134.32 KB | 134.36 KB | NODE_DEV
**react-art.production.min.js** | **0.0%** | **0.0%** | **79.74 KB** | **79.74 KB** | **24.96 KB** | **24.97 KB** | **NODE_PROD**
**ReactART-prod.js** | **0.0%** | **0.0%** | **246.41 KB** | **246.41 KB** | **43.83 KB** | **43.83 KB** | **FB_WWW_PROD**

## react-dom
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactDOM-profiling.js | 0.0% | 0.0% | 402.35 KB | 402.35 KB | 74.32 KB | 74.32 KB | FB_WWW_PROFILING
**react-dom-server.browser.production.min.js** | **0.0%** | **0.0%** | **20.42 KB** | **20.42 KB** | **7.57 KB** | **7.57 KB** | **UMD_PROD**
**react-dom-server.node.production.min.js** | **0.0%** | **0.0%** | **20.75 KB** | **20.75 KB** | **7.68 KB** | **7.68 KB** | **NODE_PROD**
**react-dom-test-utils.production.min.js** | **0.0%** | **0.0%** | **13.7 KB** | **13.7 KB** | **5.26 KB** | **5.27 KB** | **NODE_PROD**
**ReactDOMTesting-prod.js** | **0.0%** | **0.0%** | **378.05 KB** | **378.05 KB** | **71.43 KB** | **71.43 KB** | **FB_WWW_PROD**
react-dom.development.js | 0.0% | 0.0% | 982.26 KB | 982.54 KB | 214.2 KB | 214.25 KB | UMD_DEV
**react-dom.production.min.js** | **0.0%** | **0.0%** | **126.12 KB** | **126.12 KB** | **41.44 KB** | **41.44 KB** | **UMD_PROD**
react-dom.profiling.min.js | 0.0% | 0.0% | 131.87 KB | 131.87 KB | 43.22 KB | 43.22 KB | UMD_PROFILING
react-dom-unstable-fizz.browser.development.js | 0.0% | +0.1% | 5.15 KB | 5.15 KB | 1.76 KB | 1.76 KB | UMD_DEV
react-dom-unstable-fizz.node.development.js | 0.0% | +0.1% | 5.42 KB | 5.42 KB | 1.82 KB | 1.82 KB | NODE_DEV
react-dom.development.js | 0.0% | 0.0% | 934.78 KB | 935.02 KB | 211.53 KB | 211.57 KB | NODE_DEV
ReactDOMForked-dev.js | +0.8% | +0.5% | 981.16 KB | 988.75 KB | 218.48 KB | 219.48 KB | FB_WWW_DEV
**react-dom-unstable-fizz.browser.production.min.js** | **0.0%** | **:small_red_triangle:+0.1%** | **1.22 KB** | **1.22 KB** | **711 B** | **712 B** | **UMD_PROD**
**react-dom.production.min.js** | **0.0%** | **0.0%** | **126.37 KB** | **126.37 KB** | **40.76 KB** | **40.77 KB** | **NODE_PROD**
**ReactDOMForked-prod.js** | **0.0%** | **0.0%** | **378.37 KB** | **378.37 KB** | **70.37 KB** | **70.37 KB** | **FB_WWW_PROD**
react-dom.profiling.min.js | 0.0% | 0.0% | 132.28 KB | 132.28 KB | 42.61 KB | 42.61 KB | NODE_PROFILING
ReactDOMForked-profiling.js | 0.0% | 0.0% | 396.84 KB | 396.84 KB | 73.57 KB | 73.57 KB | FB_WWW_PROFILING
react-dom-unstable-fizz.browser.development.js | 0.0% | +0.2% | 4.68 KB | 4.68 KB | 1.66 KB | 1.66 KB | NODE_DEV
ReactDOM-dev.js | +0.8% | +0.5% | 987.02 KB | 994.63 KB | 219.53 KB | 220.53 KB | FB_WWW_DEV
**react-dom-unstable-fizz.browser.production.min.js** | **0.0%** | **:small_red_triangle:+0.3%** | **1.01 KB** | **1.01 KB** | **615 B** | **617 B** | **NODE_PROD**
**ReactDOM-prod.js** | **0.0%** | **0.0%** | **383.72 KB** | **383.72 KB** | **71.12 KB** | **71.12 KB** | **FB_WWW_PROD**
react-dom-server.browser.development.js | 0.0% | 0.0% | 137.62 KB | 137.62 KB | 36.5 KB | 36.5 KB | NODE_DEV
**react-dom-server.browser.production.min.js** | **0.0%** | **0.0%** | **20.33 KB** | **20.33 KB** | **7.53 KB** | **7.53 KB** | **NODE_PROD**
ReactDOMServer-dev.js | 0.0% | 0.0% | 142.27 KB | 142.27 KB | 36.56 KB | 36.56 KB | FB_WWW_DEV
**react-dom-test-utils.production.min.js** | **0.0%** | **0.0%** | **13.71 KB** | **13.71 KB** | **5.32 KB** | **5.32 KB** | **UMD_PROD**
**ReactDOMServer-prod.js** | **0.0%** | **0.0%** | **46.58 KB** | **46.58 KB** | **10.85 KB** | **10.85 KB** | **FB_WWW_PROD**
react-dom-test-utils.development.js | 0.0% | 0.0% | 66.18 KB | 66.18 KB | 18.81 KB | 18.81 KB | NODE_DEV
ReactDOMTesting-dev.js | 0.0% | 0.0% | 920.17 KB | 920.43 KB | 206.92 KB | 206.98 KB | FB_WWW_DEV

## react-test-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-test-renderer.development.js | 0.0% | 0.0% | 633.79 KB | 634.05 KB | 133.3 KB | 133.35 KB | UMD_DEV
**react-test-renderer.production.min.js** | **0.0%** | **0.0%** | **80.25 KB** | **80.25 KB** | **25.45 KB** | **25.46 KB** | **UMD_PROD**
ReactTestRenderer-dev.js | 0.0% | 0.0% | 598.16 KB | 598.39 KB | 129.3 KB | 129.36 KB | RN_FB_DEV
ReactTestRenderer-profiling.js | 0.0% | 0.0% | 247.91 KB | 247.91 KB | 45.27 KB | 45.27 KB | RN_FB_PROFILING
react-test-renderer.development.js | 0.0% | 0.0% | 603.69 KB | 603.91 KB | 131.67 KB | 131.72 KB | NODE_DEV
**react-test-renderer.production.min.js** | **0.0%** | **0.0%** | **80.05 KB** | **80.05 KB** | **25.07 KB** | **25.08 KB** | **NODE_PROD**
ReactTestRenderer-dev.js | +1.1% | +0.7% | 603.5 KB | 610.35 KB | 129.67 KB | 130.58 KB | FB_WWW_DEV

  </details>
  

ReactDOM: size: 0.0%, gzip: 0.0%

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 62d0b1367d906352239cbedd4d9756b0b4534108
</p>
",2021-01-21T22:00:46Z
764969685,">  Should I rewrite invokeEffectsInDev to be iterative or are we okay with recursion in DEV only methods?

Probably should just in case, until we can resolve the issue we found in the open source dev build. But doesn't need to block this PR.",2021-01-21T22:02:18Z
764997783,"I have to agree with @RobIsHere. If the intended behavior is to strip invalid markup, that behavior should match in `dev` and `prod`, but it doesn't. That is definitely a problem.",2021-01-21T23:05:11Z
765022176,"- This happens on all apps that I open
- It occurs when trying to view the flame graph after a recording",2021-01-22T00:09:46Z
765144448,@rickhanlonii: Is the link to the issue the only place where integration for fast-refresh is documented?,2021-01-22T05:49:43Z
765228059,"> This happens on all apps that I open

It would help us a lot if you can share one of those apps. As minimal as possible until you can no longer reproduce the error. ""all apps that I open"" is a bit ambiguous since all the apps you did open might use a specific React API that causes this issue.",2021-01-22T08:22:39Z
765302624,"@eduardoUrbinaDev  i have something similar, did u solve it?",2021-01-22T10:19:30Z
765406897,"How is this going?
In React17, throwing `Promise` during rendering becomes special , `ErrorBoundary` can't catch throwing `Promise` but anything else! This forbid us to implement our own version of `Suspense` with 'maxDuration' featrue.",2021-01-22T13:45:47Z
765414150,"> >  Should I rewrite invokeEffectsInDev to be iterative or are we okay with recursion in DEV only methods?
>
> Probably should just in case, until we can resolve the issue we found in the open source dev build. But doesn't need to block this PR.

Okay. I wasn't sure since my recollection was that it seemed like the recursive methods didn't actually cause performance problems. I'll post a follow up PR.",2021-01-22T13:55:15Z
765464392,Hey @robicano22 :wave: Did you enable some [component filters](https://github.com/facebook/react/blob/master/packages/react-devtools/CHANGELOG.md#component-filters) and then forget to turn them off? ðŸ˜„  That's my guess.,2021-01-22T15:01:41Z
765465692,"Yeah, unfortunately this isn't very actionable for us at the moment. (Profiler works fine for me.) Getting access to one of your apps (or better yet a smaller reduced test case) would be very helpful though!",2021-01-22T15:03:12Z
765466395,"> Hey @robicano22 ðŸ‘‹ Did you enable some [component filters](https://github.com/facebook/react/blob/master/packages/react-devtools/CHANGELOG.md#component-filters) and then forget to turn them off? ðŸ˜„ That's my guess.

Hi Brian, thanks for the check on this.  I currently have no component filters enabled.",2021-01-22T15:04:06Z
765466837,Hey @testa19 can you please provide a repro for this problem?,2021-01-22T15:04:44Z
765467414,"Seems pretty likely to have something to do with your DevTools extension settings, since incognito (same DevTools version) works fine. Tried uninstalling and re-installing?",2021-01-22T15:05:32Z
765471833,"> Seems pretty likely to have something to do with your DevTools extension settings, since incognito (same DevTools version) works fine. Tried uninstalling and re-installing?

That worked ðŸ¤¦ Thank You!",2021-01-22T15:11:30Z
765472843,"No problem. That's pretty curious though. First time I've heard a report of this kind of bug.

Glad you got it sorted though!",2021-01-22T15:12:47Z
765478445,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->



No significant bundle size changes to report.

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against d07e41933ee432a23a94bcd0bdcfbd5c45e04d25
</p>
",2021-01-22T15:19:52Z
765478982,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->



No significant bundle size changes to report.

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against d07e41933ee432a23a94bcd0bdcfbd5c45e04d25
</p>
",2021-01-22T15:20:34Z
765496034,"The following works
```
const ref = useRef();

useEffect(() => {
    console.warn(ref.current.getBoundingClientRect().width)
    console.warn(ref.current.getBoundingClientRect().height)

    // Padding and margin
    console.warn(window.getComputedStyle(ref.current).paddingTop)
    console.warn(window.getComputedStyle(ref.current).marginTop)
  }, []);
```",2021-01-22T15:44:16Z
765539850,I think the Code Sandbox failure doesn't look to be related to my PR. Looks like a timeout of some sort?,2021-01-22T16:41:44Z
765584678,"Ran into this issue today as well. Unfortunately, React's `onBeforeInput` event is really more like `onBeforeInsert`. It doesn't fire for deletions, formatting, etc. See [here](https://www.w3.org/TR/input-events-2/#interface-InputEvent-Attributes) for a full list of `inputType` values.

It's likely that changing the behavior to match the spec would break a bunch of existing React components that rely on `onBeforeInput` only being for insertions. Perhaps it makes sense to rename the existing event to something else in the next major version, and make `onBeforeInput` map to the native event? This way at least existing code could simply run a codemod to change to the legacy event name without also needing to handle when `e.data` is `null`. Alternatively, the old event could be dropped completely, but perhaps it's still useful given browser support for the native event is not perfect yet.",2021-01-22T17:54:50Z
765608362,I have the same issue on Opera 63 with the latest React Dev Tools via Chrome extensions on ElementaryOS. Any help?,2021-01-22T18:35:55Z
765618179,bump,2021-01-22T18:54:14Z
765621225,"@devongovett It's something I thought long and hard about, especially as I'm currently working on a text editor at Facebook and obviously want to leverage the benefits of `beforeinput`.

It's more likely that we'd add support to React for `beforeinput` when FF ships stable support for `beforeinput`, as it's the last major browser that doesn't have support for it (although, hopefully it will soon thanks to the work done by @masayuki-nakano!). It would also have to be under a different alias, like you mentioned, such as: `unstable_onBeforeInput`. We'd switch the names around in React 19, giving folks plenty of time to plan for the change.",2021-01-22T18:59:50Z
765635254,Thanks! Going to merge so I can rebase on top,2021-01-22T19:27:32Z
765642089,https://jsfiddle.net/sjrft6q8/,2021-01-22T19:41:19Z
765643620,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20644/builds/94613) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 1297a660bab109dde5aa1d6c0cdedf8585d25f8d:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-cihz2)| Configuration |
",2021-01-22T19:44:03Z
765644958,"
<!--
  0 failure: 
  1 warning:  Build job for bas...
  
  1 markdown notices
  DangerID: danger-id-stable;
-->


<table>
  <thead>
    <tr>
      <th width=""50""></th>
      <th width=""100%"" data-danger-table=""true"">Warnings</th>
    </tr>
  </thead>
  <tbody><tr>
      <td>:warning:</td>
      <td>Build job for base commit is still pending: a6b5256a29b60620bdeb9266d4935cb59cc1258e</td>
    </tr>
  </tbody>
</table>


## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 1297a660bab109dde5aa1d6c0cdedf8585d25f8d
</p>
",2021-01-22T19:46:35Z
765645084,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->




  <details>
  <summary>Details of bundled changes.</summary>

  <p>Comparing: a6b5256a29b60620bdeb9266d4935cb59cc1258e...1297a660bab109dde5aa1d6c0cdedf8585d25f8d</p>


  
## react-dom
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactDOM-profiling.js | -1.4% | -1.0% | 402.35 KB | 396.83 KB | 74.32 KB | 73.57 KB | FB_WWW_PROFILING
**react-dom-test-utils.production.min.js** | **0.0%** | **-0.0%** | **13.7 KB** | **13.7 KB** | **5.27 KB** | **5.26 KB** | **NODE_PROD**
**ReactDOMTesting-prod.js** | **-1.4%** | **-1.0%** | **378.05 KB** | **372.76 KB** | **71.43 KB** | **70.73 KB** | **FB_WWW_PROD**
react-dom.development.js | -0.7% | -0.5% | 982.54 KB | 976.03 KB | 214.25 KB | 213.1 KB | UMD_DEV
**react-dom.production.min.js** | **-1.5%** | **-1.7%** | **126.12 KB** | **124.26 KB** | **41.44 KB** | **40.73 KB** | **UMD_PROD**
react-dom.profiling.min.js | -1.5% | -1.7% | 131.87 KB | 129.95 KB | 43.22 KB | 42.49 KB | UMD_PROFILING
react-dom-unstable-fizz.node.development.js | 0.0% | +0.1% | 5.42 KB | 5.42 KB | 1.82 KB | 1.82 KB | NODE_DEV
react-dom.development.js | -0.7% | -0.5% | 935.02 KB | 928.8 KB | 211.57 KB | 210.46 KB | NODE_DEV
ReactDOMForked-dev.js | 0.0% | -0.0% | 988.86 KB | 988.86 KB | 219.49 KB | 219.49 KB | FB_WWW_DEV
**react-dom-unstable-fizz.node.production.min.js** | **0.0%** | **:small_red_triangle:+0.3%** | **1.17 KB** | **1.17 KB** | **666 B** | **668 B** | **NODE_PROD**
**react-dom.production.min.js** | **-1.5%** | **-1.6%** | **126.37 KB** | **124.44 KB** | **40.77 KB** | **40.11 KB** | **NODE_PROD**
react-dom.profiling.min.js | -1.5% | -1.9% | 132.28 KB | 130.31 KB | 42.61 KB | 41.82 KB | NODE_PROFILING
react-dom-unstable-fizz.browser.development.js | 0.0% | +0.1% | 4.68 KB | 4.68 KB | 1.66 KB | 1.66 KB | NODE_DEV
ReactDOM-dev.js | -0.6% | -0.5% | 994.86 KB | 988.85 KB | 220.57 KB | 219.46 KB | FB_WWW_DEV
**react-dom-unstable-fizz.browser.production.min.js** | **0.0%** | **:small_red_triangle:+0.2%** | **1.01 KB** | **1.01 KB** | **616 B** | **617 B** | **NODE_PROD**
**ReactDOM-prod.js** | **-1.4%** | **-1.1%** | **383.72 KB** | **378.36 KB** | **71.12 KB** | **70.36 KB** | **FB_WWW_PROD**
react-dom-test-utils.development.js | 0.0% | 0.0% | 71.37 KB | 71.37 KB | 19.33 KB | 19.33 KB | UMD_DEV
ReactDOMServer-dev.js | 0.0% | 0.0% | 142.27 KB | 142.27 KB | 36.56 KB | 36.56 KB | FB_WWW_DEV
react-dom-test-utils.development.js | 0.0% | 0.0% | 66.18 KB | 66.18 KB | 18.81 KB | 18.81 KB | NODE_DEV
ReactDOMTesting-dev.js | -0.6% | -0.5% | 920.43 KB | 914.5 KB | 206.98 KB | 205.85 KB | FB_WWW_DEV

## react-native-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactNativeRenderer-profiling.js | -2.0% | -1.7% | 286.94 KB | 281.28 KB | 51.31 KB | 50.43 KB | RN_OSS_PROFILING
ReactFabric-dev.js | -0.7% | -0.7% | 670.29 KB | 665.44 KB | 144.7 KB | 143.67 KB | RN_OSS_DEV
**ReactFabric-prod.js** | **-2.0%** | **-1.6%** | **268.19 KB** | **262.72 KB** | **47.72 KB** | **46.96 KB** | **RN_OSS_PROD**
ReactFabric-profiling.js | -2.0% | -1.6% | 280.23 KB | 274.64 KB | 49.98 KB | 49.18 KB | RN_OSS_PROFILING
ReactNativeRenderer-dev.js | -0.8% | -0.6% | 689.54 KB | 683.97 KB | 149.26 KB | 148.29 KB | RN_OSS_DEV
**ReactNativeRenderer-prod.js** | **-1.9%** | **-1.7%** | **274.48 KB** | **269.39 KB** | **49.03 KB** | **48.18 KB** | **RN_OSS_PROD**

## react-test-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-test-renderer.development.js | -0.9% | -0.7% | 634.05 KB | 628.29 KB | 133.35 KB | 132.36 KB | UMD_DEV
**react-test-renderer.production.min.js** | **-1.7%** | **-1.9%** | **80.25 KB** | **78.9 KB** | **25.46 KB** | **24.98 KB** | **UMD_PROD**
ReactTestRenderer-dev.js | -0.9% | -0.8% | 598.39 KB | 592.95 KB | 129.36 KB | 128.37 KB | RN_FB_DEV
**ReactTestRenderer-prod.js** | **-2.1%** | **-1.8%** | **235.56 KB** | **230.55 KB** | **43.05 KB** | **42.26 KB** | **RN_FB_PROD**
ReactTestRenderer-profiling.js | -2.2% | -1.8% | 247.91 KB | 242.34 KB | 45.27 KB | 44.45 KB | RN_FB_PROFILING
react-test-renderer.development.js | -0.9% | -0.7% | 603.91 KB | 598.42 KB | 131.72 KB | 130.79 KB | NODE_DEV
**react-test-renderer.production.min.js** | **-1.7%** | **-1.7%** | **80.05 KB** | **78.7 KB** | **25.08 KB** | **24.66 KB** | **NODE_PROD**
ReactTestRenderer-dev.js | -0.9% | -0.7% | 610.57 KB | 605.1 KB | 130.62 KB | 129.68 KB | FB_WWW_DEV

## react-art
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactART-dev.js | -0.8% | -0.6% | 660.93 KB | 655.54 KB | 139.94 KB | 139.06 KB | FB_WWW_DEV
react-art.development.js | -0.8% | -0.6% | 719.03 KB | 713.14 KB | 152.38 KB | 151.4 KB | UMD_DEV
**react-art.production.min.js** | **-1.2%** | **-1.2%** | **114.79 KB** | **113.46 KB** | **35.81 KB** | **35.37 KB** | **UMD_PROD**
react-art.development.js | -0.9% | -0.8% | 618.8 KB | 613.18 KB | 134.37 KB | 133.36 KB | NODE_DEV
**react-art.production.min.js** | **-1.7%** | **-1.6%** | **79.74 KB** | **78.4 KB** | **24.96 KB** | **24.55 KB** | **NODE_PROD**
**ReactART-prod.js** | **-1.9%** | **-1.8%** | **246.41 KB** | **241.76 KB** | **43.83 KB** | **43.04 KB** | **FB_WWW_PROD**

## react-reconciler
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
**react-reconciler-reflection.production.min.js** | **0.0%** | **:small_red_triangle:+0.1%** | **2.63 KB** | **2.63 KB** | **1.14 KB** | **1.14 KB** | **NODE_PROD**
react-reconciler.development.js | -0.8% | -0.7% | 676.5 KB | 670.95 KB | 144.27 KB | 143.28 KB | NODE_DEV
**react-reconciler.production.min.js** | **-1.4%** | **-1.6%** | **89.74 KB** | **88.46 KB** | **27.9 KB** | **27.47 KB** | **NODE_PROD**
react-reconciler.profiling.min.js | -1.3% | -1.4% | 95.53 KB | 94.24 KB | 29.66 KB | 29.26 KB | NODE_PROFILING

  </details>
  

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 1297a660bab109dde5aa1d6c0cdedf8585d25f8d
</p>
",2021-01-22T19:46:49Z
765646334,Merging so I can rebase another branch on this :),2021-01-22T19:49:27Z
765665355,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20645/builds/95278) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 4b28e164f9df6899cb40bad224f9333c0ddf8100:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-7ebs6)| Configuration |
",2021-01-22T20:29:28Z
765666675,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->




  <details>
  <summary>Details of bundled changes.</summary>

  <p>Comparing: f15f8f64bbc3e02911d1a112fa9bb8f7066a56ee...4b28e164f9df6899cb40bad224f9333c0ddf8100</p>


  
## react-dom
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactDOM-profiling.js | +0.4% | +0.3% | 408.3 KB | 409.88 KB | 75.37 KB | 75.59 KB | FB_WWW_PROFILING
**react-dom-server.node.production.min.js** | **0.0%** | **0.0%** | **20.19 KB** | **20.19 KB** | **7.58 KB** | **7.58 KB** | **NODE_PROD**
**ReactDOMTesting-prod.js** | **:small_red_triangle:+0.4%** | **:small_red_triangle:+0.3%** | **385.98 KB** | **387.47 KB** | **72.9 KB** | **73.1 KB** | **FB_WWW_PROD**
react-dom.development.js | +0.1% | +0.1% | 923.58 KB | 924.34 KB | 203.19 KB | 203.29 KB | UMD_DEV
ReactTestUtils-dev.js | +0.1% | +0.1% | 61.26 KB | 61.33 KB | 16.88 KB | 16.9 KB | FB_WWW_DEV
**react-dom.production.min.js** | **:small_red_triangle:+0.1%** | **:small_red_triangle:+0.2%** | **117.92 KB** | **118.02 KB** | **38.75 KB** | **38.84 KB** | **UMD_PROD**
react-dom.profiling.min.js | +0.1% | +0.2% | 122.02 KB | 122.12 KB | 39.99 KB | 40.07 KB | UMD_PROFILING
react-dom.development.js | +0.1% | 0.0% | 878.85 KB | 879.6 KB | 200.63 KB | 200.72 KB | NODE_DEV
ReactDOMForked-dev.js | +0.1% | +0.1% | 1019.7 KB | 1021.1 KB | 225.4 KB | 225.58 KB | FB_WWW_DEV
**react-dom.production.min.js** | **:small_red_triangle:+0.1%** | **:small_red_triangle:+0.2%** | **118.02 KB** | **118.12 KB** | **38.12 KB** | **38.21 KB** | **NODE_PROD**
**ReactDOMForked-prod.js** | **:small_red_triangle:+0.4%** | **:small_red_triangle:+0.3%** | **392.67 KB** | **394.38 KB** | **72.73 KB** | **72.98 KB** | **FB_WWW_PROD**
react-dom.profiling.min.js | +0.1% | +0.2% | 122.28 KB | 122.38 KB | 39.38 KB | 39.45 KB | NODE_PROFILING
ReactDOMForked-profiling.js | +0.4% | +0.3% | 411.2 KB | 412.79 KB | 75.93 KB | 76.16 KB | FB_WWW_PROFILING
ReactDOM-dev.js | +0.1% | +0.1% | 1014.43 KB | 1015.84 KB | 224.24 KB | 224.41 KB | FB_WWW_DEV
**ReactDOM-prod.js** | **:small_red_triangle:+0.4%** | **:small_red_triangle:+0.4%** | **389.78 KB** | **391.48 KB** | **72.16 KB** | **72.42 KB** | **FB_WWW_PROD**
ReactDOMServer-dev.js | 0.0% | +0.1% | 146.3 KB | 146.38 KB | 37.57 KB | 37.6 KB | FB_WWW_DEV
ReactDOMTesting-dev.js | +0.1% | +0.1% | 942.84 KB | 943.84 KB | 211.51 KB | 211.65 KB | FB_WWW_DEV

## react-native-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactNativeRenderer-profiling.js | +0.5% | +0.4% | 281.27 KB | 282.75 KB | 50.42 KB | 50.63 KB | RN_OSS_PROFILING
ReactFabric-profiling.js | +0.4% | +0.4% | 274.59 KB | 275.59 KB | 49.15 KB | 49.33 KB | RN_FB_PROFILING
ReactFabric-dev.js | +0.1% | +0.1% | 665.43 KB | 666.31 KB | 143.66 KB | 143.8 KB | RN_OSS_DEV
**ReactFabric-prod.js** | **:small_red_triangle:+0.4%** | **:small_red_triangle:+0.3%** | **262.71 KB** | **263.64 KB** | **46.95 KB** | **47.1 KB** | **RN_OSS_PROD**
ReactFabric-profiling.js | +0.4% | +0.4% | 274.63 KB | 275.63 KB | 49.17 KB | 49.35 KB | RN_OSS_PROFILING
ReactNativeRenderer-dev.js | +0.1% | +0.1% | 683.96 KB | 684.94 KB | 148.29 KB | 148.44 KB | RN_OSS_DEV
ReactFabric-dev.js | +0.1% | +0.1% | 670.83 KB | 671.72 KB | 144.54 KB | 144.68 KB | RN_FB_DEV
**ReactNativeRenderer-prod.js** | **:small_red_triangle:+0.5%** | **:small_red_triangle:+0.4%** | **269.38 KB** | **270.78 KB** | **48.17 KB** | **48.38 KB** | **RN_OSS_PROD**
**ReactFabric-prod.js** | **:small_red_triangle:+0.4%** | **:small_red_triangle:+0.3%** | **262.67 KB** | **263.6 KB** | **46.93 KB** | **47.09 KB** | **RN_FB_PROD**
ReactNativeRenderer-dev.js | +0.1% | +0.1% | 689.35 KB | 690.33 KB | 149.16 KB | 149.31 KB | RN_FB_DEV
**ReactNativeRenderer-prod.js** | **:small_red_triangle:+0.5%** | **:small_red_triangle:+0.4%** | **269.34 KB** | **270.74 KB** | **48.16 KB** | **48.36 KB** | **RN_FB_PROD**
ReactNativeRenderer-profiling.js | +0.5% | +0.4% | 281.22 KB | 282.7 KB | 50.4 KB | 50.61 KB | RN_FB_PROFILING

## react-test-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-test-renderer.development.js | +0.1% | +0.1% | 611.72 KB | 612.47 KB | 128.98 KB | 129.08 KB | UMD_DEV
**react-test-renderer.production.min.js** | **:small_red_triangle:+0.1%** | **:small_red_triangle:+0.4%** | **76.54 KB** | **76.64 KB** | **24.2 KB** | **24.3 KB** | **UMD_PROD**
ReactTestRenderer-dev.js | +0.2% | +0.1% | 592.93 KB | 593.91 KB | 128.36 KB | 128.51 KB | RN_FB_DEV
**ReactTestRenderer-prod.js** | **:small_red_triangle:+0.6%** | **:small_red_triangle:+0.5%** | **230.54 KB** | **231.89 KB** | **42.25 KB** | **42.45 KB** | **RN_FB_PROD**
ReactTestRenderer-profiling.js | +0.6% | +0.5% | 242.33 KB | 243.76 KB | 44.44 KB | 44.64 KB | RN_FB_PROFILING
react-test-renderer.development.js | +0.1% | +0.1% | 582.68 KB | 583.43 KB | 127.44 KB | 127.53 KB | NODE_DEV
**react-test-renderer.production.min.js** | **:small_red_triangle:+0.1%** | **:small_red_triangle:+0.4%** | **76.35 KB** | **76.45 KB** | **23.87 KB** | **23.96 KB** | **NODE_PROD**
ReactTestRenderer-dev.js | +0.2% | +0.1% | 605.08 KB | 606.17 KB | 129.67 KB | 129.83 KB | FB_WWW_DEV

## react-art
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactART-dev.js | +0.2% | +0.1% | 665.55 KB | 666.96 KB | 141.08 KB | 141.25 KB | FB_WWW_DEV
react-art.development.js | +0.1% | +0.1% | 670.98 KB | 671.74 KB | 142.97 KB | 143.06 KB | UMD_DEV
**react-art.production.min.js** | **:small_red_triangle:+0.1%** | **:small_red_triangle:+0.3%** | **108.69 KB** | **108.79 KB** | **33.87 KB** | **33.97 KB** | **UMD_PROD**
react-art.development.js | +0.1% | +0.1% | 573.04 KB | 573.79 KB | 125.08 KB | 125.17 KB | NODE_DEV
**react-art.production.min.js** | **:small_red_triangle:+0.1%** | **:small_red_triangle:+0.4%** | **73.68 KB** | **73.78 KB** | **23.02 KB** | **23.11 KB** | **NODE_PROD**
**ReactART-prod.js** | **:small_red_triangle:+0.7%** | **:small_red_triangle:+0.6%** | **248.98 KB** | **250.62 KB** | **44.28 KB** | **44.53 KB** | **FB_WWW_PROD**

## react-reconciler
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-reconciler.development.js | +0.1% | +0.1% | 627.89 KB | 628.69 KB | 134.39 KB | 134.47 KB | NODE_DEV
**react-reconciler.production.min.js** | **:small_red_triangle:+0.1%** | **:small_red_triangle:+0.4%** | **83.23 KB** | **83.34 KB** | **25.9 KB** | **26.01 KB** | **NODE_PROD**
react-reconciler.profiling.min.js | +0.1% | +0.4% | 87.4 KB | 87.51 KB | 27.18 KB | 27.28 KB | NODE_PROFILING

  </details>
  

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 4b28e164f9df6899cb40bad224f9333c0ddf8100
</p>
",2021-01-22T20:32:13Z
765667869,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->




  <details>
  <summary>Details of bundled changes.</summary>

  <p>Comparing: f15f8f64bbc3e02911d1a112fa9bb8f7066a56ee...4b28e164f9df6899cb40bad224f9333c0ddf8100</p>


  
## react-dom
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactDOM-profiling.js | +0.4% | +0.3% | 396.83 KB | 398.42 KB | 73.57 KB | 73.81 KB | FB_WWW_PROFILING
**ReactDOMTesting-prod.js** | **:small_red_triangle:+0.4%** | **:small_red_triangle:+0.3%** | **372.76 KB** | **374.25 KB** | **70.73 KB** | **70.93 KB** | **FB_WWW_PROD**
react-dom.development.js | +0.1% | 0.0% | 976.03 KB | 976.79 KB | 213.1 KB | 213.2 KB | UMD_DEV
ReactTestUtils-dev.js | +0.1% | +0.1% | 61.26 KB | 61.33 KB | 16.88 KB | 16.9 KB | FB_WWW_DEV
**react-dom.production.min.js** | **:small_red_triangle:+0.1%** | **:small_red_triangle:+0.3%** | **124.26 KB** | **124.37 KB** | **40.73 KB** | **40.85 KB** | **UMD_PROD**
react-dom.profiling.min.js | +0.1% | +0.2% | 129.95 KB | 130.05 KB | 42.49 KB | 42.58 KB | UMD_PROFILING
react-dom.development.js | +0.1% | 0.0% | 928.8 KB | 929.55 KB | 210.47 KB | 210.55 KB | NODE_DEV
ReactDOMForked-dev.js | +0.1% | +0.1% | 994.12 KB | 995.52 KB | 220.6 KB | 220.79 KB | FB_WWW_DEV
**react-dom-unstable-fizz.browser.production.min.js** | **0.0%** | **-0.1%** | **1.22 KB** | **1.22 KB** | **713 B** | **712 B** | **UMD_PROD**
**react-dom.production.min.js** | **:small_red_triangle:+0.1%** | **:small_red_triangle:+0.2%** | **124.44 KB** | **124.54 KB** | **40.11 KB** | **40.2 KB** | **NODE_PROD**
**ReactDOMForked-prod.js** | **:small_red_triangle:+0.4%** | **:small_red_triangle:+0.4%** | **381.29 KB** | **383 KB** | **70.94 KB** | **71.21 KB** | **FB_WWW_PROD**
react-dom.profiling.min.js | +0.1% | +0.2% | 130.31 KB | 130.41 KB | 41.82 KB | 41.92 KB | NODE_PROFILING
ReactDOMForked-profiling.js | +0.4% | +0.3% | 399.76 KB | 401.35 KB | 74.15 KB | 74.38 KB | FB_WWW_PROFILING
ReactDOM-dev.js | +0.1% | +0.1% | 988.85 KB | 990.25 KB | 219.47 KB | 219.66 KB | FB_WWW_DEV
**ReactDOM-prod.js** | **:small_red_triangle:+0.5%** | **:small_red_triangle:+0.4%** | **378.36 KB** | **380.07 KB** | **70.37 KB** | **70.63 KB** | **FB_WWW_PROD**
ReactDOMServer-dev.js | +0.1% | +0.1% | 142.27 KB | 142.34 KB | 36.56 KB | 36.58 KB | FB_WWW_DEV
ReactDOMTesting-dev.js | +0.1% | +0.1% | 914.5 KB | 915.5 KB | 205.85 KB | 205.99 KB | FB_WWW_DEV

## react-native-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactNativeRenderer-profiling.js | +0.5% | +0.4% | 281.28 KB | 282.76 KB | 50.43 KB | 50.64 KB | RN_OSS_PROFILING
ReactFabric-dev.js | +0.1% | +0.1% | 665.44 KB | 666.33 KB | 143.67 KB | 143.81 KB | RN_OSS_DEV
**ReactFabric-prod.js** | **:small_red_triangle:+0.4%** | **:small_red_triangle:+0.3%** | **262.72 KB** | **263.65 KB** | **46.96 KB** | **47.11 KB** | **RN_OSS_PROD**
ReactFabric-profiling.js | +0.4% | +0.4% | 274.64 KB | 275.65 KB | 49.18 KB | 49.36 KB | RN_OSS_PROFILING
ReactNativeRenderer-dev.js | +0.1% | +0.1% | 683.97 KB | 684.95 KB | 148.29 KB | 148.45 KB | RN_OSS_DEV
**ReactNativeRenderer-prod.js** | **:small_red_triangle:+0.5%** | **:small_red_triangle:+0.4%** | **269.39 KB** | **270.79 KB** | **48.18 KB** | **48.39 KB** | **RN_OSS_PROD**

## react-test-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-test-renderer.development.js | +0.1% | +0.1% | 628.29 KB | 629.04 KB | 132.36 KB | 132.46 KB | UMD_DEV
**react-test-renderer.production.min.js** | **:small_red_triangle:+0.1%** | **:small_red_triangle:+0.3%** | **78.9 KB** | **78.99 KB** | **24.98 KB** | **25.05 KB** | **UMD_PROD**
ReactTestRenderer-dev.js | +0.2% | +0.1% | 592.95 KB | 593.92 KB | 128.37 KB | 128.52 KB | RN_FB_DEV
**ReactTestRenderer-prod.js** | **:small_red_triangle:+0.6%** | **:small_red_triangle:+0.5%** | **230.55 KB** | **231.9 KB** | **42.26 KB** | **42.46 KB** | **RN_FB_PROD**
ReactTestRenderer-profiling.js | +0.6% | +0.4% | 242.34 KB | 243.77 KB | 44.45 KB | 44.65 KB | RN_FB_PROFILING
react-test-renderer.development.js | +0.1% | +0.1% | 598.42 KB | 599.17 KB | 130.79 KB | 130.88 KB | NODE_DEV
**react-test-renderer.production.min.js** | **:small_red_triangle:+0.1%** | **:small_red_triangle:+0.3%** | **78.7 KB** | **78.8 KB** | **24.66 KB** | **24.74 KB** | **NODE_PROD**
ReactTestRenderer-dev.js | +0.2% | +0.1% | 605.1 KB | 606.18 KB | 129.68 KB | 129.84 KB | FB_WWW_DEV

## react-art
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactART-dev.js | +0.2% | +0.1% | 655.54 KB | 656.94 KB | 139.06 KB | 139.23 KB | FB_WWW_DEV
react-art.development.js | +0.1% | +0.1% | 713.14 KB | 713.89 KB | 151.4 KB | 151.49 KB | UMD_DEV
**react-art.production.min.js** | **:small_red_triangle:+0.1%** | **:small_red_triangle:+0.3%** | **113.46 KB** | **113.55 KB** | **35.37 KB** | **35.48 KB** | **UMD_PROD**
react-art.development.js | +0.1% | +0.1% | 613.18 KB | 613.94 KB | 133.36 KB | 133.45 KB | NODE_DEV
**react-art.production.min.js** | **:small_red_triangle:+0.1%** | **:small_red_triangle:+0.3%** | **78.4 KB** | **78.5 KB** | **24.55 KB** | **24.62 KB** | **NODE_PROD**
**ReactART-prod.js** | **:small_red_triangle:+0.7%** | **:small_red_triangle:+0.6%** | **241.76 KB** | **243.41 KB** | **43.04 KB** | **43.29 KB** | **FB_WWW_PROD**

## react-reconciler
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-reconciler.development.js | +0.1% | +0.1% | 670.95 KB | 671.74 KB | 143.28 KB | 143.36 KB | NODE_DEV
**react-reconciler.production.min.js** | **:small_red_triangle:+0.1%** | **:small_red_triangle:+0.4%** | **88.46 KB** | **88.57 KB** | **27.47 KB** | **27.58 KB** | **NODE_PROD**
react-reconciler.profiling.min.js | +0.1% | +0.3% | 94.24 KB | 94.35 KB | 29.26 KB | 29.35 KB | NODE_PROFILING

  </details>
  

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 4b28e164f9df6899cb40bad224f9333c0ddf8100
</p>
",2021-01-22T20:33:08Z
765874329,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20646/builds/94741) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 26d596d3cdd8226f160f801c3386ffe20e657286:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-f8z7p)| Configuration |
",2021-01-23T06:02:45Z
765875193,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




Comparing: 903384ab0ccd57efd56225dbc82ba6ad56021380...eb46705daadf92cc397267e65bcb6675faca3835

## Critical size changes

Includes critical production bundles, as well as any change greater
than 2%:


  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| oss-experimental/react-debug-tools/cjs/react-debug-tools.production.min.js | **+2.09%** | 6.17 kB | 6.29 kB | +0.96% | 2.41 kB | 2.43 kB
| oss-stable/react-debug-tools/cjs/react-debug-tools.production.min.js | **+2.09%** | 6.17 kB | 6.29 kB | +0.96% | 2.41 kB | 2.43 kB
| oss-experimental/react-dom/cjs/react-dom.production.min.js | **+0.43%** | 128.86 kB | 129.41 kB | +0.31% | 41.52 kB | 41.65 kB
| facebook-www/ReactDOM-prod.modern.js | **+0.35%** | 393.99 kB | 395.35 kB | +0.29% | 73.43 kB | 73.65 kB
| facebook-www/ReactDOM-prod.classic.js | **+0.34%** | 405.64 kB | 407.00 kB | +0.29% | 75.23 kB | 75.45 kB
| facebook-www/ReactDOMForked-prod.classic.js | **+0.34%** | 405.65 kB | 407.01 kB | +0.29% | 75.24 kB | 75.45 kB
| oss-stable/react-dom/cjs/react-dom.production.min.js | **+0.11%** | 122.28 kB | 122.42 kB | -0.02% | 39.49 kB | 39.48 kB

## Significant size changes

Includes any change greater than 0.2%:


<details>
<summary>Expand to show</summary>

  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| oss-experimental/react-debug-tools/cjs/react-debug-tools.production.min.js | **+2.09%** | 6.17 kB | 6.29 kB | +0.96% | 2.41 kB | 2.43 kB
| oss-stable/react-debug-tools/cjs/react-debug-tools.production.min.js | **+2.09%** | 6.17 kB | 6.29 kB | +0.96% | 2.41 kB | 2.43 kB
| oss-experimental/react-suspense-test-utils/cjs/react-suspense-test-utils.js | **+1.44%** | 2.57 kB | 2.61 kB | +0.65% | 1.08 kB | 1.09 kB
| oss-stable/react-suspense-test-utils/cjs/react-suspense-test-utils.js | **+1.44%** | 2.57 kB | 2.61 kB | +0.65% | 1.08 kB | 1.09 kB
| oss-experimental/react-debug-tools/cjs/react-debug-tools.development.js | **+1.44%** | 21.31 kB | 21.61 kB | +1.13% | 5.84 kB | 5.91 kB
| oss-stable/react-debug-tools/cjs/react-debug-tools.development.js | **+1.44%** | 21.31 kB | 21.61 kB | +1.13% | 5.84 kB | 5.91 kB
| oss-experimental/react/cjs/react.development.js | **+1.30%** | 74.31 kB | 75.27 kB | +0.38% | 19.86 kB | 19.94 kB
| oss-experimental/react/cjs/react.production.min.js | **+1.27%** | 7.59 kB | 7.68 kB | +0.58% | 2.95 kB | 2.97 kB
| facebook-react-native/react/cjs/React-dev.js | **+1.15%** | 89.27 kB | 90.30 kB | +0.43% | 21.40 kB | 21.49 kB
| facebook-react-native/react/cjs/React-prod.js | **+1.10%** | 16.79 kB | 16.97 kB | +0.79% | 4.31 kB | 4.34 kB
| facebook-react-native/react/cjs/React-profiling.js | **+1.10%** | 16.79 kB | 16.97 kB | +0.79% | 4.31 kB | 4.34 kB
| facebook-www/React-prod.modern.js | **+1.09%** | 16.95 kB | 17.13 kB | +0.82% | 4.38 kB | 4.42 kB
| facebook-www/React-profiling.modern.js | **+1.09%** | 16.95 kB | 17.13 kB | +0.82% | 4.38 kB | 4.42 kB
| facebook-www/React-prod.classic.js | **+1.08%** | 17.09 kB | 17.28 kB | +0.84% | 4.43 kB | 4.46 kB
| facebook-www/React-profiling.classic.js | **+1.08%** | 17.09 kB | 17.28 kB | +0.84% | 4.43 kB | 4.46 kB
| facebook-www/React-dev.modern.js | **+1.05%** | 98.04 kB | 99.06 kB | +0.41% | 23.86 kB | 23.96 kB
| facebook-www/React-dev.classic.js | **+1.04%** | 99.05 kB | 100.08 kB | +0.43% | 24.09 kB | 24.19 kB
| oss-experimental/react-test-renderer/cjs/react-test-renderer.development.js | **+1.00%** | 623.33 kB | 629.54 kB | +0.56% | 136.39 kB | 137.15 kB
| oss-experimental/react-test-renderer/umd/react-test-renderer.development.js | **+1.00%** | 654.35 kB | 660.86 kB | +0.58% | 138.02 kB | 138.82 kB
| oss-experimental/react-art/cjs/react-art.development.js | **+0.97%** | 638.71 kB | 644.93 kB | +0.58% | 139.09 kB | 139.89 kB
| facebook-www/ReactART-dev.modern.js | **+0.92%** | 684.09 kB | 690.35 kB | +0.55% | 145.32 kB | 146.11 kB
| facebook-www/ReactART-dev.classic.js | **+0.90%** | 694.34 kB | 700.60 kB | +0.54% | 147.40 kB | 148.21 kB
| oss-experimental/react-reconciler/cjs/react-reconciler.development.js | **+0.90%** | 697.36 kB | 703.61 kB | +0.53% | 149.19 kB | 149.98 kB
| oss-experimental/react/umd/react.development.js | **+0.89%** | 111.75 kB | 112.74 kB | +0.29% | 27.36 kB | 27.44 kB
| oss-experimental/react-art/umd/react-art.development.js | **+0.88%** | 741.50 kB | 748.02 kB | +0.51% | 157.63 kB | 158.43 kB
| oss-experimental/react/umd/react.production.min.js | **+0.75%** | 12.03 kB | 12.12 kB | +0.30% | 4.71 kB | 4.73 kB
| oss-stable/react-art/cjs/react-art.development.js | **+0.69%** | 597.52 kB | 601.66 kB | +0.31% | 130.63 kB | 131.03 kB
| oss-stable/react-test-renderer/cjs/react-test-renderer.development.js | **+0.68%** | 607.12 kB | 611.26 kB | +0.30% | 132.96 kB | 133.36 kB
| oss-stable/react-test-renderer/umd/react-test-renderer.development.js | **+0.68%** | 637.29 kB | 641.63 kB | +0.28% | 134.59 kB | 134.97 kB
| oss-experimental/react-art/cjs/react-art.production.min.js | **+0.68%** | 81.71 kB | 82.26 kB | +0.37% | 25.60 kB | 25.70 kB
| oss-experimental/react-test-renderer/cjs/react-test-renderer.production.min.js | **+0.68%** | 82.02 kB | 82.58 kB | +0.45% | 25.73 kB | 25.84 kB
| oss-experimental/react-test-renderer/umd/react-test-renderer.production.min.js | **+0.67%** | 82.21 kB | 82.76 kB | +0.46% | 26.09 kB | 26.21 kB
| facebook-react-native/react-test-renderer/cjs/ReactTestRenderer-dev.js | **+0.67%** | 617.99 kB | 622.12 kB | +0.30% | 133.99 kB | 134.39 kB
| facebook-www/ReactDOMTesting-dev.modern.js | **+0.66%** | 947.16 kB | 953.42 kB | +0.39% | 213.27 kB | 214.09 kB
| facebook-www/ReactTestRenderer-dev.classic.js | **+0.66%** | 630.56 kB | 634.69 kB | +0.29% | 135.37 kB | 135.77 kB
| facebook-www/ReactTestRenderer-dev.modern.js | **+0.66%** | 630.57 kB | 634.71 kB | +0.29% | 135.38 kB | 135.78 kB
| oss-experimental/react-dom/cjs/react-dom.development.js | **+0.65%** | 961.76 kB | 967.98 kB | +0.35% | 218.00 kB | 218.77 kB
| oss-experimental/react-dom/umd/react-dom.development.js | **+0.64%** | 1,010.56 kB | 1,017.07 kB | +0.35% | 221.01 kB | 221.78 kB
| facebook-www/ReactDOMTesting-dev.classic.js | **+0.64%** | 976.18 kB | 982.44 kB | +0.37% | 219.08 kB | 219.89 kB
| oss-stable/react-reconciler/cjs/react-reconciler.development.js | **+0.63%** | 653.50 kB | 657.64 kB | +0.29% | 140.22 kB | 140.63 kB
| oss-experimental/react-reconciler/cjs/react-reconciler.production.min.js | **+0.63%** | 91.98 kB | 92.56 kB | +0.14% | 28.60 kB | 28.64 kB
| oss-stable/react-art/umd/react-art.development.js | **+0.62%** | 698.24 kB | 702.58 kB | +0.27% | 148.98 kB | 149.38 kB
| facebook-www/ReactDOM-dev.modern.js | **+0.61%** | 1,025.58 kB | 1,031.85 kB | +0.34% | 227.96 kB | 228.73 kB
| facebook-www/ReactDOMForked-dev.modern.js | **+0.61%** | 1,025.59 kB | 1,031.85 kB | +0.34% | 227.75 kB | 228.53 kB
| react-native/implementations/ReactFabric-dev.js | **+0.60%** | 692.90 kB | 697.04 kB | +0.27% | 149.72 kB | 150.12 kB
| facebook-www/ReactDOM-dev.classic.js | **+0.60%** | 1,051.78 kB | 1,058.04 kB | +0.34% | 232.91 kB | 233.69 kB
| facebook-www/ReactDOMForked-dev.classic.js | **+0.60%** | 1,051.79 kB | 1,058.05 kB | +0.34% | 232.71 kB | 233.49 kB
| react-native/implementations/ReactFabric-dev.fb.js | **+0.59%** | 698.42 kB | 702.56 kB | +0.27% | 150.59 kB | 150.99 kB
| oss-experimental/react-reconciler/cjs/react-reconciler.profiling.min.js | **+0.59%** | 97.90 kB | 98.48 kB | +0.30% | 30.39 kB | 30.48 kB
| oss-experimental/react/umd/react.profiling.min.js | **+0.58%** | 15.63 kB | 15.72 kB | +0.29% | 5.82 kB | 5.83 kB
| react-native/implementations/ReactNativeRenderer-dev.js | **+0.58%** | 711.86 kB | 715.99 kB | +0.26% | 154.43 kB | 154.84 kB
| react-native/implementations/ReactNativeRenderer-dev.fb.js | **+0.58%** | 717.37 kB | 721.50 kB | +0.27% | 155.30 kB | 155.73 kB
| facebook-www/ReactART-prod.modern.js | **+0.54%** | 253.57 kB | 254.93 kB | +0.47% | 45.26 kB | 45.47 kB
| facebook-www/ReactDOMServer-prod.modern.js | **+0.52%** | 47.51 kB | 47.76 kB | +0.32% | 11.07 kB | 11.10 kB
| facebook-www/ReactART-prod.classic.js | **+0.52%** | 260.92 kB | 262.28 kB | +0.48% | 46.57 kB | 46.80 kB
| facebook-www/ReactDOMServer-prod.classic.js | **+0.51%** | 48.40 kB | 48.65 kB | +0.41% | 11.28 kB | 11.33 kB
| oss-experimental/react-art/umd/react-art.production.min.js | **+0.47%** | 117.61 kB | 118.16 kB | +0.40% | 36.68 kB | 36.83 kB
| oss-stable/react-dom/cjs/react-dom.development.js | **+0.45%** | 910.53 kB | 914.67 kB | +0.19% | 207.92 kB | 208.32 kB
| oss-stable/react-dom/umd/react-dom.development.js | **+0.45%** | 956.76 kB | 961.11 kB | +0.17% | 210.68 kB | 211.05 kB
| oss-experimental/react-dom/cjs/react-dom.production.min.js | **+0.43%** | 128.86 kB | 129.41 kB | +0.31% | 41.52 kB | 41.65 kB
| oss-experimental/react-dom/umd/react-dom.production.min.js | **+0.43%** | 128.69 kB | 129.24 kB | +0.27% | 42.20 kB | 42.32 kB
| oss-experimental/react-dom/cjs/react-dom.profiling.min.js | **+0.41%** | 134.86 kB | 135.42 kB | +0.24% | 43.30 kB | 43.40 kB
| oss-experimental/react-dom/umd/react-dom.profiling.min.js | **+0.41%** | 134.52 kB | 135.07 kB | +0.26% | 43.94 kB | 44.05 kB
| facebook-www/ReactDOMTesting-prod.modern.js | **+0.40%** | 386.88 kB | 388.41 kB | +0.33% | 73.39 kB | 73.63 kB
| oss-stable/react-dom/cjs/react-dom-server.browser.production.min.js | **+0.39%** | 20.17 kB | 20.25 kB | +0.25% | 7.57 kB | 7.59 kB
| facebook-www/ReactDOMTesting-prod.classic.js | **+0.38%** | 400.41 kB | 401.94 kB | +0.30% | 75.59 kB | 75.82 kB
| oss-stable/react-dom/cjs/react-dom-server.node.production.min.js | **+0.38%** | 20.61 kB | 20.68 kB | +0.25% | 7.73 kB | 7.75 kB
| oss-experimental/react-dom/cjs/react-dom-server.browser.production.min.js | **+0.37%** | 20.73 kB | 20.81 kB | +0.26% | 7.69 kB | 7.71 kB
| oss-stable/react-dom/umd/react-dom-server.browser.production.min.js | **+0.37%** | 20.27 kB | 20.35 kB | +0.07% | 7.61 kB | 7.62 kB
| oss-experimental/react-dom/cjs/react-dom-server.node.production.min.js | **+0.36%** | 21.16 kB | 21.24 kB | +0.27% | 7.85 kB | 7.87 kB
| oss-experimental/react-dom/umd/react-dom-server.browser.production.min.js | **+0.36%** | 20.83 kB | 20.91 kB | +0.13% | 7.73 kB | 7.74 kB
| facebook-www/ReactDOM-prod.modern.js | **+0.35%** | 393.99 kB | 395.35 kB | +0.29% | 73.43 kB | 73.65 kB
| facebook-www/ReactDOMForked-prod.modern.js | **+0.35%** | 394.00 kB | 395.36 kB | +0.29% | 73.44 kB | 73.66 kB
| facebook-www/ReactDOM-prod.classic.js | **+0.34%** | 405.64 kB | 407.00 kB | +0.29% | 75.23 kB | 75.45 kB
| facebook-www/ReactDOMForked-prod.classic.js | **+0.34%** | 405.65 kB | 407.01 kB | +0.29% | 75.24 kB | 75.45 kB
| oss-experimental/react-server/cjs/react-server-flight.production.min.js | **+0.34%** | 6.55 kB | 6.57 kB | +0.18% | 2.77 kB | 2.78 kB
| oss-stable/react-server/cjs/react-server-flight.production.min.js | **+0.34%** | 6.55 kB | 6.57 kB | +0.18% | 2.77 kB | 2.78 kB
| oss-experimental/react-server-dom-webpack/cjs/react-server-dom-webpack-writer.browser.production.min.server.js | **+0.33%** | 6.31 kB | 6.33 kB | +0.19% | 2.70 kB | 2.70 kB
| oss-stable/react-server-dom-webpack/cjs/react-server-dom-webpack-writer.browser.production.min.server.js | **+0.33%** | 6.31 kB | 6.33 kB | +0.19% | 2.70 kB | 2.70 kB
| facebook-www/ReactDOM-profiling.modern.js | **+0.33%** | 412.82 kB | 414.18 kB | +0.32% | 76.69 kB | 76.94 kB
| facebook-www/ReactDOMForked-profiling.modern.js | **+0.33%** | 412.83 kB | 414.19 kB | +0.32% | 76.70 kB | 76.95 kB
| oss-experimental/react-server-dom-webpack/cjs/react-server-dom-webpack-writer.node.production.min.server.js | **+0.32%** | 6.51 kB | 6.53 kB | +0.22% | 2.73 kB | 2.73 kB
| oss-stable/react-server-dom-webpack/cjs/react-server-dom-webpack-writer.node.production.min.server.js | **+0.32%** | 6.51 kB | 6.53 kB | +0.22% | 2.73 kB | 2.73 kB
| oss-experimental/react-server-dom-webpack/umd/react-server-dom-webpack-writer.browser.production.min.server.js | **+0.32%** | 6.53 kB | 6.55 kB | +0.18% | 2.79 kB | 2.80 kB
| oss-stable/react-server-dom-webpack/umd/react-server-dom-webpack-writer.browser.production.min.server.js | **+0.32%** | 6.53 kB | 6.55 kB | +0.18% | 2.79 kB | 2.80 kB
| facebook-www/ReactDOM-profiling.classic.js | **+0.32%** | 424.52 kB | 425.88 kB | +0.32% | 78.51 kB | 78.77 kB
| facebook-www/ReactDOMForked-profiling.classic.js | **+0.32%** | 424.53 kB | 425.89 kB | +0.32% | 78.52 kB | 78.77 kB
| facebook-www/ReactFlightDOMRelayServer-prod.classic.js | **+0.29%** | 14.37 kB | 14.41 kB | +0.19% | 3.76 kB | 3.77 kB
| facebook-www/ReactFlightDOMRelayServer-prod.modern.js | **+0.29%** | 14.37 kB | 14.41 kB | +0.19% | 3.76 kB | 3.77 kB
| oss-stable/react-dom/umd/react-dom-server.browser.development.js | **+0.28%** | 145.87 kB | 146.28 kB | +0.19% | 37.33 kB | 37.40 kB
| oss-stable/react-dom/cjs/react-dom-server.browser.development.js | **+0.28%** | 138.37 kB | 138.76 kB | +0.22% | 36.86 kB | 36.94 kB
| oss-experimental/react-dom/umd/react-dom-server.browser.development.js | **+0.28%** | 147.82 kB | 148.23 kB | +0.18% | 37.59 kB | 37.66 kB
| oss-stable/react-dom/cjs/react-dom-server.node.development.js | **+0.28%** | 139.67 kB | 140.06 kB | +0.21% | 37.12 kB | 37.20 kB
| facebook-relay/flight/ReactFlightNativeRelayServer-prod.js | **+0.28%** | 14.84 kB | 14.88 kB | +0.21% | 3.89 kB | 3.89 kB
| oss-experimental/react-dom/cjs/react-dom-server.browser.development.js | **+0.28%** | 140.21 kB | 140.60 kB | +0.21% | 37.15 kB | 37.22 kB
| oss-experimental/react-dom/cjs/react-dom-server.node.development.js | **+0.27%** | 141.51 kB | 141.90 kB | +0.21% | 37.41 kB | 37.48 kB
| facebook-www/ReactDOMServer-dev.modern.js | **+0.27%** | 145.23 kB | 145.62 kB | +0.17% | 37.28 kB | 37.34 kB
| facebook-www/ReactDOMServer-dev.classic.js | **+0.26%** | 149.36 kB | 149.74 kB | +0.17% | 38.32 kB | 38.38 kB
</details>


<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against eb46705daadf92cc397267e65bcb6675faca3835
</p>
",2021-01-23T06:09:31Z
765899784,Is the issue still unresolved or fixed? I would like to work on this ,2021-01-23T10:09:50Z
766138255,"Obvious question:  

why `useSelectedContext`, and not `useContextSelector`?",2021-01-23T16:51:43Z
766142018,"lol, I was waiting somebody ask.
Although I understand the intuition, what it's supposed to be is `useSelectedContextValue` which is too long.

In one of the RFCs, there was a discussion about the idea of `useContext(ctx, selectorFn)`. Certainly, this requires to drop `unstable_observedBits`. Might look cleaner. (Personally, I'm ok with whatever decision is made.)",2021-01-23T17:05:46Z
766145501,"Think of this PR as a proof of concept. Itâ€™s very unlikely to be the final design. We can bikeshed more before release.

Re: why itâ€™s a separate hook , makes it easier to track usages internally, and delete if needed. Also avoids a conflict with observed bits, which we still need to remove.

This also isnâ€™t the only context-related feature we have planned, and itâ€™s unclear how theyâ€™ll overlap. Might be separate hooks, might be all the same hook.",2021-01-23T17:28:40Z
766150624,"Gotcha. Out of curiosity, any chance of an RFC or something discussing the other plans for context?",2021-01-23T17:51:02Z
766151150,"When theyâ€™re more fleshed out, yeah. One of the motivations for this PR was that the other proposals are only useful in combination with this feature (bailing out during render if nothing has changed).",2021-01-23T17:54:30Z
766279204,"Usually we want to change `ref.current` (isn't this exactly why refs are for?), so I don't see much practical value in the `getInstance` approach. 

The `useState` solution is very natural and exactly what's needed. 

But ideally, React should just improve `useRef` to accept a lazy init.",2021-01-24T02:32:02Z
766289380,"I think, close this issue, since it has more debate rather than solving problem...",2021-01-24T04:27:06Z
766295089,There's also docs [here](https://reactnative.dev/docs/fast-refresh).,2021-01-24T05:32:52Z
766330080,"@iheyunfei Even if we could catch that promise wrapped in an error (e.g. `throw ({ promise: new Promise(...) });`) that our custom Suspense implementing `ErrorBoundary` will catch, that will not help us because React unmounts the node that throws anything which is not a promise or handles a caught promise itself.
I agree with you, it would be great to have more flexibility and catch promises in our custom components besides the builtin `Suspense` one.",2021-01-24T11:11:39Z
766410208,"> There are several other methods to conditionally render or hide(CSS display,opacity...) an Element. A visible property would be redundant.
> If you need this feature you can think about an HOC.


If I create a new Component, it does not have a Display property. It requires extra job. Small, but extra. And it is very a often common case.",2021-01-24T18:39:56Z
766410550,"> The previous response should give you a good direction what you might want to do. I'll just add some more general community resources and close this since this issue isn't actionable otherwise.
> 
> Coding Questions
> If you have a coding question related to React and React DOM, it might be better suited for Stack Overflow. It's a great place to browse through frequent questions about using React, as well as ask for help with specific questions.
> 
> stackoverflow.com/questions/tagged/react
> 
> Talk to other React developers
> There are many online forums which are a great place for discussion about best practices and application architecture as well as the future of React.
> 
> https://reactjs.org/community/support.html

It was a suggestion to React, as a product. Not a question.",2021-01-24T18:42:17Z
766410818,Key is not redundant with html id because id is renderend to the DOM and key is used internally by the framework.,2021-01-24T18:44:12Z
766423955,also messes up with rem units.,2021-01-24T20:10:53Z
766427520,issue resolved.,2021-01-24T20:35:25Z
766497143,"> In one of the RFCs, there was a discussion about the idea of useContext(ctx, selectorFn). Certainly, this requires to drop unstable_observedBits. Might look cleaner. (Personally, I'm ok with whatever decision is made.)

I think this is better, we can easily bail in/out of the selector functionality anytime.

Could also imagine the API being like this:

```tsx
declare function useContext<T>(ctx: Context<T>): T;
declare function useContext<T, R>(ctx: Context<T>, selector: (value: T) => R, isEqual?: (prev: R, next: R) => boolean): R;
```",2021-01-25T02:21:08Z
766550514,"A quick test in recent versions of FF, Chrome, and Safari shows that Chrome, FireFox and Safari now have matching behavior: onInput fires while dragging the slider, onChange fires on release. I suspect it'd now make sense for React to also match this behavior.

Code pen: https://codepen.io/alden/pen/MWjMmyZ?editors=1111.

GIF: 
![Screen Recording 2021-01-24 at 10 25 23 PM](https://user-images.githubusercontent.com/4658558/105664929-188c8d80-5e93-11eb-856d-064696ea5be0.gif)
",2021-01-25T05:27:17Z
766627733,"Thank you for your fixes! We faced the same problems and are waiting for this changes to be published.
@bvaughn can you shed some light on when it will be available in stores?",2021-01-25T08:02:57Z
766633581,"It took a few hours of my life so I'm sharing my setup: **lerna** monorepo + **peer dependencies**.

### Initial state

```json
// ./packages/aaa/package.json
{
    ""name"": ""@company/aaa"",
    ""version"": ""1.0.0"",
    ""peerDependencies"": {
        ""react"": ""*"",
        ""react-dom"": ""*""
    }
}

// ./packages/bbb/package.json
{
    ""name"": ""@company/bbb"",
    ""version"": ""1.0.0"",
    ""dependencies"": {
        ""@company/aaa"": ""^1.0.0"",
        ""react"": ""^17.0.0"",
        ""react-dom"": ""^17.0.0""
    },
    ""devDependencies"": {
        ""@types/react"": ""^17.0.0"",
        ""@types/react-dom"": ""^17.0.0""
    }
}
```

So this gave me 2 instances of React in `@company/bbb` package, despite having properly configured `externals` in webpack config of `@company/aaa` package.

The solution that worked for me was to move `react` & `react-dom` to `dependencies` (works in `devDependencies` too, but I'm not publishing the `@company/aaa` package, so maybe it's better to put it in dependencies) in root `package.json` (and `@types/react` & `@types/react-dom` to `devDependencies` in root `package.json`) :man_shrugging:

### Final state

```json
// ./packages/aaa/package.json
{
    ""name"": ""@company/aaa"",
    ""version"": ""1.0.0"",
    ""peerDependencies"": {
        ""react"": ""*"",
        ""react-dom"": ""*""
    }
}

// ./packages/bbb/package.json
{
    ""name"": ""@company/bbb"",
    ""version"": ""1.0.0"",
    ""dependencies"": {
        ""@company/aaa"": ""^1.0.0""
    }
}

// ./package.json
{
    ""name"": ""company"",
    ""version"": ""1.0.0"",
    ""dependencies"": {
        ""react"": ""^17.0.0"",
        ""react-dom"": ""^17.0.0""
    },
    ""devDependencies"": {
        ""@types/react"": ""^17.0.0"",
        ""@types/react-dom"": ""^17.0.0""
    }
}
```

",2021-01-25T08:13:32Z
766729412,"Support requests filed as GitHub issues often go unanswered. We want you to find the answer you're looking for, so we suggest the following alternatives:

Coding Questions
If you have a coding question related to React and React DOM, it might be better suited for Stack Overflow. It's a great place to browse through frequent questions about using React, as well as ask for help with specific questions.

stackoverflow.com/questions/tagged/react

Talk to other React developers
There are many online forums which are a great place for discussion about best practices and application architecture as well as the future of React.

https://reactjs.org/community/support.html",2021-01-25T10:51:02Z
766734788,"It doesn't look like this bug report has enough info for one of us to reproduce it.

Please provide a CodeSandbox (https://react.new/), a link to a repository on GitHub, or provide a minimal code example that reproduces the problem. 

Here are some tips for providing a minimal example: https://stackoverflow.com/help/mcve

<!-- mui template: https://material-ui.com/r/issue-template -->
<!-- react template: https://react.new/ -->",2021-01-25T11:00:41Z
766735731,"It doesn't look like this bug report has enough info for one of us to reproduce it.

Please provide a CodeSandbox (https://react.new/), a link to a repository on GitHub, or provide a minimal code example that reproduces the problem. 

Here are some tips for providing a minimal example: https://stackoverflow.com/help/mcve

<!-- mui template: https://material-ui.com/r/issue-template -->
<!-- react template: https://react.new/ -->",2021-01-25T11:02:12Z
766749089,"Was there any changes to how fiber renders in 17.x?

Maybe it all boils down to synchronous vs asynchronous rendering after `setOpen` - if in React 16 it was async, but in 17.x it is optimized to be sync then that would explain the difference in behavior. I can't find any release notes about this, so i'm not sure whether this side effect is something that was considered or if it is actually some unintended side effect.",2021-01-25T11:25:31Z
766753809,"A thought on meaningful names: I personally don't mind if the output is like the example from point 2. Knowing that all hooks are executed in order makes it trivial to find the offending hook.

I'd much rather have that solution earlier than a more ""elegant"" solution later.",2021-01-25T11:34:17Z
766760209,"okay thanks


On Mon, Jan 25, 2021 at 11:29 AM Oscar Linde <notifications@github.com>
wrote:

> Was there any changes to how fiber renders in 17.x?
>
> Maybe it all boils down to synchronous vs asynchronous rendering after
> setOpen - if in React 16 it was async, but in 17.x it is optimized to be
> sync then that would explain the difference in behavior. I can't find any
> release notes about this, so i'm not sure whether this side effect is
> something that was considered or if it is actually some unintended side
> effect.
>
> â€”
> You are receiving this because you are subscribed to this thread.
> Reply to this email directly, view it on GitHub
> <https://github.com/facebook/react/issues/20636#issuecomment-766749089>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/APYPGPVLSTRTWRTURPQVYVDS3VI2NANCNFSM4WNIAS2A>
> .
>
",2021-01-25T11:46:32Z
766823816,"I'm going to close this issue because I think the current state of this feature is fine and I have no plans to change it. If someone would like to submit a PR+proposal for a new behavior though, I will review it.",2021-01-25T13:41:19Z
766857404,"It was happening here, I deleted the folder node modules and ran `npm update`. So I solved the problem.",2021-01-25T14:34:04Z
766864803,This would be a bug with https://github.com/facebook/create-react-app (different repository),2021-01-25T14:44:39Z
766888862,"Yes, please file this in the create-react-app repo: https://github.com/facebook/create-react-app

That repo is maintained by a different team. I would migrate it myself but GitHub doesn't support that to my knowledge.",2021-01-25T15:18:17Z
766941750,@bvaughn `ReactDOM.unstable_createRoot` is still giving me the same error.,2021-01-25T16:33:25Z
766959754,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->



No significant bundle size changes to report.

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 734ecb05e4c40021e74030381126f6823b18a06c
</p>
",2021-01-25T17:00:14Z
766959948,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->



No significant bundle size changes to report.

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 734ecb05e4c40021e74030381126f6823b18a06c
</p>
",2021-01-25T17:00:30Z
766961538,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20655/builds/95367) or the icon next to each commit SHA.",2021-01-25T17:02:43Z
766979375,Let's keep the discussion at [RFC 119](https://github.com/reactjs/rfcs/pull/119) and [RFC 118](https://github.com/reactjs/rfcs/pull/118).,2021-01-25T17:27:17Z
767075534,This is a test-only change so I'm just going to merge it.,2021-01-25T19:58:10Z
767087043,Completed in #20645,2021-01-25T20:18:34Z
767096983,Merge it please,2021-01-25T20:36:08Z
767106437,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20656/builds/95407) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 6e691a674685f5e2f60bced3e38ebc41b31b3073:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-gt66t)| Configuration |
",2021-01-25T20:55:02Z
767108348,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->



No significant bundle size changes to report.

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 6e691a674685f5e2f60bced3e38ebc41b31b3073
</p>
",2021-01-25T20:58:49Z
767109270,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->



No significant bundle size changes to report.

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 6e691a674685f5e2f60bced3e38ebc41b31b3073
</p>
",2021-01-25T21:00:32Z
767112714,"@gaearon Thanks you for the solution, changing key helped me to solve the issue as well.",2021-01-25T21:06:41Z
767134704,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20657/builds/95412) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 28e7657d017aa2147cd8692f6f660b2de29ff345:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-sj2kj)| Configuration |
",2021-01-25T21:49:14Z
767136192,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->



No significant bundle size changes to report.

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 28e7657d017aa2147cd8692f6f660b2de29ff345
</p>
",2021-01-25T21:52:21Z
767136452,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->



No significant bundle size changes to report.

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 28e7657d017aa2147cd8692f6f660b2de29ff345
</p>
",2021-01-25T21:52:52Z
767151713,"Hi,

Could the changes in this PR, specifically adding the `exports` field in `package.json`, be backported to React 16? It'd help fix #20235, though a release still needs to be made.",2021-01-25T22:20:56Z
767264361,Do you mind splitting the queueMicrotask stuff into its own PR? Then stack the rest on top,2021-01-26T03:26:47Z
767266447,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->



No significant bundle size changes to report.

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against cf96b275dcc8092466b6fdb08565483d93ff9f35
</p>
",2021-01-26T03:30:32Z
767266587,"
<!--
  0 failure: 
  1 warning:  Build job for bas...
  
  1 markdown notices
  DangerID: danger-id-stable;
-->


<table>
  <thead>
    <tr>
      <th width=""50""></th>
      <th width=""100%"" data-danger-table=""true"">Warnings</th>
    </tr>
  </thead>
  <tbody><tr>
      <td>:warning:</td>
      <td>Build job for base commit is still pending: a6b5256a29b60620bdeb9266d4935cb59cc1258e</td>
    </tr>
  </tbody>
</table>


## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against cf96b275dcc8092466b6fdb08565483d93ff9f35
</p>
",2021-01-26T03:30:36Z
767269284,"I wasn't thinking that queueMicrotask would be integrated into the scheduler since it's not natively neither. They're separate things.

Is there a reason that this isn't literally `export scheduleMicrotask = typeof queueMicrotask === 'function' ? queueMicrotask : ...` when it's available? That's the minimal overhead.",2021-01-26T03:32:08Z
767276167,"@acdlite I can break this up, do you agree with @sebmarkbage that this shouldn't be in scheduler? If so, where should this go?",2021-01-26T03:42:47Z
767276554,"I'm not sure where this should live but the part I don't get is why it's adding it to a scheduler queue? It seems like it should just be straight passthrough.

It could be part of scheduler just to have one convenient way to get all these polyfills but now I'm skeptical it belongs there because it's tempting to integrate it unnecessarily and you have to always pull in the whole scheduler even if you depend on only this function. Nobody else is going to do that so there's no code sharing benefit.",2021-01-26T03:44:22Z
767276931,"I would do it as an export of Scheduler for now.

```js
import queueMicrotask from 'scheduler/queueMicrotask';
```",2021-01-26T03:45:56Z
767276946,Maybe it should just be a host config?,2021-01-26T03:45:59Z
767277559,"Arguably all of the Scheduler methods should be host configs so we can possibly swap them out `postTask` one day without the Scheduler package indirection. (So, the same rationale for not wrapping `queueMicrotask`). But I don't want to bikeshed this right now so just put it somewhere and we can figure out the host config -> Scheduler boundary later.",2021-01-26T03:48:05Z
767278251,"If we publish a timer polyfill we'll likely put that in the Scheduler package, too. We also may need to publish our own Promise polyfill for older browsers, so it integrates properly with our message event listener. I don't think we're going to solve all of that in this PR.",2021-01-26T03:50:52Z
767278283,"I was thinking that for React Native it might be that discrete !== micro task. Since we can implement it differently there and some discrete might need to consider the thread they're on. Seems like Host Config might be the better injection point there but could be layered twice. Like the DOM host config defers to scheduler/queueMicrotask. Where as for scheduling work, it makes sense to have a shared one since it's public API and integrates with other scheduled things.",2021-01-26T03:50:56Z
767279783,"We could call it like `queueDiscrete` or something. That's fine, though feels like too early of an abstraction right now and I wouldn't block the PR over it. I would put a TODO and then revisit when React Native is ready.",2021-01-26T03:56:48Z
767279991,"@sebmarkbage one key benefit of using the scheduler for this right now is that we call `cancelCallback` when the priority changes. With this implementation, that just works. With a separate `queueMicrotask` impl, we'd have to sort out that cancelation. I know @acdlite had a suggestion for how to remove that dependency on cancelCallback, but I didn't entirely follow it.",2021-01-26T03:57:42Z
767280401,We can't cancel discrete work though. So that won't make sense anyway.,2021-01-26T03:59:13Z
767280492,@rickhanlonii The suggestion is to not cancel the microtask once it's scheduled ðŸ˜¬,2021-01-26T03:59:30Z
767281483,"We do need to cancel non-discrete tasks once the priority changes to discrete (like a child that uses startTransition and a parent that doesn't), so we'll need to only cancel the non-discrete tasks somehow, which seems non-trivial to unblock this.",2021-01-26T04:01:58Z
767281806,"Maybe it is trivial, and we just don't store the microtask on the node.",2021-01-26T04:03:02Z
767282944,Let's continue in the separate PR? That way we can focus on that by itself,2021-01-26T04:07:02Z
767287725,Seems good. Thanks ðŸ‘,2021-01-26T04:25:19Z
767291567,"@HomyeeKing [from our docs](https://reactjs.org/docs/dom-elements.html#onchange):

> The onChange event behaves as you would expect it to: whenever a form field is changed, this event is fired. We intentionally do not use the existing browser behavior because onChange is a misnomer for its behavior and React relies on this event to handle user input in real time.

Going to close this as it seems to be working as documented, but thanks for submitting.",2021-01-26T04:39:15Z
767294535,"The scheduler is designed to be used with no build steps, which means using ES5 syntax.

See https://github.com/facebook/react/pull/13582 for more context.",2021-01-26T04:50:51Z
767294845,Could you add a test for this?,2021-01-26T04:52:09Z
767305063,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->



No significant bundle size changes to report.

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 335f58ff7f5d24eb09750bb0ffc0e61235234da2
</p>
",2021-01-26T05:28:12Z
767305505,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




Comparing: 3c21aa855a13707a8abe5dc6eaf2d2a7429fa762...44d947a83a65a1407af1624a1284668ec4b0b437

## Critical size changes

Includes critical production bundles, as well as any change greater than 2%:


  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| oss-stable/react-dom/cjs/react-dom.production.min.js | **=** | 122.49 kB | 122.49 kB | = | 39.38 kB | 39.38 kB
| oss-experimental/react-dom/cjs/react-dom.production.min.js | **=** | 129.02 kB | 129.02 kB | = | 41.46 kB | 41.46 kB
| facebook-www/ReactDOM-prod.classic.js | **=** | 406.89 kB | 406.89 kB | = | 75.31 kB | 75.31 kB
| facebook-www/ReactDOM-prod.modern.js | **=** | 394.75 kB | 394.75 kB | = | 73.34 kB | 73.35 kB
| facebook-www/ReactDOMForked-prod.classic.js | **=** | 406.89 kB | 406.89 kB | = | 75.31 kB | 75.31 kB

## Significant size changes

Includes any change greater than 0.2%:

(No significant changes)

<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 44d947a83a65a1407af1624a1284668ec4b0b437
</p>
",2021-01-26T05:29:29Z
767355476,"I have experienced the same problem with a react native app. basically am calling an asynchronous API call when the component mounts using useEffect() then update state on successful callback. This is on my login screen, after the user token is set, I get the error when the user is presented with the home screen.",2021-01-26T07:23:15Z
767366147,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20660/builds/95485) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 40e168abcecce13cb83901feeadf20359a1bbecb:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-lepnc)| Configuration |
",2021-01-26T07:48:32Z
767370578,"
<!--
  0 failure: 
  0 warning: 
  
  3 markdown notices
  DangerID: danger-id-stable;
-->




  <details>
  <summary>Details of bundled changes.</summary>

  <p>Comparing: f15f8f64bbc3e02911d1a112fa9bb8f7066a56ee...40e168abcecce13cb83901feeadf20359a1bbecb</p>


  
## react-art
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactART-dev.js | +0.1% | +0.2% | 665.55 KB | 666.54 KB | 141.08 KB | 141.36 KB | FB_WWW_DEV
react-art.development.js | 0.0% | 0.0% | 670.98 KB | 671.02 KB | 142.97 KB | 142.98 KB | UMD_DEV
**react-art.production.min.js** | **0.0%** | **-0.0%** | **108.69 KB** | **108.69 KB** | **33.87 KB** | **33.87 KB** | **UMD_PROD**
react-art.development.js | 0.0% | 0.0% | 573.04 KB | 573.07 KB | 125.08 KB | 125.08 KB | NODE_DEV
**react-art.production.min.js** | **0.0%** | **-0.0%** | **73.68 KB** | **73.68 KB** | **23.02 KB** | **23.01 KB** | **NODE_PROD**
**ReactART-prod.js** | **:small_red_triangle:+0.1%** | **:small_red_triangle:+0.2%** | **248.98 KB** | **249.25 KB** | **44.28 KB** | **44.35 KB** | **FB_WWW_PROD**

## react-dom
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactDOM-profiling.js | +0.1% | +0.1% | 408.3 KB | 408.57 KB | 75.37 KB | 75.44 KB | FB_WWW_PROFILING
react-dom-server.browser.development.js | 0.0% | -0.0% | 143.17 KB | 143.17 KB | 36.67 KB | 36.66 KB | UMD_DEV
**react-dom-server.browser.production.min.js** | **0.0%** | **-0.0%** | **19.87 KB** | **19.87 KB** | **7.46 KB** | **7.46 KB** | **UMD_PROD**
**react-dom-test-utils.production.min.js** | **0.0%** | **-0.0%** | **13.68 KB** | **13.68 KB** | **5.26 KB** | **5.26 KB** | **NODE_PROD**
react-dom.development.js | 0.0% | 0.0% | 923.58 KB | 923.62 KB | 203.19 KB | 203.19 KB | UMD_DEV
ReactTestUtils-dev.js | +0.1% | +0.1% | 61.26 KB | 61.34 KB | 16.88 KB | 16.89 KB | FB_WWW_DEV
react-dom.development.js | 0.0% | 0.0% | 878.85 KB | 878.88 KB | 200.63 KB | 200.63 KB | NODE_DEV
ReactDOMForked-dev.js | +0.1% | +0.1% | 1019.7 KB | 1020.69 KB | 225.4 KB | 225.7 KB | FB_WWW_DEV
**react-dom.production.min.js** | **0.0%** | **-0.0%** | **118.02 KB** | **118.02 KB** | **38.12 KB** | **38.12 KB** | **NODE_PROD**
**ReactDOMForked-prod.js** | **:small_red_triangle:+0.1%** | **:small_red_triangle:+0.1%** | **392.67 KB** | **392.95 KB** | **72.73 KB** | **72.8 KB** | **FB_WWW_PROD**
ReactDOMForked-profiling.js | +0.1% | +0.1% | 411.2 KB | 411.47 KB | 75.93 KB | 76 KB | FB_WWW_PROFILING
ReactDOM-dev.js | +0.1% | +0.2% | 1014.43 KB | 1015.42 KB | 224.24 KB | 224.77 KB | FB_WWW_DEV
**ReactDOM-prod.js** | **:small_red_triangle:+0.1%** | **:small_red_triangle:+0.1%** | **389.78 KB** | **390.05 KB** | **72.16 KB** | **72.23 KB** | **FB_WWW_PROD**
**react-dom-server.browser.production.min.js** | **0.0%** | **-0.0%** | **19.77 KB** | **19.77 KB** | **7.42 KB** | **7.42 KB** | **NODE_PROD**
ReactDOMServer-dev.js | +0.1% | 0.0% | 146.3 KB | 146.39 KB | 37.57 KB | 37.59 KB | FB_WWW_DEV
**react-dom-test-utils.production.min.js** | **0.0%** | **-0.0%** | **13.7 KB** | **13.7 KB** | **5.32 KB** | **5.31 KB** | **UMD_PROD**
ReactDOMTesting-dev.js | 0.0% | 0.0% | 942.84 KB | 942.87 KB | 211.51 KB | 211.52 KB | FB_WWW_DEV

  </details>
  

ReactDOM: size: 0.0%, gzip: -0.0%

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 40e168abcecce13cb83901feeadf20359a1bbecb
</p>
",2021-01-26T07:58:41Z
767370756,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->




  <details>
  <summary>Details of bundled changes.</summary>

  <p>Comparing: f15f8f64bbc3e02911d1a112fa9bb8f7066a56ee...40e168abcecce13cb83901feeadf20359a1bbecb</p>


  
## react-art
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactART-dev.js | +0.2% | +0.2% | 655.54 KB | 656.53 KB | 139.06 KB | 139.35 KB | FB_WWW_DEV
react-art.development.js | 0.0% | 0.0% | 713.14 KB | 713.17 KB | 151.4 KB | 151.4 KB | UMD_DEV
**react-art.production.min.js** | **0.0%** | **-0.0%** | **113.46 KB** | **113.46 KB** | **35.37 KB** | **35.36 KB** | **UMD_PROD**
react-art.development.js | 0.0% | 0.0% | 613.18 KB | 613.21 KB | 133.36 KB | 133.36 KB | NODE_DEV
**react-art.production.min.js** | **0.0%** | **-0.0%** | **78.4 KB** | **78.4 KB** | **24.55 KB** | **24.55 KB** | **NODE_PROD**
**ReactART-prod.js** | **:small_red_triangle:+0.1%** | **:small_red_triangle:+0.1%** | **241.76 KB** | **242.04 KB** | **43.04 KB** | **43.1 KB** | **FB_WWW_PROD**

## react-dom
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactDOM-profiling.js | +0.1% | +0.1% | 396.83 KB | 397.11 KB | 73.57 KB | 73.63 KB | FB_WWW_PROFILING
react-dom-server.browser.development.js | 0.0% | -0.0% | 145.08 KB | 145.08 KB | 36.93 KB | 36.93 KB | UMD_DEV
react-dom-server.node.development.js | 0.0% | -0.0% | 138.89 KB | 138.89 KB | 36.75 KB | 36.75 KB | NODE_DEV
**react-dom-server.node.production.min.js** | **0.0%** | **-0.0%** | **20.75 KB** | **20.75 KB** | **7.68 KB** | **7.68 KB** | **NODE_PROD**
react-dom.development.js | 0.0% | 0.0% | 976.03 KB | 976.07 KB | 213.1 KB | 213.11 KB | UMD_DEV
ReactTestUtils-dev.js | +0.1% | +0.1% | 61.26 KB | 61.34 KB | 16.88 KB | 16.9 KB | FB_WWW_DEV
react-dom-unstable-fizz.browser.development.js | 0.0% | -0.1% | 5.15 KB | 5.15 KB | 1.76 KB | 1.76 KB | UMD_DEV
react-dom.development.js | 0.0% | 0.0% | 928.8 KB | 928.83 KB | 210.47 KB | 210.47 KB | NODE_DEV
ReactDOMForked-dev.js | +0.1% | +0.1% | 994.12 KB | 995.11 KB | 220.6 KB | 220.88 KB | FB_WWW_DEV
**react-dom-unstable-fizz.browser.production.min.js** | **0.0%** | **-0.1%** | **1.22 KB** | **1.22 KB** | **713 B** | **712 B** | **UMD_PROD**
**ReactDOMForked-prod.js** | **:small_red_triangle:+0.1%** | **:small_red_triangle:+0.1%** | **381.29 KB** | **381.56 KB** | **70.94 KB** | **71 KB** | **FB_WWW_PROD**
ReactDOMForked-profiling.js | +0.1% | +0.1% | 399.76 KB | 400.04 KB | 74.15 KB | 74.21 KB | FB_WWW_PROFILING
react-dom-unstable-fizz.browser.development.js | 0.0% | -0.1% | 4.68 KB | 4.68 KB | 1.66 KB | 1.66 KB | NODE_DEV
ReactDOM-dev.js | +0.1% | +0.2% | 988.85 KB | 989.84 KB | 219.47 KB | 219.97 KB | FB_WWW_DEV
**react-dom-unstable-fizz.browser.production.min.js** | **0.0%** | **-0.3%** | **1.01 KB** | **1.01 KB** | **617 B** | **615 B** | **NODE_PROD**
**ReactDOM-prod.js** | **:small_red_triangle:+0.1%** | **:small_red_triangle:+0.1%** | **378.36 KB** | **378.64 KB** | **70.37 KB** | **70.43 KB** | **FB_WWW_PROD**
react-dom-server.browser.development.js | 0.0% | -0.0% | 137.62 KB | 137.62 KB | 36.5 KB | 36.5 KB | NODE_DEV
ReactDOMServer-dev.js | +0.1% | 0.0% | 142.27 KB | 142.36 KB | 36.56 KB | 36.58 KB | FB_WWW_DEV
**react-dom-test-utils.production.min.js** | **0.0%** | **-0.0%** | **13.71 KB** | **13.71 KB** | **5.32 KB** | **5.32 KB** | **UMD_PROD**
**ReactDOMServer-prod.js** | **0.0%** | **-0.0%** | **46.58 KB** | **46.58 KB** | **10.85 KB** | **10.85 KB** | **FB_WWW_PROD**
ReactDOMTesting-dev.js | 0.0% | 0.0% | 914.5 KB | 914.53 KB | 205.85 KB | 205.86 KB | FB_WWW_DEV

  </details>
  

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 40e168abcecce13cb83901feeadf20359a1bbecb
</p>
",2021-01-26T07:59:02Z
767382958,"you can move react and react-dom from dependencies to devDependencies in your libï¼Œthis can ensure react consistency in project
```
// package.json
{
  ""dependencies"": {},
  ""devDependencies"": {
    ""@types/react"": ""^17.0.0"",
    ""@types/react-dom"": ""^17.0.0""
    ""react"": ""^17.0.0"",
    ""react-dom"": ""^17.0.0"",
  }
}

```",2021-01-26T08:25:05Z
767383859,"you can move react and react-dom from dependencies to devDependencies in your libï¼Œthis can ensure react consistency in project
```
// package.json
{
  ""dependencies"": {},
  ""devDependencies"": {
    ""@types/react"": ""^17.0.0"",
    ""@types/react-dom"": ""^17.0.0""
    ""react"": ""^17.0.0"",
    ""react-dom"": ""^17.0.0"",
  }
}
```",2021-01-26T08:26:50Z
767402867,"Ok I think I find the problem- my env is jest + react native testing library + typescript, I found out that this problem occurs when `resetModules: true` in jest config. removing this flag solved my problem.

update: here is a working fix without removing the flag: https://github.com/facebook/jest/issues/8987#issuecomment-584898030",2021-01-26T09:02:53Z
767418792,Am I the only one expect React.useCallback should do state changes in a single batch/transaction for me ?,2021-01-26T09:31:46Z
767419759,"@dcheung2 100% agree. There may be some down sides, but coding in React I feel like it's more intuative if useCallback and useEffect did everything in a batch.",2021-01-26T09:33:20Z
767432030,"@JadeLiuYC Could you include a real-world example? I don't see a reason why you can't use existing patterns to cancel async state updates:

```diff
  useEffect(() => {
+   let cancelled = false;
    setTimeout(() => {
      setTimeout(() => {
        let arr = [];
        for (let i = 0; i < 10; i++) {
          arr.push({
            id: i + 1,
            text: `useEffectå†…å¼‚æ­¥è¯·æ±‚ä¸‹è®¾ç½®stateè­¦å‘Šé—®é¢˜${i + 1}`,
          });
        }
+       if (!cancelled) {
          setData(arr);
+       }
      }, 2000);
    }, 200);
-   return () => {}
+   return () => {
+     cancelled = true;
+   };
  }, []);
```

Though with your particular example I would just use `clearTimeout`:

```diff
  useEffect(() => {
-   setTimeout(() => {
+   let timeoutID = setTimeout(() => {
-     setTimeout(() => {
+     timeoutID = setTimeout(() => {
        let arr = [];
        for (let i = 0; i < 10; i++) {
          arr.push({
            id: i + 1,
            text: `useEffectå†…å¼‚æ­¥è¯·æ±‚ä¸‹è®¾ç½®stateè­¦å‘Šé—®é¢˜${i + 1}`,
          });
        }
        setData(arr);
      }, 2000);
    }, 200);
-    return () => {};
+    return () => {
+      clearTimeout(timeoutID);
+    }
```
",2021-01-26T09:55:48Z
767449071,"@Acidic9 
To be fair, it won't fix all the problem.
e.g. 
```javascript
React.useCallback(async ()=>{
    setState1(1);
    setState2(1); // likely batched, if 
    await Promise.resolve(2);
    setState1(3); // won't batched
    setState2(3); // won't batched
    await Promise.resolve(4);
    setState1(5);           //non batched
    await Promise.resolve(6);
    setState2(7);          // non batched
 }, []);
```

but at least React.useCallback could mitigate half of it, if they are going to it in the legacy mode without using anything unstable API.

Or it may helps some eslint rule to detect the problem.

I believe they want the blocking/concurrent mode in new React will eventually fix the cause.

",2021-01-26T10:25:18Z
767517461,"Huh, so this looks specific to _desktop_ Safari. Interesting.

As you said it looks like this is already fixed in next desktop Safari, but for now you can add this *before* your `ReactDOM.render` call to prevent the `wheel` listeners from getting attached:

```js
// Patch native addEventListener *before* ReactDOM.render call.
const addEventListener = Node.prototype.addEventListener;
Node.prototype.addEventListener = function(type, listener, options) {
  if (type === ""wheel"") {
    // Disable because of https://github.com/facebook/react/issues/20662
    // Note: this would disable any onWheel listeners.
    // You could also limit this to particular roots, e.g.
    // if (type === 'wheel' && this.id === 'root') { return }
    return;
  }
  return addEventListener.apply(this, arguments);
};
```

https://stackblitz.com/edit/react-ee3bcq?file=src%2Findex.js

This would, of course, disable all `onWheel` listeners in your app. You could change the condition to target just the root alone (like in the commented example, substitute `""root""` with your DOM root element ID) and then use native `addEventListener` in specific components where you need it.",2021-01-26T12:42:59Z
767552834,"It visits all fibers because that's its purpose â€” to find the ones that depend on context. There are some ways we're planning to optimize the algorithm but they'll need significant refactors so don't count on them happening soon. For now, it's essentially bruteforce by design.

*However*, it is possible that there might be some ways to optimize the function itself. It could very well be possible that it has become slower since the initial implementation due to some accidental deopt or compiler behaivor. So if you want to make a synthetic benchmark to stress-test it, and look for optimization opportunities, that would be appreciated.",2021-01-26T13:49:43Z
767561701,Get outta here Ricky ðŸ˜‚,2021-01-26T14:03:47Z
767577882,I tried to use the `defaultOption` flag provided by `command-line-args` for this (just adding it conditionally before calling `command-line-args`) but it seems to only support boolean values. ðŸ¤·â€â™‚ï¸ This is fine.,2021-01-26T14:29:06Z
767578141,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20663/builds/95644) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit f117fc4bc02124b5651968574f0c7500f9e1357b:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-20d2x)| Configuration |
",2021-01-26T14:29:28Z
767580359,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->



No significant bundle size changes to report.

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against f117fc4bc02124b5651968574f0c7500f9e1357b
</p>
",2021-01-26T14:32:44Z
767580407,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->



No significant bundle size changes to report.

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against f117fc4bc02124b5651968574f0c7500f9e1357b
</p>
",2021-01-26T14:32:48Z
767596243,"> If this sounds terribly confusing, it's because it barely makes sense.

ðŸ˜† ",2021-01-26T14:52:48Z
767608543,Going to close this; have pushed the branch with the tests I'd written. No fix yet though.,2021-01-26T15:11:06Z
767613642,"
<!--
  0 failure: 
  1 warning:  Could not find bu...
  
  1 markdown notices
  DangerID: danger-id-experimental;
-->


<table>
  <thead>
    <tr>
      <th width=""50""></th>
      <th width=""100%"" data-danger-table=""true"">Warnings</th>
    </tr>
  </thead>
  <tbody><tr>
      <td>:warning:</td>
      <td>Could not find build artifacts for base commit: 7cb9fd7ef822436aef13c8cbf648af1e21a5309a</td>
    </tr>
  </tbody>
</table>


## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 38888a3ae5c4fa7ad573e2b6b8683271a0eedabf
</p>
",2021-01-26T15:18:39Z
767613924,"
<!--
  0 failure: 
  1 warning:  Could not find bu...
  
  1 markdown notices
  DangerID: danger-id-stable;
-->


<table>
  <thead>
    <tr>
      <th width=""50""></th>
      <th width=""100%"" data-danger-table=""true"">Warnings</th>
    </tr>
  </thead>
  <tbody><tr>
      <td>:warning:</td>
      <td>Could not find build artifacts for base commit: 7cb9fd7ef822436aef13c8cbf648af1e21a5309a</td>
    </tr>
  </tbody>
</table>


## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 38888a3ae5c4fa7ad573e2b6b8683271a0eedabf
</p>
",2021-01-26T15:19:03Z
767614175,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20664/builds/98008) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 38888a3ae5c4fa7ad573e2b6b8683271a0eedabf:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-dun2l)| Configuration |
",2021-01-26T15:19:24Z
767626848,"I think the core of this problem is here:
https://github.com/facebook/react/blob/a511dc7090523ee49ce21a08e55c41917d8af311/packages/react-debug-tools/src/ReactDebugHooks.js#L439-L444

This check in `findPrimitiveIndex` is what causes the ""primitive index"" to advance too far if a custom hook name matches the current built-in hook.

Comments above suggest that this is intentional, to handle wrappers added by packagers with the same name:
https://github.com/facebook/react/blob/a511dc7090523ee49ce21a08e55c41917d8af311/packages/react-debug-tools/src/ReactDebugHooks.js#L431-L432

Unfortunately we don't have any test coverage for that case ðŸ˜¦ I can disable the lines above and my newly added tests pass (as well as all previous tests) but I suspect this just means we don't have a good integration test case.

I'm not sure how to differentiate between a packager-added wrapper and a user-added custom hook. Is there even a way?",2021-01-26T15:37:20Z
767633251,"Going to push the ""fix"" even though I imagine it's not acceptable and we just need to add more integration tests to cover the case @sebmarkbage had in mind with two wrappers. ðŸ˜„ ",2021-01-26T15:46:41Z
767672868,"Tagging @sebmarkbage to hear your thoughts about this, not because my current ""solution"" is landable.",2021-01-26T16:44:16Z
767738930,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20658/builds/95852) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit cf96b275dcc8092466b6fdb08565483d93ff9f35:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-51xr5)| Configuration |
",2021-01-26T18:27:35Z
767742142,"> The data- namespace was added for a reason though. Thereâ€™s a difference between what you technically could do and whatâ€™s best practice. You can technically patch prototypes too but then you get contains/includes situations.

Naming variables in JavaScript is not the same as patching prototypes. There's no strong convention (let alone enforcement) in JavaScript that prevents your function from having a variable with any name (even if it shadows outer scope variables), or your class from having any property names.

On that similar vein, there's really no need to have a convention to prevent an element from having its own properties (or attributes), even if those shadow builtins (or apply supplemental behavior to builtins).

I would suggest that the only thing that needs to be enforced is to ensure that Custom Element authors can easily override types of intrinsic attributes (props) for their custom intrinsic elements, which is not currently the case (TypeScript has an error if the type of a new IntrinsicElement's prop doesn't match one already defined in DetailedHTMLProps).

---

On another note, why is this taking so long? Why has the React team not prioritized web interop?",2021-01-26T18:33:00Z
767775392,Proposed solution (really just a better warning and error message) in #20665,2021-01-26T19:30:02Z
767776973,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20665/builds/96833) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit eb42de7bc5b191817d596cb732bbe0f13ada3bc0:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-31sl6)| Configuration |
|[useMutableSource](https://codesandbox.io/s/usemutablesource-b7s8b)| Issue #19948 |
",2021-01-26T19:32:58Z
767781614,"
<!--
  0 failure: 
  0 warning: 
  
  3 markdown notices
  DangerID: danger-id-experimental;
-->




  <details>
  <summary>Details of bundled changes.</summary>

  <p>Comparing: a922f1c710f60f64c9013fb567ce8b9c15f252eb...eb42de7bc5b191817d596cb732bbe0f13ada3bc0</p>


  
## react-test-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-test-renderer.development.js | +0.1% | +0.1% | 632.51 KB | 633.35 KB | 133.31 KB | 133.49 KB | UMD_DEV
**react-test-renderer.production.min.js** | **0.0%** | **-0.0%** | **79.43 KB** | **79.43 KB** | **25.22 KB** | **25.22 KB** | **UMD_PROD**
ReactTestRenderer-dev.js | +0.1% | +0.1% | 597.17 KB | 598.02 KB | 129.36 KB | 129.54 KB | RN_FB_DEV
**ReactTestRenderer-prod.js** | **0.0%** | **0.0%** | **232.69 KB** | **232.69 KB** | **42.68 KB** | **42.68 KB** | **RN_FB_PROD**
ReactTestRenderer-profiling.js | 0.0% | 0.0% | 244.55 KB | 244.56 KB | 44.87 KB | 44.87 KB | RN_FB_PROFILING
react-test-renderer.development.js | +0.1% | +0.1% | 602.47 KB | 603.28 KB | 131.71 KB | 131.9 KB | NODE_DEV
**react-test-renderer.production.min.js** | **0.0%** | **0.0%** | **79.25 KB** | **79.25 KB** | **24.88 KB** | **24.88 KB** | **NODE_PROD**
ReactTestRenderer-dev.js | +0.1% | +0.1% | 609.43 KB | 610.28 KB | 130.69 KB | 130.87 KB | FB_WWW_DEV

## react-art
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactART-dev.js | +0.1% | +0.1% | 661.62 KB | 662.47 KB | 140.43 KB | 140.64 KB | FB_WWW_DEV
react-art.development.js | +0.1% | +0.1% | 717.36 KB | 718.2 KB | 152.31 KB | 152.5 KB | UMD_DEV
**react-art.production.min.js** | **0.0%** | **-0.0%** | **114.01 KB** | **114.01 KB** | **35.57 KB** | **35.57 KB** | **UMD_PROD**
react-art.development.js | +0.1% | +0.1% | 617.24 KB | 618.05 KB | 134.28 KB | 134.47 KB | NODE_DEV
**react-art.production.min.js** | **0.0%** | **-0.0%** | **78.95 KB** | **78.95 KB** | **24.72 KB** | **24.71 KB** | **NODE_PROD**
**ReactART-prod.js** | **0.0%** | **0.0%** | **244.71 KB** | **244.71 KB** | **43.63 KB** | **43.63 KB** | **FB_WWW_PROD**

## react-dom
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
**react-dom-server.browser.production.min.js** | **0.0%** | **-0.0%** | **20.42 KB** | **20.42 KB** | **7.57 KB** | **7.57 KB** | **UMD_PROD**
**react-dom-test-utils.production.min.js** | **0.0%** | **-0.0%** | **13.7 KB** | **13.7 KB** | **5.26 KB** | **5.26 KB** | **NODE_PROD**
**ReactDOMTesting-prod.js** | **0.0%** | **0.0%** | **375.04 KB** | **375.04 KB** | **71.16 KB** | **71.17 KB** | **FB_WWW_PROD**
react-dom.development.js | +0.1% | +0.1% | 980.23 KB | 981.07 KB | 214.2 KB | 214.38 KB | UMD_DEV
**react-dom.production.min.js** | **0.0%** | **-0.0%** | **124.83 KB** | **124.83 KB** | **40.96 KB** | **40.96 KB** | **UMD_PROD**
react-dom.profiling.min.js | 0.0% | -0.0% | 130.52 KB | 130.52 KB | 42.7 KB | 42.7 KB | UMD_PROFILING
react-dom-unstable-fizz.browser.development.js | 0.0% | -0.1% | 5.15 KB | 5.15 KB | 1.76 KB | 1.76 KB | UMD_DEV
react-dom-unstable-fizz.node.development.js | 0.0% | -0.1% | 5.42 KB | 5.42 KB | 1.82 KB | 1.82 KB | NODE_DEV
react-dom.development.js | +0.1% | +0.1% | 932.83 KB | 933.64 KB | 211.39 KB | 211.57 KB | NODE_DEV
ReactDOMForked-dev.js | +0.1% | +0.1% | 1000.52 KB | 1001.37 KB | 222.11 KB | 222.32 KB | FB_WWW_DEV
**react-dom-unstable-fizz.node.production.min.js** | **0.0%** | **-0.1%** | **1.17 KB** | **1.17 KB** | **667 B** | **666 B** | **NODE_PROD**
**react-dom.production.min.js** | **0.0%** | **0.0%** | **124.99 KB** | **124.99 KB** | **40.31 KB** | **40.31 KB** | **NODE_PROD**
**ReactDOMForked-prod.js** | **0.0%** | **0.0%** | **384.78 KB** | **384.78 KB** | **71.73 KB** | **71.73 KB** | **FB_WWW_PROD**
react-dom.profiling.min.js | 0.0% | 0.0% | 130.86 KB | 130.86 KB | 42.03 KB | 42.03 KB | NODE_PROFILING
ReactDOMForked-profiling.js | 0.0% | 0.0% | 403.17 KB | 403.17 KB | 74.91 KB | 74.91 KB | FB_WWW_PROFILING
react-dom-unstable-fizz.browser.development.js | 0.0% | -0.1% | 4.68 KB | 4.68 KB | 1.66 KB | 1.66 KB | NODE_DEV
ReactDOM-dev.js | +0.1% | +0.1% | 995.26 KB | 996.1 KB | 221.19 KB | 221.38 KB | FB_WWW_DEV
**react-dom-unstable-fizz.browser.production.min.js** | **0.0%** | **-0.3%** | **1.01 KB** | **1.01 KB** | **617 B** | **615 B** | **NODE_PROD**
react-dom-server.browser.development.js | 0.0% | -0.0% | 137.62 KB | 137.62 KB | 36.5 KB | 36.5 KB | NODE_DEV
**react-dom-server.browser.production.min.js** | **0.0%** | **-0.0%** | **20.33 KB** | **20.33 KB** | **7.53 KB** | **7.53 KB** | **NODE_PROD**
react-dom-test-utils.development.js | 0.0% | -0.0% | 71.37 KB | 71.37 KB | 19.33 KB | 19.33 KB | UMD_DEV
react-dom-test-utils.development.js | 0.0% | -0.0% | 66.18 KB | 66.18 KB | 18.81 KB | 18.81 KB | NODE_DEV
ReactDOMTesting-dev.js | +0.1% | +0.1% | 918.73 KB | 919.58 KB | 206.8 KB | 206.98 KB | FB_WWW_DEV

## react-native-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactNativeRenderer-profiling.js | 0.0% | 0.0% | 283.94 KB | 283.94 KB | 50.9 KB | 50.91 KB | RN_OSS_PROFILING
ReactFabric-dev.js | +0.1% | +0.1% | 670.2 KB | 671.05 KB | 144.7 KB | 144.89 KB | RN_OSS_DEV
**ReactFabric-prod.js** | **0.0%** | **0.0%** | **264.83 KB** | **264.83 KB** | **47.38 KB** | **47.38 KB** | **RN_OSS_PROD**
ReactFabric-profiling.js | 0.0% | 0.0% | 276.82 KB | 276.83 KB | 49.65 KB | 49.65 KB | RN_OSS_PROFILING
ReactNativeRenderer-dev.js | +0.1% | +0.1% | 688.84 KB | 689.69 KB | 149.36 KB | 149.54 KB | RN_OSS_DEV
**ReactNativeRenderer-prod.js** | **0.0%** | **0.0%** | **271.97 KB** | **271.98 KB** | **48.66 KB** | **48.66 KB** | **RN_OSS_PROD**

## react-reconciler
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-reconciler-reflection.development.js | 0.0% | -0.0% | 16.01 KB | 16.01 KB | 4.88 KB | 4.88 KB | NODE_DEV
**react-reconciler-reflection.production.min.js** | **0.0%** | **-0.1%** | **2.63 KB** | **2.63 KB** | **1.14 KB** | **1.13 KB** | **NODE_PROD**
react-reconciler.development.js | +0.1% | +0.1% | 675.09 KB | 675.9 KB | 144.23 KB | 144.41 KB | NODE_DEV
**react-reconciler.production.min.js** | **0.0%** | **-0.0%** | **89.02 KB** | **89.02 KB** | **27.71 KB** | **27.7 KB** | **NODE_PROD**

  </details>
  

ReactDOM: size: 0.0%, gzip: -0.0%

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against eb42de7bc5b191817d596cb732bbe0f13ada3bc0
</p>
",2021-01-26T19:41:09Z
767782003,"
<!--
  0 failure: 
  0 warning: 
  
  3 markdown notices
  DangerID: danger-id-stable;
-->




  <details>
  <summary>Details of bundled changes.</summary>

  <p>Comparing: a922f1c710f60f64c9013fb567ce8b9c15f252eb...eb42de7bc5b191817d596cb732bbe0f13ada3bc0</p>


  
## react-test-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-test-renderer.development.js | +0.1% | +0.1% | 615.83 KB | 616.68 KB | 129.94 KB | 130.12 KB | UMD_DEV
**react-test-renderer.production.min.js** | **0.0%** | **-0.0%** | **77.07 KB** | **77.07 KB** | **24.41 KB** | **24.41 KB** | **UMD_PROD**
ReactTestRenderer-dev.js | +0.1% | +0.1% | 597.16 KB | 598.01 KB | 129.35 KB | 129.53 KB | RN_FB_DEV
**ReactTestRenderer-prod.js** | **0.0%** | **0.0%** | **232.68 KB** | **232.68 KB** | **42.67 KB** | **42.67 KB** | **RN_FB_PROD**
ReactTestRenderer-profiling.js | 0.0% | 0.0% | 244.54 KB | 244.55 KB | 44.86 KB | 44.86 KB | RN_FB_PROFILING
react-test-renderer.development.js | +0.1% | +0.1% | 586.63 KB | 587.44 KB | 128.36 KB | 128.54 KB | NODE_DEV
**react-test-renderer.production.min.js** | **0.0%** | **0.0%** | **76.88 KB** | **76.88 KB** | **24.09 KB** | **24.09 KB** | **NODE_PROD**
ReactTestRenderer-dev.js | +0.1% | +0.1% | 609.42 KB | 610.26 KB | 130.67 KB | 130.86 KB | FB_WWW_DEV

## react-art
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactART-dev.js | +0.1% | +0.1% | 671.63 KB | 672.48 KB | 142.47 KB | 142.67 KB | FB_WWW_DEV
react-art.development.js | +0.1% | +0.1% | 675.09 KB | 675.94 KB | 143.88 KB | 144.07 KB | UMD_DEV
**react-art.production.min.js** | **0.0%** | **-0.0%** | **109.21 KB** | **109.21 KB** | **34.13 KB** | **34.12 KB** | **UMD_PROD**
react-art.development.js | +0.1% | +0.1% | 576.99 KB | 577.8 KB | 125.99 KB | 126.16 KB | NODE_DEV

## react-dom
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactDOM-profiling.js | 0.0% | 0.0% | 411.69 KB | 411.69 KB | 76.08 KB | 76.08 KB | FB_WWW_PROFILING
react-dom-server.node.development.js | 0.0% | -0.0% | 137.09 KB | 137.09 KB | 36.46 KB | 36.46 KB | NODE_DEV
**react-dom-server.browser.production.min.js** | **0.0%** | **-0.0%** | **19.87 KB** | **19.87 KB** | **7.46 KB** | **7.46 KB** | **UMD_PROD**
**ReactDOMTesting-prod.js** | **0.0%** | **0.0%** | **388.25 KB** | **388.25 KB** | **73.32 KB** | **73.32 KB** | **FB_WWW_PROD**
react-dom.development.js | +0.1% | +0.1% | 927.68 KB | 928.52 KB | 204.11 KB | 204.29 KB | UMD_DEV
**react-dom.production.min.js** | **0.0%** | **-0.0%** | **118.46 KB** | **118.46 KB** | **39 KB** | **39 KB** | **UMD_PROD**
react-dom.development.js | +0.1% | +0.1% | 882.79 KB | 883.59 KB | 201.52 KB | 201.71 KB | NODE_DEV
ReactDOMForked-dev.js | +0.1% | +0.1% | 1 MB | 1 MB | 226.93 KB | 227.15 KB | FB_WWW_DEV
**ReactDOMForked-prod.js** | **0.0%** | **0.0%** | **396.15 KB** | **396.15 KB** | **73.48 KB** | **73.48 KB** | **FB_WWW_PROD**
react-dom.profiling.min.js | 0.0% | -0.0% | 122.8 KB | 122.8 KB | 39.57 KB | 39.57 KB | NODE_PROFILING
ReactDOMForked-profiling.js | 0.0% | 0.0% | 414.59 KB | 414.59 KB | 76.68 KB | 76.68 KB | FB_WWW_PROFILING
ReactDOM-dev.js | +0.1% | +0.1% | 1020.84 KB | 1021.69 KB | 225.98 KB | 226.17 KB | FB_WWW_DEV
**ReactDOM-prod.js** | **0.0%** | **0.0%** | **393.26 KB** | **393.26 KB** | **72.91 KB** | **72.91 KB** | **FB_WWW_PROD**
react-dom-server.browser.development.js | 0.0% | -0.0% | 135.82 KB | 135.82 KB | 36.21 KB | 36.21 KB | NODE_DEV
react-dom-test-utils.development.js | 0.0% | -0.0% | 71.36 KB | 71.36 KB | 19.32 KB | 19.32 KB | UMD_DEV
**react-dom-test-utils.production.min.js** | **0.0%** | **-0.0%** | **13.7 KB** | **13.7 KB** | **5.31 KB** | **5.31 KB** | **UMD_PROD**
react-dom-test-utils.development.js | 0.0% | -0.0% | 66.17 KB | 66.17 KB | 18.8 KB | 18.8 KB | NODE_DEV
ReactDOMTesting-dev.js | +0.1% | +0.1% | 947.07 KB | 947.92 KB | 212.49 KB | 212.66 KB | FB_WWW_DEV

## react-native-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactNativeRenderer-profiling.js | 0.0% | 0.0% | 283.92 KB | 283.93 KB | 50.9 KB | 50.9 KB | RN_OSS_PROFILING
ReactFabric-profiling.js | 0.0% | 0.0% | 276.77 KB | 276.78 KB | 49.62 KB | 49.62 KB | RN_FB_PROFILING
ReactFabric-dev.js | +0.1% | +0.1% | 670.18 KB | 671.03 KB | 144.69 KB | 144.88 KB | RN_OSS_DEV
**ReactFabric-prod.js** | **0.0%** | **0.0%** | **264.81 KB** | **264.82 KB** | **47.38 KB** | **47.38 KB** | **RN_OSS_PROD**
ReactFabric-profiling.js | 0.0% | 0.0% | 276.81 KB | 276.82 KB | 49.64 KB | 49.64 KB | RN_OSS_PROFILING
ReactNativeRenderer-dev.js | +0.1% | +0.1% | 688.83 KB | 689.68 KB | 149.35 KB | 149.53 KB | RN_OSS_DEV
ReactFabric-dev.js | +0.1% | +0.1% | 675.59 KB | 676.44 KB | 145.56 KB | 145.74 KB | RN_FB_DEV
**ReactNativeRenderer-prod.js** | **0.0%** | **0.0%** | **271.96 KB** | **271.96 KB** | **48.65 KB** | **48.65 KB** | **RN_OSS_PROD**
**ReactFabric-prod.js** | **0.0%** | **0.0%** | **264.78 KB** | **264.78 KB** | **47.36 KB** | **47.36 KB** | **RN_FB_PROD**
ReactNativeRenderer-dev.js | +0.1% | +0.1% | 694.22 KB | 695.07 KB | 150.19 KB | 150.37 KB | RN_FB_DEV
**ReactNativeRenderer-prod.js** | **0.0%** | **0.0%** | **271.92 KB** | **271.92 KB** | **48.63 KB** | **48.63 KB** | **RN_FB_PROD**
ReactNativeRenderer-profiling.js | 0.0% | 0.0% | 283.88 KB | 283.88 KB | 50.87 KB | 50.87 KB | RN_FB_PROFILING

## react-reconciler
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-reconciler-reflection.development.js | 0.0% | -0.0% | 16 KB | 16 KB | 4.87 KB | 4.87 KB | NODE_DEV
**react-reconciler-reflection.production.min.js** | **0.0%** | **-0.1%** | **2.62 KB** | **2.62 KB** | **1.13 KB** | **1.13 KB** | **NODE_PROD**
react-reconciler.development.js | +0.1% | +0.1% | 631.94 KB | 632.75 KB | 135.33 KB | 135.51 KB | NODE_DEV
**react-reconciler.production.min.js** | **0.0%** | **0.0%** | **83.77 KB** | **83.77 KB** | **26.12 KB** | **26.12 KB** | **NODE_PROD**
react-reconciler.profiling.min.js | 0.0% | 0.0% | 87.93 KB | 87.93 KB | 27.38 KB | 27.38 KB | NODE_PROFILING

  </details>
  

ReactDOM: size: 0.0%, gzip: -0.0%

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against eb42de7bc5b191817d596cb732bbe0f13ada3bc0
</p>
",2021-01-26T19:41:46Z
767783530,"Ideally we'd know what the stack of the native frame is, like we do in getPrimitiveStackCache. The reason we don't know how many wrappers there are, is because we don't know exactly how the end user code ends up getting access to the dispatchers and how many indirections there are like a re-exporting function. One way we can know for sure is if there ever is another hook called in the same frame. Then it's not a simple wrapper. The problem is that we don't know that until after the fact. So the solution would be to mutate after the fact.

The runtime bug occurs because we assume that something is primitive if it's the leaf of the tree. This bug and the structural bug happens when we're pushing to the children of that hook.

I think we can detect when that is happening and readjust the tree as we're noticing this.

If the currently processing stack is a strict superset of the previously processing stack, that means that we're adding to the leaf. We should never be adding to the leaf because that would be adding a child of a primitive which makes it no longer a primitive.

I.e. if we don't end up popping anything here then something has gone wrong:

https://github.com/facebook/react/blob/a511dc7090523ee49ce21a08e55c41917d8af311/packages/react-debug-tools/src/ReactDebugHooks.js#L510

Not all should be common.

If this happen, we know that the previous row as not a true primitive. We can then adjust that by creating a new clone as part of its children and mark the parent as not-editable. I.e. we move the primitive one level below and turn the previous primitive into a custom hook that happens to be named the same. That way we're free to add more things to that shared parent.",2021-01-26T19:44:26Z
767792885,Whoops forgot to gate the new tests to `@experimental`.,2021-01-26T20:01:35Z
767810434,"Ah nice to find this. This bug affects many form libraries for some reason, so we are seeing it a lot in Blitz apps (with concurrent mode)",2021-01-26T20:33:18Z
767815220,"> One way we can know for sure is if there ever is another hook called in the same frame. Then it's not a simple wrapper. The problem is that we don't know that until after the fact. So the solution would be to mutate after the fact.

With the code that's in the failing test on this PR, we have a custom hook that calls two primitives. First the call to `useState`:
```
 prev stack:        stack:

                    React.useState 
                    React.useState 
                   [useState]        <- incorrect identified primitive call site
                    Component
                    ...
```

Then the call to `useMemo`:
```
 prev stack:        stack:

 React.useState     React.useMemo 
 React.useState    [React.useMemo]   <- correct identified primitive call site
[useState]          useState
 Component          Component
 ...                ...
```

I think you're saying that as of the point when `useMemo` is called, we can look at our current stack and the previous stack and determine that we were wrong about the primitive call site for `useState`.

But doesn't that rest on the assumption that the custom hook will always call more one primitive hook? Maybe that's uncommon enough that this would still be an improvement.

> I.e. if we don't end up popping anything here then something has gone wrong

Is that always true? We wouldn't pop anything for primitive hooks that are called directly (not counting any wrapper functions added by a packager).

",2021-01-26T20:42:40Z
767821518,"**I'm getting this error :**
Error: Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.

**Can anyone suggest me how to solve this issue.**

**Here is my code:**

```javascript
import React, { Fragment, useEffect, useContext } from 'react';
import Spinner from '../layout/Spinner';
import Repos from '../repos/Repos';
import { Link } from 'react-router-dom';
import GithubContext from '../../context/github/githubContext';

const User = ({ match }) => {
    const githubContext = useContext(GithubContext);

    const { getUser,user,loading,repos,getUserRepos } = githubContext;

    useEffect(()=>{
        getUser(match.params.login) // to get it from url
        getUserRepos(match.params.login)
        // eslint-disable-next-line             
    },[]);

        const {
            name,
            avatar_url,
            location,
            bio,
            blog,
            login,
            html_url,
            followers,
            following,
            public_repos,
            public_gists,
            company,
            website,
            hirable
        } = user;
 
        if(loading) return <Spinner />

        return (
            <Fragment>
              <Link to='/' className='btn btn-light'>Back to Search</Link>
              Hirable: {' '}
              {hirable ? <i className='fas fa-check text-success' />:<i className='fas fa-times-circle text-danger' />}

              <div className='card grid-2' >
                  <div className='all-center'>
                     <img src={avatar_url} className='round-img' alt='' style={{width: '150px'}} />
                     <h1>{name}</h1>
                     <p>Loaction: {location}</p>
                  </div>
                  <div>
                      {bio && <Fragment>
                          <h3>Bio</h3>
                          <p>{bio}</p>
                          </Fragment>}
                       <a href={html_url} className='btn btn-dark my-1'>Visit Github Profile</a>
                       <ul>
                           <li>
                               {login && <Fragment>
                                    <strong>Username: {login}</strong>
                                   </Fragment>}
                           </li>
                           <li>
                               {company && <Fragment>
                                    <strong>Company: {company}</strong>
                                   </Fragment>}
                           </li>
                           <li>
                               {website && <Fragment>
                                    <strong>Website: {website}</strong>
                                   </Fragment>}
                           </li>
                       </ul>
                  </div>
              </div>
              <div className='card text-center'>
                 <div className='badge badge-primary'>Followers: {followers}</div>
                 <div className='badge badge-success'>Following: {following}</div>
                 <div className='badge badge-light'>Public Repos: {public_repos}</div>
                 <div className='badge badge-dark'>Public Gists: {public_gists}</div>
              </div>
              <Repos repos={repos} />
            </Fragment>

        )
}

export default User;
```",2021-01-26T20:54:43Z
767823167,"> Is that always true? We wouldn't pop anything for primitive hooks that are called directly

I believe we pop at least once because the call location of the primitive should be different between the two. Once we push a primitive we also set the current levelChildren to be that of the primitive so we need to pop it to get the shared parent.

The case not covered by my proposal is something like this:

```
function useState() {
  useMemo(() => {})
  useState();
}
```

Where the second call is a strict subset.

I'm not sure what happens there. Maybe that already just works.

No previous/next should ever be a strict superset nor subset of its previous/next pair. There is always at least one difference. If there isn't, it probably means we hit these cases.",2021-01-26T20:57:50Z
767829535,">> Is that always true? We wouldn't pop anything for primitive hooks that are called directly
>
> I believe we pop at least once because the call location of the primitive should be different between the two. Once we push a primitive we also set the current levelChildren to be that of the primitive so we need to pop it to get the shared parent.

I tried before asking and it did not seem like that was the case.",2021-01-26T21:09:55Z
767894458,"Hi @sealmindset! 

Thank you for your pull request and welcome to our community. 

# Action Required

In order to merge **any pull request** (code, docs, etc.), we **require** contributors to sign our **Contributor License Agreement**, and we don't seem to have one on file for you.

# Process

In order for us to review and merge your suggested changes, please sign at <https://code.facebook.com/cla>. **If you are contributing on behalf of someone else (eg your employer)**, the individual CLA may not be sufficient and your employer may need to sign the corporate CLA.

Once the CLA is signed, our tooling will perform checks and validations. Afterwards, the **pull request will be tagged** with `CLA signed`. The tagging process may take up to 1 hour after signing. Please give it that time before contacting us about it.

If you have received this in error or have any questions, please contact us at [cla@fb.com](mailto:cla@fb.com?subject=CLA%20for%20facebook%2Freact%20%2320666). Thanks!",2021-01-26T23:21:12Z
767895826,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20666/builds/95850) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 58b2e9fdde79d70e39af329c75c5285fa7391a44:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-3rg5h)| Configuration |
",2021-01-26T23:24:30Z
767896602,"
<!--
  0 failure: 
  1 warning:  Could not find bu...
  
  1 markdown notices
  DangerID: danger-id-stable;
-->


<table>
  <thead>
    <tr>
      <th width=""50""></th>
      <th width=""100%"" data-danger-table=""true"">Warnings</th>
    </tr>
  </thead>
  <tbody><tr>
      <td>:warning:</td>
      <td>Could not find build artifacts for base commit: 49cd77d24a5244d159be14671654da63932ea9be</td>
    </tr>
  </tbody>
</table>


## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 58b2e9fdde79d70e39af329c75c5285fa7391a44
</p>
",2021-01-26T23:26:27Z
767897204,"
<!--
  0 failure: 
  1 warning:  Could not find bu...
  
  1 markdown notices
  DangerID: danger-id-experimental;
-->


<table>
  <thead>
    <tr>
      <th width=""50""></th>
      <th width=""100%"" data-danger-table=""true"">Warnings</th>
    </tr>
  </thead>
  <tbody><tr>
      <td>:warning:</td>
      <td>Could not find build artifacts for base commit: 49cd77d24a5244d159be14671654da63932ea9be</td>
    </tr>
  </tbody>
</table>


## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 58b2e9fdde79d70e39af329c75c5285fa7391a44
</p>
",2021-01-26T23:27:52Z
767901911,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20667/builds/95871) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 0711bb0bbfa9cbea9319b0c63c411af49c9259eb:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-f3nwq)| Configuration |
",2021-01-26T23:39:26Z
767902615,"
<!--
  0 failure: 
  1 warning:  Build job for bas...
  
  1 markdown notices
  DangerID: danger-id-stable;
-->


<table>
  <thead>
    <tr>
      <th width=""50""></th>
      <th width=""100%"" data-danger-table=""true"">Warnings</th>
    </tr>
  </thead>
  <tbody><tr>
      <td>:warning:</td>
      <td>Build job for base commit is still pending: a6b5256a29b60620bdeb9266d4935cb59cc1258e</td>
    </tr>
  </tbody>
</table>


## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 0711bb0bbfa9cbea9319b0c63c411af49c9259eb
</p>
",2021-01-26T23:41:25Z
767902637,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->



No significant bundle size changes to report.

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 0711bb0bbfa9cbea9319b0c63c411af49c9259eb
</p>
",2021-01-26T23:41:30Z
767902924,"Thanks for the feedback.

I went with the HostConfig strategy and created a new stack of PRs with the head [here](https://github.com/facebook/react/pull/20669).",2021-01-26T23:42:15Z
767902981,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20668/builds/95921) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit ccfee9ad3b20ab38ed7a263fdf7861244e729212:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-47r2i)| Configuration |
",2021-01-26T23:42:24Z
767903241,"
<!--
  0 failure: 
  1 warning:  Could not find bu...
  
  1 markdown notices
  DangerID: danger-id-experimental;
-->


<table>
  <thead>
    <tr>
      <th width=""50""></th>
      <th width=""100%"" data-danger-table=""true"">Warnings</th>
    </tr>
  </thead>
  <tbody><tr>
      <td>:warning:</td>
      <td>Could not find build artifacts for base commit: 9c32622cf04e70dd40463ece25e83b7cc311b0ed</td>
    </tr>
  </tbody>
</table>


## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against ccfee9ad3b20ab38ed7a263fdf7861244e729212
</p>
",2021-01-26T23:43:07Z
767903376,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->




  <details>
  <summary>Details of bundled changes.</summary>

  <p>Comparing: 9c32622cf04e70dd40463ece25e83b7cc311b0ed...ccfee9ad3b20ab38ed7a263fdf7861244e729212</p>


  
## react-noop-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-noop-renderer.development.js | +0.8% | +1.0% | 37.62 KB | 37.92 KB | 8.12 KB | 8.2 KB | NODE_DEV
**react-noop-renderer.production.min.js** | **:small_red_triangle:+1.5%** | **:small_red_triangle:+1.8%** | **13.54 KB** | **13.75 KB** | **4.08 KB** | **4.16 KB** | **NODE_PROD**
react-noop-renderer-flight-server.development.js | 0.0% | -0.3% | 2.01 KB | 2.01 KB | 875 B | 872 B | NODE_DEV
**react-noop-renderer-flight-server.production.min.js** | **0.0%** | **-0.4%** | **1.06 KB** | **1.06 KB** | **565 B** | **563 B** | **NODE_PROD**
react-noop-renderer-server.development.js | 0.0% | -0.4% | 1.59 KB | 1.59 KB | 743 B | 740 B | NODE_DEV
**react-noop-renderer-server.production.min.js** | **0.0%** | **-0.6%** | **839 B** | **839 B** | **471 B** | **468 B** | **NODE_PROD**
react-noop-renderer-persistent.development.js | +0.8% | +1.0% | 37.63 KB | 37.93 KB | 8.13 KB | 8.21 KB | NODE_DEV
**react-noop-renderer-persistent.production.min.js** | **:small_red_triangle:+1.5%** | **:small_red_triangle:+1.8%** | **13.55 KB** | **13.76 KB** | **4.09 KB** | **4.16 KB** | **NODE_PROD**
react-noop-renderer-flight-client.development.js | 0.0% | -0.4% | 1.46 KB | 1.46 KB | 714 B | 711 B | NODE_DEV
**react-noop-renderer-flight-client.production.min.js** | **0.0%** | **-0.7%** | **736 B** | **736 B** | **461 B** | **458 B** | **NODE_PROD**

  </details>
  

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against ccfee9ad3b20ab38ed7a263fdf7861244e729212
</p>
",2021-01-26T23:43:32Z
767903968,"As you're likely aware â€” Concurrent Mode is experimental, and there are likely both more bugs, and more breaking changes coming. (E.g. an upcoming breaking change will make more stuff synchronous, which might end up resolving this.)

I think form libraries are completely within their rights to _not_ fix this because the bug is probably ours, and we explicitly don't recommend anyone writing stable software to rely on experimental features in production.

",2021-01-26T23:45:07Z
767904638,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20669/builds/96269) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 458f04ea08900c36a75b37a30df22be324554bb1:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-yf9vf)| Configuration |
",2021-01-26T23:46:58Z
767905346,"@acdlite startTransition wont work in non-experimental gated tests. Would you just gate the tests that use it now, or duplicate them?",2021-01-26T23:48:47Z
767908039,"@rickhanlonii Fine to gate them. There's a TODO to fix the www classic builds (which are mistakenly interpreted as ""stable"") but  `@gate experimental` should work in the interim.",2021-01-26T23:55:51Z
767908690,@acdlite that link doesn't work for me,2021-01-26T23:57:29Z
767910837,Here: https://github.com/facebook/react/pull/20669#discussion_r564918253,2021-01-27T00:03:21Z
767940323,"fixed flow, ran yarn prettier, added unit tests as @TheSavior suggested: 

* Passing a ref to a fabric component to the Fabric JS renderer calls the fabric native method
* Passing a ref to a paper component to the Paper JS renderer calls the paper native method
* Passing a ref to a paper component to the Fabric JS renderer calls the paper native method
* Passing a ref to a fabric component to the Paper JS renderer calls the fabric native method
* Passing a non-ref to Paper JS render is an error
* Passing a non-ref to Fabric JS render is an error",2021-01-27T01:17:42Z
767966668,@gaearon I can have a try. There are two versions of files in react-resonciler(old.js and new.js). Which should I modify?,2021-01-27T02:21:40Z
768020011,Not sure which ones you'll get on build.. Try changing both and see which gets used?,2021-01-27T04:27:57Z
768032476,"
<!--
  0 failure: 
  0 warning: 
  
  3 markdown notices
  DangerID: danger-id-stable;
-->




  <details>
  <summary>Details of bundled changes.</summary>

  <p>Comparing: aa736a0fa6e22f902bd7a98dcb9b24d8c4310e35...458f04ea08900c36a75b37a30df22be324554bb1</p>


  
## react-dom
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactDOM-profiling.js | +0.2% | +0.2% | 410.98 KB | 411.69 KB | 75.91 KB | 76.1 KB | FB_WWW_PROFILING
react-dom-server.browser.development.js | 0.0% | 0.0% | 143.17 KB | 143.17 KB | 36.66 KB | 36.67 KB | UMD_DEV
react-dom-server.node.development.js | 0.0% | 0.0% | 137.09 KB | 137.09 KB | 36.46 KB | 36.46 KB | NODE_DEV
**react-dom-server.browser.production.min.js** | **0.0%** | **0.0%** | **19.87 KB** | **19.87 KB** | **7.46 KB** | **7.46 KB** | **UMD_PROD**
**react-dom-server.node.production.min.js** | **0.0%** | **0.0%** | **20.19 KB** | **20.19 KB** | **7.58 KB** | **7.58 KB** | **NODE_PROD**
**react-dom-test-utils.production.min.js** | **0.0%** | **0.0%** | **13.68 KB** | **13.68 KB** | **5.25 KB** | **5.26 KB** | **NODE_PROD**
**ReactDOMTesting-prod.js** | **0.0%** | **0.0%** | **388.18 KB** | **388.25 KB** | **73.32 KB** | **73.32 KB** | **FB_WWW_PROD**
react-dom.development.js | +0.1% | +0.1% | 927.13 KB | 927.68 KB | 203.99 KB | 204.11 KB | UMD_DEV
ReactTestUtils-dev.js | +0.1% | +0.1% | 61.42 KB | 61.5 KB | 16.92 KB | 16.93 KB | FB_WWW_DEV
**react-dom.production.min.js** | **0.0%** | **0.0%** | **118.46 KB** | **118.46 KB** | **38.99 KB** | **39 KB** | **UMD_PROD**
react-dom.profiling.min.js | 0.0% | 0.0% | 122.56 KB | 122.56 KB | 40.25 KB | 40.25 KB | UMD_PROFILING
react-dom.development.js | +0.1% | +0.1% | 882.25 KB | 882.79 KB | 201.4 KB | 201.52 KB | NODE_DEV
ReactDOMForked-dev.js | +0.1% | +0.2% | 1 MB | 1 MB | 226.56 KB | 226.93 KB | FB_WWW_DEV
**react-dom.production.min.js** | **0.0%** | **0.0%** | **118.55 KB** | **118.55 KB** | **38.31 KB** | **38.31 KB** | **NODE_PROD**
**ReactDOMForked-prod.js** | **:small_red_triangle:+0.2%** | **:small_red_triangle:+0.2%** | **395.45 KB** | **396.16 KB** | **73.31 KB** | **73.49 KB** | **FB_WWW_PROD**
react-dom.profiling.min.js | 0.0% | -0.0% | 122.8 KB | 122.8 KB | 39.58 KB | 39.57 KB | NODE_PROFILING
ReactDOMForked-profiling.js | +0.2% | +0.3% | 413.88 KB | 414.6 KB | 76.5 KB | 76.7 KB | FB_WWW_PROFILING
ReactDOM-dev.js | +0.1% | +0.2% | 1019.54 KB | 1020.83 KB | 225.63 KB | 225.99 KB | FB_WWW_DEV
**ReactDOM-prod.js** | **:small_red_triangle:+0.2%** | **:small_red_triangle:+0.2%** | **392.55 KB** | **393.26 KB** | **72.75 KB** | **72.93 KB** | **FB_WWW_PROD**
react-dom-server.browser.development.js | 0.0% | 0.0% | 135.82 KB | 135.82 KB | 36.21 KB | 36.21 KB | NODE_DEV
**react-dom-server.browser.production.min.js** | **0.0%** | **0.0%** | **19.77 KB** | **19.77 KB** | **7.42 KB** | **7.42 KB** | **NODE_PROD**
react-dom-test-utils.development.js | 0.0% | 0.0% | 71.36 KB | 71.36 KB | 19.32 KB | 19.32 KB | UMD_DEV
ReactDOMServer-dev.js | +0.1% | +0.1% | 146.46 KB | 146.55 KB | 37.61 KB | 37.64 KB | FB_WWW_DEV
**react-dom-test-utils.production.min.js** | **0.0%** | **0.0%** | **13.7 KB** | **13.7 KB** | **5.31 KB** | **5.32 KB** | **UMD_PROD**
**ReactDOMServer-prod.js** | **0.0%** | **0.0%** | **47.44 KB** | **47.44 KB** | **11.06 KB** | **11.06 KB** | **FB_WWW_PROD**
react-dom-test-utils.development.js | 0.0% | -0.0% | 66.17 KB | 66.17 KB | 18.8 KB | 18.8 KB | NODE_DEV
ReactDOMTesting-dev.js | +0.1% | +0.1% | 946.49 KB | 947.07 KB | 212.35 KB | 212.49 KB | FB_WWW_DEV

## react-test-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-test-renderer.development.js | +0.1% | +0.1% | 615.28 KB | 615.83 KB | 129.8 KB | 129.94 KB | UMD_DEV
**react-test-renderer.production.min.js** | **0.0%** | **0.0%** | **77.07 KB** | **77.07 KB** | **24.4 KB** | **24.41 KB** | **UMD_PROD**
ReactTestRenderer-dev.js | +0.1% | +0.1% | 596.58 KB | 597.16 KB | 129.22 KB | 129.35 KB | RN_FB_DEV
**ReactTestRenderer-prod.js** | **0.0%** | **0.0%** | **232.61 KB** | **232.68 KB** | **42.67 KB** | **42.67 KB** | **RN_FB_PROD**
ReactTestRenderer-profiling.js | 0.0% | 0.0% | 244.47 KB | 244.54 KB | 44.85 KB | 44.86 KB | RN_FB_PROFILING
react-test-renderer.development.js | +0.1% | +0.1% | 586.1 KB | 586.63 KB | 128.24 KB | 128.36 KB | NODE_DEV
**react-test-renderer.production.min.js** | **0.0%** | **0.0%** | **76.88 KB** | **76.88 KB** | **24.09 KB** | **24.09 KB** | **NODE_PROD**
ReactTestRenderer-dev.js | +0.1% | +0.1% | 608.84 KB | 609.42 KB | 130.53 KB | 130.67 KB | FB_WWW_DEV

## react-art
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactART-dev.js | +0.1% | +0.2% | 670.68 KB | 671.63 KB | 142.22 KB | 142.47 KB | FB_WWW_DEV
react-art.development.js | +0.1% | +0.1% | 674.54 KB | 675.09 KB | 143.75 KB | 143.88 KB | UMD_DEV
**react-art.production.min.js** | **0.0%** | **0.0%** | **109.21 KB** | **109.21 KB** | **34.12 KB** | **34.13 KB** | **UMD_PROD**
react-art.development.js | +0.1% | +0.1% | 576.46 KB | 576.99 KB | 125.87 KB | 125.99 KB | NODE_DEV
**react-art.production.min.js** | **0.0%** | **-0.0%** | **74.21 KB** | **74.21 KB** | **23.25 KB** | **23.25 KB** | **NODE_PROD**
**ReactART-prod.js** | **:small_red_triangle:+0.1%** | **:small_red_triangle:+0.1%** | **251.68 KB** | **251.92 KB** | **44.84 KB** | **44.9 KB** | **FB_WWW_PROD**

## react-native-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactNativeRenderer-profiling.js | 0.0% | -0.0% | 283.86 KB | 283.92 KB | 50.9 KB | 50.9 KB | RN_OSS_PROFILING
ReactFabric-profiling.js | 0.0% | 0.0% | 276.7 KB | 276.77 KB | 49.6 KB | 49.62 KB | RN_FB_PROFILING
ReactFabric-dev.js | +0.1% | +0.1% | 669.61 KB | 670.18 KB | 144.56 KB | 144.69 KB | RN_OSS_DEV
**ReactFabric-prod.js** | **0.0%** | **0.0%** | **264.75 KB** | **264.81 KB** | **47.37 KB** | **47.38 KB** | **RN_OSS_PROD**
ReactFabric-profiling.js | 0.0% | 0.0% | 276.74 KB | 276.81 KB | 49.62 KB | 49.64 KB | RN_OSS_PROFILING
ReactNativeRenderer-dev.js | +0.1% | +0.1% | 688.25 KB | 688.83 KB | 149.22 KB | 149.35 KB | RN_OSS_DEV
ReactFabric-dev.js | +0.1% | +0.1% | 675.01 KB | 675.59 KB | 145.43 KB | 145.56 KB | RN_FB_DEV
**ReactNativeRenderer-prod.js** | **0.0%** | **-0.0%** | **271.89 KB** | **271.96 KB** | **48.65 KB** | **48.65 KB** | **RN_OSS_PROD**
**ReactFabric-prod.js** | **0.0%** | **0.0%** | **264.71 KB** | **264.78 KB** | **47.35 KB** | **47.36 KB** | **RN_FB_PROD**
ReactNativeRenderer-dev.js | +0.1% | +0.1% | 693.65 KB | 694.22 KB | 150.06 KB | 150.19 KB | RN_FB_DEV
**ReactNativeRenderer-prod.js** | **0.0%** | **-0.0%** | **271.85 KB** | **271.92 KB** | **48.63 KB** | **48.63 KB** | **RN_FB_PROD**
ReactNativeRenderer-profiling.js | 0.0% | -0.0% | 283.81 KB | 283.88 KB | 50.88 KB | 50.87 KB | RN_FB_PROFILING

## react-reconciler
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-reconciler.development.js | +0.1% | +0.1% | 631.41 KB | 631.94 KB | 135.18 KB | 135.33 KB | NODE_DEV
**react-reconciler.production.min.js** | **0.0%** | **-0.0%** | **83.76 KB** | **83.77 KB** | **26.12 KB** | **26.12 KB** | **NODE_PROD**
react-reconciler.profiling.min.js | 0.0% | 0.0% | 87.93 KB | 87.93 KB | 27.37 KB | 27.38 KB | NODE_PROFILING

  </details>
  

ReactDOM: size: 0.0%, gzip: 0.0%

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 458f04ea08900c36a75b37a30df22be324554bb1
</p>
",2021-01-27T05:02:47Z
768032625,"
<!--
  0 failure: 
  0 warning: 
  
  3 markdown notices
  DangerID: danger-id-experimental;
-->




  <details>
  <summary>Details of bundled changes.</summary>

  <p>Comparing: aa736a0fa6e22f902bd7a98dcb9b24d8c4310e35...458f04ea08900c36a75b37a30df22be324554bb1</p>


  
## react-dom
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactDOM-profiling.js | +0.2% | +0.2% | 399.53 KB | 400.24 KB | 74.16 KB | 74.33 KB | FB_WWW_PROFILING
react-dom-server.browser.development.js | 0.0% | 0.0% | 145.08 KB | 145.08 KB | 36.93 KB | 36.93 KB | UMD_DEV
react-dom-server.node.development.js | 0.0% | 0.0% | 138.89 KB | 138.89 KB | 36.75 KB | 36.75 KB | NODE_DEV
**react-dom-server.browser.production.min.js** | **0.0%** | **0.0%** | **20.42 KB** | **20.42 KB** | **7.57 KB** | **7.57 KB** | **UMD_PROD**
**react-dom-server.node.production.min.js** | **0.0%** | **0.0%** | **20.75 KB** | **20.75 KB** | **7.68 KB** | **7.68 KB** | **NODE_PROD**
**react-dom-test-utils.production.min.js** | **0.0%** | **0.0%** | **13.7 KB** | **13.7 KB** | **5.26 KB** | **5.27 KB** | **NODE_PROD**
**ReactDOMTesting-prod.js** | **0.0%** | **0.0%** | **374.97 KB** | **375.04 KB** | **71.16 KB** | **71.16 KB** | **FB_WWW_PROD**
react-dom.development.js | +0.1% | +0.1% | 979.67 KB | 980.23 KB | 214.09 KB | 214.21 KB | UMD_DEV
ReactTestUtils-dev.js | +0.1% | +0.1% | 61.42 KB | 61.5 KB | 16.92 KB | 16.94 KB | FB_WWW_DEV
**react-dom.production.min.js** | **0.0%** | **0.0%** | **124.83 KB** | **124.83 KB** | **40.98 KB** | **40.98 KB** | **UMD_PROD**
react-dom.profiling.min.js | 0.0% | 0.0% | 130.52 KB | 130.52 KB | 42.71 KB | 42.71 KB | UMD_PROFILING
react-dom-unstable-fizz.node.development.js | 0.0% | +0.1% | 5.42 KB | 5.42 KB | 1.82 KB | 1.82 KB | NODE_DEV
react-dom.development.js | +0.1% | +0.1% | 932.3 KB | 932.83 KB | 211.25 KB | 211.39 KB | NODE_DEV
ReactDOMForked-dev.js | +0.1% | +0.2% | 999.22 KB | 1000.52 KB | 221.75 KB | 222.11 KB | FB_WWW_DEV
**react-dom-unstable-fizz.browser.production.min.js** | **0.0%** | **:small_red_triangle:+0.1%** | **1.22 KB** | **1.22 KB** | **711 B** | **712 B** | **UMD_PROD**
**react-dom.production.min.js** | **0.0%** | **-0.0%** | **124.99 KB** | **124.99 KB** | **40.33 KB** | **40.32 KB** | **NODE_PROD**
**ReactDOMForked-prod.js** | **:small_red_triangle:+0.2%** | **:small_red_triangle:+0.2%** | **384.07 KB** | **384.78 KB** | **71.58 KB** | **71.75 KB** | **FB_WWW_PROD**
react-dom.profiling.min.js | 0.0% | -0.0% | 130.86 KB | 130.86 KB | 42.05 KB | 42.04 KB | NODE_PROFILING
ReactDOMForked-profiling.js | +0.2% | +0.2% | 402.46 KB | 403.17 KB | 74.77 KB | 74.93 KB | FB_WWW_PROFILING
react-dom-unstable-fizz.browser.development.js | 0.0% | +0.1% | 4.68 KB | 4.68 KB | 1.66 KB | 1.66 KB | NODE_DEV
ReactDOM-dev.js | +0.1% | +0.2% | 993.95 KB | 995.25 KB | 220.85 KB | 221.19 KB | FB_WWW_DEV
**react-dom-unstable-fizz.browser.production.min.js** | **0.0%** | **:small_red_triangle:+0.2%** | **1.01 KB** | **1.01 KB** | **615 B** | **616 B** | **NODE_PROD**
**ReactDOM-prod.js** | **:small_red_triangle:+0.2%** | **:small_red_triangle:+0.2%** | **381.14 KB** | **381.86 KB** | **70.99 KB** | **71.17 KB** | **FB_WWW_PROD**
react-dom-server.browser.development.js | 0.0% | 0.0% | 137.62 KB | 137.62 KB | 36.5 KB | 36.5 KB | NODE_DEV
**react-dom-server.browser.production.min.js** | **0.0%** | **0.0%** | **20.33 KB** | **20.33 KB** | **7.53 KB** | **7.53 KB** | **NODE_PROD**
react-dom-test-utils.development.js | 0.0% | 0.0% | 71.37 KB | 71.37 KB | 19.33 KB | 19.33 KB | UMD_DEV
ReactDOMServer-dev.js | +0.1% | +0.1% | 142.43 KB | 142.52 KB | 36.6 KB | 36.63 KB | FB_WWW_DEV
**react-dom-test-utils.production.min.js** | **0.0%** | **0.0%** | **13.71 KB** | **13.71 KB** | **5.32 KB** | **5.32 KB** | **UMD_PROD**
ReactDOMTesting-dev.js | +0.1% | +0.1% | 918.15 KB | 918.73 KB | 206.67 KB | 206.8 KB | FB_WWW_DEV

## react-test-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-test-renderer.development.js | +0.1% | +0.1% | 631.95 KB | 632.5 KB | 133.18 KB | 133.32 KB | UMD_DEV
**react-test-renderer.production.min.js** | **0.0%** | **0.0%** | **79.43 KB** | **79.43 KB** | **25.24 KB** | **25.24 KB** | **UMD_PROD**
ReactTestRenderer-dev.js | +0.1% | +0.1% | 596.59 KB | 597.17 KB | 129.23 KB | 129.36 KB | RN_FB_DEV
**ReactTestRenderer-prod.js** | **0.0%** | **0.0%** | **232.62 KB** | **232.69 KB** | **42.67 KB** | **42.68 KB** | **RN_FB_PROD**
ReactTestRenderer-profiling.js | 0.0% | 0.0% | 244.49 KB | 244.55 KB | 44.86 KB | 44.87 KB | RN_FB_PROFILING
react-test-renderer.development.js | +0.1% | +0.1% | 601.93 KB | 602.47 KB | 131.59 KB | 131.71 KB | NODE_DEV
**react-test-renderer.production.min.js** | **0.0%** | **0.0%** | **79.25 KB** | **79.25 KB** | **24.89 KB** | **24.89 KB** | **NODE_PROD**
ReactTestRenderer-dev.js | +0.1% | +0.1% | 608.85 KB | 609.43 KB | 130.54 KB | 130.69 KB | FB_WWW_DEV

## react-art
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactART-dev.js | +0.1% | +0.2% | 660.67 KB | 661.62 KB | 140.2 KB | 140.43 KB | FB_WWW_DEV
react-art.development.js | +0.1% | +0.1% | 716.8 KB | 717.35 KB | 152.18 KB | 152.32 KB | UMD_DEV
**react-art.production.min.js** | **0.0%** | **-0.0%** | **114.01 KB** | **114.01 KB** | **35.59 KB** | **35.59 KB** | **UMD_PROD**
react-art.development.js | +0.1% | +0.1% | 616.7 KB | 617.24 KB | 134.16 KB | 134.29 KB | NODE_DEV
**react-art.production.min.js** | **0.0%** | **-0.1%** | **78.95 KB** | **78.95 KB** | **24.74 KB** | **24.72 KB** | **NODE_PROD**
**ReactART-prod.js** | **:small_red_triangle:+0.1%** | **:small_red_triangle:+0.1%** | **244.47 KB** | **244.72 KB** | **43.59 KB** | **43.65 KB** | **FB_WWW_PROD**

## react-native-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactNativeRenderer-profiling.js | 0.0% | -0.0% | 283.87 KB | 283.94 KB | 50.91 KB | 50.9 KB | RN_OSS_PROFILING
ReactFabric-dev.js | +0.1% | +0.1% | 669.62 KB | 670.2 KB | 144.57 KB | 144.7 KB | RN_OSS_DEV
**ReactFabric-prod.js** | **0.0%** | **0.0%** | **264.76 KB** | **264.83 KB** | **47.38 KB** | **47.38 KB** | **RN_OSS_PROD**
ReactFabric-profiling.js | 0.0% | 0.0% | 276.75 KB | 276.82 KB | 49.63 KB | 49.65 KB | RN_OSS_PROFILING
ReactNativeRenderer-dev.js | +0.1% | +0.1% | 688.26 KB | 688.84 KB | 149.23 KB | 149.36 KB | RN_OSS_DEV
**ReactNativeRenderer-prod.js** | **0.0%** | **-0.0%** | **271.9 KB** | **271.97 KB** | **48.66 KB** | **48.66 KB** | **RN_OSS_PROD**

## react-reconciler
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-reconciler-reflection.development.js | 0.0% | 0.0% | 16.01 KB | 16.01 KB | 4.88 KB | 4.88 KB | NODE_DEV
react-reconciler.development.js | +0.1% | +0.1% | 674.56 KB | 675.09 KB | 144.09 KB | 144.23 KB | NODE_DEV
**react-reconciler.production.min.js** | **0.0%** | **-0.0%** | **89.02 KB** | **89.02 KB** | **27.72 KB** | **27.72 KB** | **NODE_PROD**
react-reconciler.profiling.min.js | 0.0% | -0.0% | 94.8 KB | 94.8 KB | 29.45 KB | 29.45 KB | NODE_PROFILING

  </details>
  

ReactDOM: size: 0.0%, gzip: 0.0%

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 458f04ea08900c36a75b37a30df22be324554bb1
</p>
",2021-01-27T05:03:14Z
768054071,"Hi @soya14! 

Thank you for your pull request and welcome to our community. 

# Action Required

In order to merge **any pull request** (code, docs, etc.), we **require** contributors to sign our **Contributor License Agreement**, and we don't seem to have one on file for you.

# Process

In order for us to review and merge your suggested changes, please sign at <https://code.facebook.com/cla>. **If you are contributing on behalf of someone else (eg your employer)**, the individual CLA may not be sufficient and your employer may need to sign the corporate CLA.

Once the CLA is signed, our tooling will perform checks and validations. Afterwards, the **pull request will be tagged** with `CLA signed`. The tagging process may take up to 1 hour after signing. Please give it that time before contacting us about it.

If you have received this in error or have any questions, please contact us at [cla@fb.com](mailto:cla@fb.com?subject=CLA%20for%20facebook%2Freact%20%2320671). Thanks!",2021-01-27T06:02:41Z
768055012,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20671/builds/95932) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 99fef31f9d80372066cb6839cab92316efb0a92c:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-697ks)| Configuration |
",2021-01-27T06:04:51Z
768055336,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20670/builds/96206) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit a30d15f8df39b9140283a88cdae58ac02435826a:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-4fgrn)| Configuration |
",2021-01-27T06:05:34Z
768056450,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->



No significant bundle size changes to report.

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 99fef31f9d80372066cb6839cab92316efb0a92c
</p>
",2021-01-27T06:08:09Z
768056616,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->



No significant bundle size changes to report.

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 99fef31f9d80372066cb6839cab92316efb0a92c
</p>
",2021-01-27T06:08:31Z
768056770,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->




  <details>
  <summary>Details of bundled changes.</summary>

  <p>Comparing: 9c32622cf04e70dd40463ece25e83b7cc311b0ed...a30d15f8df39b9140283a88cdae58ac02435826a</p>


  
## react-dom
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactDOM-profiling.js | +0.2% | +0.3% | 410.16 KB | 410.98 KB | 75.66 KB | 75.91 KB | FB_WWW_PROFILING
react-dom-server.browser.development.js | 0.0% | 0.0% | 143.17 KB | 143.17 KB | 36.66 KB | 36.67 KB | UMD_DEV
react-dom-server.node.development.js | 0.0% | 0.0% | 137.09 KB | 137.09 KB | 36.46 KB | 36.46 KB | NODE_DEV
**react-dom-server.node.production.min.js** | **0.0%** | **0.0%** | **20.19 KB** | **20.19 KB** | **7.58 KB** | **7.58 KB** | **NODE_PROD**
**react-dom-test-utils.production.min.js** | **0.0%** | **-0.0%** | **13.68 KB** | **13.68 KB** | **5.26 KB** | **5.26 KB** | **NODE_PROD**
**ReactDOMTesting-prod.js** | **:small_red_triangle:+0.2%** | **:small_red_triangle:+0.3%** | **387.47 KB** | **388.18 KB** | **73.1 KB** | **73.32 KB** | **FB_WWW_PROD**
react-dom.development.js | +0.3% | +0.3% | 924.38 KB | 927.15 KB | 203.3 KB | 204 KB | UMD_DEV
**react-dom.production.min.js** | **:small_red_triangle:+0.4%** | **:small_red_triangle:+0.4%** | **118.02 KB** | **118.46 KB** | **38.84 KB** | **38.99 KB** | **UMD_PROD**
react-dom.profiling.min.js | +0.4% | +0.4% | 122.12 KB | 122.56 KB | 40.07 KB | 40.25 KB | UMD_PROFILING
react-dom.development.js | +0.3% | +0.3% | 879.63 KB | 882.27 KB | 200.72 KB | 201.4 KB | NODE_DEV
ReactDOMForked-dev.js | +0.3% | +0.3% | 1022.09 KB | 1 MB | 225.87 KB | 226.56 KB | FB_WWW_DEV
**react-dom.production.min.js** | **:small_red_triangle:+0.4%** | **:small_red_triangle:+0.3%** | **118.12 KB** | **118.55 KB** | **38.21 KB** | **38.31 KB** | **NODE_PROD**
**ReactDOMForked-prod.js** | **:small_red_triangle:+0.2%** | **:small_red_triangle:+0.4%** | **394.65 KB** | **395.45 KB** | **73.05 KB** | **73.31 KB** | **FB_WWW_PROD**
react-dom.profiling.min.js | +0.3% | +0.3% | 122.38 KB | 122.8 KB | 39.45 KB | 39.58 KB | NODE_PROFILING
ReactDOMForked-profiling.js | +0.2% | +0.4% | 413.06 KB | 413.88 KB | 76.23 KB | 76.5 KB | FB_WWW_PROFILING
ReactDOM-dev.js | +0.3% | +0.3% | 1016.83 KB | 1019.56 KB | 224.94 KB | 225.63 KB | FB_WWW_DEV
**ReactDOM-prod.js** | **:small_red_triangle:+0.2%** | **:small_red_triangle:+0.4%** | **391.76 KB** | **392.55 KB** | **72.49 KB** | **72.75 KB** | **FB_WWW_PROD**
react-dom-server.browser.development.js | 0.0% | 0.0% | 135.82 KB | 135.82 KB | 36.21 KB | 36.21 KB | NODE_DEV
ReactDOMServer-dev.js | 0.0% | -0.0% | 146.46 KB | 146.46 KB | 37.62 KB | 37.61 KB | FB_WWW_DEV
ReactDOMTesting-dev.js | +0.3% | +0.3% | 943.87 KB | 946.51 KB | 211.66 KB | 212.35 KB | FB_WWW_DEV

## react-native-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactNativeRenderer-profiling.js | +0.3% | +0.4% | 282.75 KB | 283.46 KB | 50.63 KB | 50.84 KB | RN_OSS_PROFILING
ReactFabric-profiling.js | +0.3% | +0.4% | 275.59 KB | 276.31 KB | 49.33 KB | 49.55 KB | RN_FB_PROFILING
ReactFabric-dev.js | +0.4% | +0.5% | 666.34 KB | 668.98 KB | 143.8 KB | 144.51 KB | RN_OSS_DEV
**ReactFabric-prod.js** | **:small_red_triangle:+0.3%** | **:small_red_triangle:+0.5%** | **263.64 KB** | **264.35 KB** | **47.1 KB** | **47.32 KB** | **RN_OSS_PROD**
ReactFabric-profiling.js | +0.3% | +0.4% | 275.63 KB | 276.35 KB | 49.35 KB | 49.57 KB | RN_OSS_PROFILING
ReactNativeRenderer-dev.js | +0.4% | +0.5% | 684.96 KB | 687.6 KB | 148.45 KB | 149.15 KB | RN_OSS_DEV
ReactFabric-dev.js | +0.4% | +0.5% | 671.75 KB | 674.39 KB | 144.69 KB | 145.37 KB | RN_FB_DEV
**ReactNativeRenderer-prod.js** | **:small_red_triangle:+0.3%** | **:small_red_triangle:+0.4%** | **270.78 KB** | **271.5 KB** | **48.38 KB** | **48.6 KB** | **RN_OSS_PROD**
**ReactFabric-prod.js** | **:small_red_triangle:+0.3%** | **:small_red_triangle:+0.5%** | **263.6 KB** | **264.32 KB** | **47.09 KB** | **47.3 KB** | **RN_FB_PROD**
ReactNativeRenderer-dev.js | +0.4% | +0.5% | 690.36 KB | 693 KB | 149.31 KB | 150 KB | RN_FB_DEV
**ReactNativeRenderer-prod.js** | **:small_red_triangle:+0.3%** | **:small_red_triangle:+0.4%** | **270.74 KB** | **271.46 KB** | **48.36 KB** | **48.58 KB** | **RN_FB_PROD**
ReactNativeRenderer-profiling.js | +0.3% | +0.4% | 282.7 KB | 283.42 KB | 50.61 KB | 50.82 KB | RN_FB_PROFILING

## react-test-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-test-renderer.development.js | +0.5% | +0.6% | 612.51 KB | 615.28 KB | 129.08 KB | 129.8 KB | UMD_DEV
**react-test-renderer.production.min.js** | **:small_red_triangle:+0.6%** | **:small_red_triangle:+0.4%** | **76.64 KB** | **77.07 KB** | **24.3 KB** | **24.41 KB** | **UMD_PROD**
ReactTestRenderer-dev.js | +0.4% | +0.6% | 593.94 KB | 596.58 KB | 128.51 KB | 129.22 KB | RN_FB_DEV
**ReactTestRenderer-prod.js** | **:small_red_triangle:+0.3%** | **:small_red_triangle:+0.5%** | **231.89 KB** | **232.61 KB** | **42.45 KB** | **42.67 KB** | **RN_FB_PROD**
ReactTestRenderer-profiling.js | +0.3% | +0.5% | 243.76 KB | 244.47 KB | 44.64 KB | 44.85 KB | RN_FB_PROFILING
react-test-renderer.development.js | +0.5% | +0.5% | 583.46 KB | 586.1 KB | 127.54 KB | 128.24 KB | NODE_DEV
**react-test-renderer.production.min.js** | **:small_red_triangle:+0.6%** | **:small_red_triangle:+0.5%** | **76.45 KB** | **76.88 KB** | **23.96 KB** | **24.09 KB** | **NODE_PROD**
ReactTestRenderer-dev.js | +0.4% | +0.5% | 606.2 KB | 608.84 KB | 129.83 KB | 130.53 KB | FB_WWW_DEV

## react-art
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactART-dev.js | +0.4% | +0.5% | 667.95 KB | 670.68 KB | 141.54 KB | 142.22 KB | FB_WWW_DEV
react-art.development.js | +0.4% | +0.5% | 671.77 KB | 674.54 KB | 143.07 KB | 143.75 KB | UMD_DEV
**react-art.production.min.js** | **:small_red_triangle:+0.4%** | **:small_red_triangle:+0.4%** | **108.79 KB** | **109.21 KB** | **33.97 KB** | **34.12 KB** | **UMD_PROD**
react-art.development.js | +0.5% | +0.6% | 573.82 KB | 576.46 KB | 125.17 KB | 125.87 KB | NODE_DEV
**react-art.production.min.js** | **:small_red_triangle:+0.6%** | **:small_red_triangle:+0.6%** | **73.78 KB** | **74.21 KB** | **23.11 KB** | **23.25 KB** | **NODE_PROD**
**ReactART-prod.js** | **:small_red_triangle:+0.3%** | **:small_red_triangle:+0.5%** | **250.89 KB** | **251.68 KB** | **44.6 KB** | **44.84 KB** | **FB_WWW_PROD**

## react-reconciler
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-reconciler-reflection.development.js | 0.0% | -0.0% | 16 KB | 16 KB | 4.87 KB | 4.87 KB | NODE_DEV
**react-reconciler-reflection.production.min.js** | **0.0%** | **-0.1%** | **2.62 KB** | **2.62 KB** | **1.13 KB** | **1.13 KB** | **NODE_PROD**
react-reconciler.development.js | +0.4% | +0.5% | 628.71 KB | 631.36 KB | 134.48 KB | 135.17 KB | NODE_DEV
**react-reconciler.production.min.js** | **:small_red_triangle:+0.5%** | **:small_red_triangle:+0.4%** | **83.34 KB** | **83.76 KB** | **26.01 KB** | **26.12 KB** | **NODE_PROD**
react-reconciler.profiling.min.js | +0.5% | +0.3% | 87.51 KB | 87.93 KB | 27.28 KB | 27.37 KB | NODE_PROFILING

  </details>
  

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against a30d15f8df39b9140283a88cdae58ac02435826a
</p>
",2021-01-27T06:08:52Z
768056956,"
<!--
  0 failure: 
  1 warning:  Could not find bu...
  
  1 markdown notices
  DangerID: danger-id-experimental;
-->


<table>
  <thead>
    <tr>
      <th width=""50""></th>
      <th width=""100%"" data-danger-table=""true"">Warnings</th>
    </tr>
  </thead>
  <tbody><tr>
      <td>:warning:</td>
      <td>Could not find build artifacts for base commit: 9c32622cf04e70dd40463ece25e83b7cc311b0ed</td>
    </tr>
  </tbody>
</table>


## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against a30d15f8df39b9140283a88cdae58ac02435826a
</p>
",2021-01-27T06:09:18Z
768081437,Will do.,2021-01-27T07:05:04Z
768081767,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20672/builds/96311) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 3cc1f205096d844ab9044b6b59c464dfbd03f6c0:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-2i7mv)| Configuration |
",2021-01-27T07:05:42Z
768082908,"
<!--
  0 failure: 
  0 warning: 
  
  3 markdown notices
  DangerID: danger-id-experimental;
-->




  <details>
  <summary>Details of bundled changes.</summary>

  <p>Comparing: aa736a0fa6e22f902bd7a98dcb9b24d8c4310e35...3cc1f205096d844ab9044b6b59c464dfbd03f6c0</p>


  
## react-dom
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-dom-server.browser.development.js | 0.0% | 0.0% | 145.08 KB | 145.08 KB | 36.93 KB | 36.93 KB | UMD_DEV
react-dom-server.node.development.js | 0.0% | 0.0% | 138.89 KB | 138.89 KB | 36.75 KB | 36.75 KB | NODE_DEV
**react-dom-server.browser.production.min.js** | **0.0%** | **0.0%** | **20.42 KB** | **20.42 KB** | **7.57 KB** | **7.57 KB** | **UMD_PROD**
**ReactDOMTesting-prod.js** | **0.0%** | **0.0%** | **374.97 KB** | **374.97 KB** | **71.16 KB** | **71.16 KB** | **FB_WWW_PROD**
react-dom.development.js | 0.0% | 0.0% | 979.67 KB | 979.67 KB | 214.09 KB | 214.09 KB | UMD_DEV
**react-dom.production.min.js** | **0.0%** | **-0.0%** | **124.83 KB** | **124.83 KB** | **40.98 KB** | **40.98 KB** | **UMD_PROD**
react-dom.profiling.min.js | 0.0% | 0.0% | 130.52 KB | 130.52 KB | 42.71 KB | 42.71 KB | UMD_PROFILING
react-dom.development.js | 0.0% | 0.0% | 932.3 KB | 932.3 KB | 211.25 KB | 211.25 KB | NODE_DEV
ReactDOMForked-dev.js | -0.1% | -0.1% | 999.22 KB | 998.18 KB | 221.75 KB | 221.56 KB | FB_WWW_DEV
**react-dom-unstable-fizz.browser.production.min.js** | **0.0%** | **:small_red_triangle:+0.1%** | **1.22 KB** | **1.22 KB** | **711 B** | **712 B** | **UMD_PROD**
**react-dom-unstable-fizz.node.production.min.js** | **0.0%** | **:small_red_triangle:+0.2%** | **1.17 KB** | **1.17 KB** | **666 B** | **667 B** | **NODE_PROD**
**react-dom.production.min.js** | **0.0%** | **-0.0%** | **124.99 KB** | **124.99 KB** | **40.33 KB** | **40.32 KB** | **NODE_PROD**
**ReactDOMForked-prod.js** | **-0.1%** | **-0.1%** | **384.07 KB** | **383.81 KB** | **71.58 KB** | **71.52 KB** | **FB_WWW_PROD**
react-dom.profiling.min.js | 0.0% | -0.0% | 130.86 KB | 130.86 KB | 42.05 KB | 42.04 KB | NODE_PROFILING
ReactDOMForked-profiling.js | -0.1% | -0.1% | 402.46 KB | 402.2 KB | 74.77 KB | 74.71 KB | FB_WWW_PROFILING
ReactDOM-dev.js | 0.0% | 0.0% | 993.95 KB | 993.95 KB | 220.85 KB | 220.85 KB | FB_WWW_DEV
**react-dom-unstable-fizz.browser.production.min.js** | **0.0%** | **:small_red_triangle:+0.2%** | **1.01 KB** | **1.01 KB** | **615 B** | **616 B** | **NODE_PROD**
react-dom-server.browser.development.js | 0.0% | 0.0% | 137.62 KB | 137.62 KB | 36.5 KB | 36.5 KB | NODE_DEV
**react-dom-server.browser.production.min.js** | **0.0%** | **0.0%** | **20.33 KB** | **20.33 KB** | **7.53 KB** | **7.53 KB** | **NODE_PROD**
react-dom-test-utils.development.js | 0.0% | 0.0% | 71.37 KB | 71.37 KB | 19.33 KB | 19.33 KB | UMD_DEV
ReactDOMServer-dev.js | 0.0% | -0.0% | 142.43 KB | 142.43 KB | 36.6 KB | 36.6 KB | FB_WWW_DEV
**react-dom-test-utils.production.min.js** | **0.0%** | **-0.0%** | **13.71 KB** | **13.71 KB** | **5.32 KB** | **5.32 KB** | **UMD_PROD**
ReactDOMTesting-dev.js | 0.0% | 0.0% | 918.15 KB | 918.15 KB | 206.67 KB | 206.67 KB | FB_WWW_DEV

  </details>
  

ReactDOM: size: 0.0%, gzip: 0.0%

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 3cc1f205096d844ab9044b6b59c464dfbd03f6c0
</p>
",2021-01-27T07:07:59Z
768083741,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




Comparing: b5bac18219636112a450d392c02102ec56262c74...261cf29afb9ed3f14038f7af27dc909117e29fb3

## Critical size changes

Includes critical production bundles, as well as any change greater than 2%:


  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| oss-stable/react-dom/cjs/react-dom.production.min.js | **=** | 122.28 kB | 122.20 kB | = | 39.49 kB | 39.44 kB
| oss-experimental/react-dom/cjs/react-dom.production.min.js | **=** | 128.86 kB | 128.78 kB | = | 41.52 kB | 41.47 kB
| facebook-www/ReactDOM-prod.classic.js | **=** | 405.61 kB | 405.18 kB | = | 75.22 kB | 75.10 kB
| facebook-www/ReactDOM-prod.modern.js | **=** | 393.96 kB | 393.53 kB | = | 73.42 kB | 73.30 kB
| facebook-www/ReactDOMForked-prod.classic.js | **=** | 405.62 kB | 405.19 kB | = | 75.22 kB | 75.11 kB

## Significant size changes

Includes any change greater than 0.2%:

(No significant changes)

<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 261cf29afb9ed3f14038f7af27dc909117e29fb3
</p>
",2021-01-27T07:09:40Z
768241769,"Thanks for the report.

> React version:v17.0.1

The codesandbox is using `0.0.0-experimental-4ead6b530`. Could you clarify for which version you want to report the bug?",2021-01-27T12:06:44Z
768250830,"> Thanks for the report.
> 
> > React version:v17.0.1
> 
> The codesandbox is using `0.0.0-experimental-4ead6b530`. Could you clarify for which version you want to report the bug?

I tried it in v17.0.1 and this problem still occurs, because the function `updateEffectImpl` has not changed.
",2021-01-27T12:23:58Z
768252027,"Test illustrating the current behavior on `master`:


```js

it('yields inconsistently when triggering state updates during render', () => {
  let handleClick;
  function Test() {
    const [count, setCount] = useState(0);

    useEffect(() => {
      Scheduler.unstable_yieldValue(`Effect: ${count}`);
    }, [count]);

    if (count > 0) {
      setCount(0);
    }

    handleClick = () => setCount(2);

    return <Text text={`Render: ${count}`} />;
  }

  ReactNoop.act(() => {
    ReactNoop.render(<Test />);
  });

  expect(Scheduler).toHaveYielded(['Render: 0', 'Effect: 0']);

  ReactNoop.act(() => {
    handleClick();
  });

  expect(Scheduler).toHaveYielded(['Render: 0']);

  ReactNoop.act(() => {
    handleClick();
  });

  expect(Scheduler).toHaveYielded(['Render: 0', 'Effect: 0']);

  ReactNoop.act(() => {
    handleClick();
  });

  expect(Scheduler).toHaveYielded(['Render: 0']);
});
```

~I would've expected `expect(Scheduler).toHaveYielded(['Render: 0', 'Effect: 0']);` to pass after every `handleClick` but every second click only yields `['Render: 0']`~ Not sure why I expected this. We only commit with unchanged deps so we should never run the effect. Yielding on every click with `['Render: 0']` is the correct answer.

> I tried it in v17.0.1 and this problem still occurs, because the function updateEffectImpl has not changed.

Could you either update the issue or the codesandbox so that we avoid potential confusion when the bug is reported for one version but the repro uses a different one?",2021-01-27T12:26:07Z
768258948,"Thanks for the report.

Without seeing the actual code I'm suspecting you return early in a function violating the [rules of hooks](https://reactjs.org/docs/hooks-rules.html). Something like

```jsx
export default function App() {
  const [count, increment] = useReducer((n) => n + 1, 0);

  if (count === 0) {
    useEffect(() => {}, [count, count]);
  } else {
    useEffect(() => {}, [count]);
    useEffect(() => {}, []);
  }

  return <button onClick={increment}>click me</button>;
}
```
-- https://codesandbox.io/s/gracious-beaver-9uu20?file=/src/App.js

Is your issue with too many error messages or that there is an error at all?

It would help a lot if you can share the code so that we can better identify what kind of error message would help you solve the problem.",2021-01-27T12:40:13Z
768260630,"> Could you either update the issue or the codesandbox so that we avoid potential confusion when the bug is reported for one version but the repro uses a different one?

yeah! i have updated the version of React in the codesandbox

",2021-01-27T12:43:44Z
768273119,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20676/builds/96707) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 5c24bb5fc195458719b943fdeb885d4bd29b85af:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-nrvxj)| Configuration |
|[ReactHooks](https://codesandbox.io/s/reacthooks-1yfjg)| Issue #20675 |
|[ReactHooks](https://codesandbox.io/s/reacthooks-8fo4q)| Issue #20675 |
|[React](https://codesandbox.io/s/react-u0ym3)| Issue #20675 |
",2021-01-27T13:07:14Z
768273820,"> The way this currently works is that we always assign the same lane to all transitions. It's impossible for one transition to finish without also finishing all the others.

Oh I didnâ€™t realize this was already fixed (albeit in a coarse way). Still, we do currently show all of them as â€œbusyâ€, right â€” and that would need to be fixed too? Just to confirm the behavior I saw in the demo makes sense. ",2021-01-27T13:08:29Z
768274725,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->



No significant bundle size changes to report.

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 5c24bb5fc195458719b943fdeb885d4bd29b85af
</p>
",2021-01-27T13:10:01Z
768275115,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->



No significant bundle size changes to report.

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 5c24bb5fc195458719b943fdeb885d4bd29b85af
</p>
",2021-01-27T13:10:42Z
768302142,"Hi @ttesh! 

Thank you for your pull request and welcome to our community. 

# Action Required

In order to merge **any pull request** (code, docs, etc.), we **require** contributors to sign our **Contributor License Agreement**, and we don't seem to have one on file for you.

# Process

In order for us to review and merge your suggested changes, please sign at <https://code.facebook.com/cla>. **If you are contributing on behalf of someone else (eg your employer)**, the individual CLA may not be sufficient and your employer may need to sign the corporate CLA.

Once the CLA is signed, our tooling will perform checks and validations. Afterwards, the **pull request will be tagged** with `CLA signed`. The tagging process may take up to 1 hour after signing. Please give it that time before contacting us about it.

If you have received this in error or have any questions, please contact us at [cla@fb.com](mailto:cla@fb.com?subject=CLA%20for%20facebook%2Freact%20%2320677). Thanks!",2021-01-27T13:57:06Z
768303716,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20677/builds/96051) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 5dde29042b7d3080a593981ef969d4f6e4d68615:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-d3ivb)| Configuration |
",2021-01-27T13:59:31Z
768318381,"Correct, the multiple pending spinners issue needs a separate fix",2021-01-27T14:22:38Z
768381626,"I think I know how to detect the first case now (by comparing the `stack` and `prevStack`). Still writing test cases to make sure I don't break _other_ things with this fix, but while doing so I found another use case that's currently broken:

```js
function useState(value) {
  React.useReducer(() => 0, 0);
  React.useState(value);
}

function HooksNamingConflict() {
  useState(0);
  React.useMemo(() => 0, []);
  return null;
}
```

Should output the following tree:
```js
[
  {
    isStateEditable: false,
    name: ""State"",
    subHooks: [
      {
        isStateEditable: true,
        name: ""Reducer"",
      },
      {
        isStateEditable: true,
        name: ""State"",
      },
    ],
  },
  {
    isStateEditable: false,
    name: ""Memo"",
  },
];
```

But it outputs the following:
```js
[
  {
    isStateEditable: false,
    name: ""State"",
    subHooks: [
      {
        isStateEditable: true,
        name: ""Reducer"",
      },
      {
        isStateEditable: true,
        name: ""State"",
      },
      {
        isStateEditable: false,
        name: ""Memo"",
      },
    ],
  },
];
```",2021-01-27T15:53:08Z
768389885,"Is the behavior new in some version, or always been like this?",2021-01-27T16:04:50Z
768395924,"Hey guys, I am experiencing this issue and can't figure out how to solve it.

I asked for help on [StackOverflow](https://stackoverflow.com/questions/65922344/how-to-fix-react-invalid-hook-call-error-when-importing-npm-linked-component) but perhaps here is more suited.

This issue is taking a toll on me (and apparently, many others). Thanks for your help! 

# How to fix React â€œInvalid hook callâ€ error when importing npm link(ed) component that depends on styled-components?

First, I added `react`, `react-dom` and `styled-components` to `peerDependencies` of npm link(ed) component (and removed these dependencies from `dependencies` and `devDependencies`).

Second, I used the [official](https://reactjs.org/warnings/invalid-hook-call-warning.html#duplicate-react) workaround to use `npm link` (which, in theory, should solve this issue).

> This problem can also come up when you use `npm link` or an equivalent. In that case, your bundler might â€œseeâ€ two Reacts â€” one in application folder and one in your library folder. Assuming `myapp` and `mylib` are sibling folders, one possible fix is to run `npm link ../myapp/node_modules/react` from `mylib`. This should make the library use the applicationâ€™s React copy.

I use the following scripts to link and unlink peer dependencies (I run them from directory of npm link(ed) component).

```console
$ cat .env
PEER_DEPS_NODE_MODULES_PATH=/Users/sunknudsen/Code/sunknudsen/sunknudsen-website/node_modules

$ cat link-peer-deps.sh
#!/bin/sh

if [ -f .env ]
then
  export $(cat .env | sed 's/#.*//g' | xargs)
fi

npm link

npm link \
  $PEER_DEPS_NODE_MODULES_PATH/react \
  $PEER_DEPS_NODE_MODULES_PATH/react-dom \
  $PEER_DEPS_NODE_MODULES_PATH/styled-components

cd $PEER_DEPS_NODE_MODULES_PATH

npm link @sunknudsen/react-cms

printf ""%s\n"" ""Done""

$ cat unlink-peer-deps.sh
#!/bin/sh

if [ -f .env ]
then
  export $(cat .env | sed 's/#.*//g' | xargs)
fi

npm uninstall

npm uninstall -g react react-dom styled-components

path=""$PEER_DEPS_NODE_MODULES_PATH/@sunknudsen/react-cms""

if [[ -L ""$path"" ]]; then
  rm ""$path""
fi

printf ""%s\n"" ""Done""
```

The project that depends on npm link(ed) component does not appear to have `react`, `react-dom` or `styled-components` conflicts.

```console
$ npm ls react            
sunknudsen-website@0.0.1 /Users/sunknudsen/Code/sunknudsen/sunknudsen-website
â””â”€â”€ react@17.0.1

$ npm ls react-dom
sunknudsen-website@0.0.1 /Users/sunknudsen/Code/sunknudsen/sunknudsen-website
â””â”€â”€ react-dom@17.0.1

$ npm ls styled-components
sunknudsen-website@0.0.1 /Users/sunknudsen/Code/sunknudsen/sunknudsen-website
â””â”€â”€ styled-components@5.2.1
```

What am I missing? This issue is driving me bananas!",2021-01-27T16:14:07Z
768399050,"> Is the behavior new in some version, or always been like this?

It always has beenâ„¢. Tested with [a codesandbox using 16.8](https://codesandbox.io/s/reacthooks-forked-4iby1).",2021-01-27T16:18:31Z
768449649,"Looks like there's a DevTools test failure. I'm guessing it's a legit change, so the snapshot just needs to be updated. Have you looked into that yet?",2021-01-27T17:32:30Z
768492195,"Hey @gaearon, sorry for the shout-out.

Would you happen to have a minute to check the [issue](https://github.com/facebook/react/issues/13991#issuecomment-768395924) above?

The issue is only present when using `npm link`. I tried everything I could find in the React docs and a dozen StackOverflow questions (feeling desperate).

Copying a package to `node_modules` instead of using symlinks (`npm link`) works flawlessly. Before reinventing the wheel (and developing a tool to automate watching and copying package files to a parent project's `node_modules` folder), I would like to make sure I am not missing something and `npm link` is simply broken and should be avoided in the context of React.

I could really use some guidance.

ðŸ¤ž",2021-01-27T18:42:49Z
768520945,Updates look great! Thanks!,2021-01-27T19:26:24Z
768548435,"Stop using links and use monorepos (yarn, Leena, npm,...) Only monorepo are
able to correctly aggregate common dependencies and hoist them

Le mer. 27 janv. 2021 Ã  19:43, Sun Knudsen <notifications@github.com> a
Ã©crit :

> Hey @gaearon <https://github.com/gaearon>, sorry for the shout-out.
>
> Would you happen to have a minute to check the issue
> <https://github.com/facebook/react/issues/13991#issuecomment-768395924>
> above?
>
> The issue is only present when using npm link. I tried everything I could
> find in the React docs and a dozen StackOverflow questions (feeling
> desperate).
>
> Copying a package to node_modules instead of using symlinks (npm link)
> works flawlessly. Before reinventing the wheel (and developing a tool to
> automate watching and copying package files to a parent project's
> node_modules folder), I would like to make sure I am not missing
> something and npm link is simply broken and should be avoided in the
> context of React.
>
> I could really use some guidance.
>
> ðŸ¤ž
>
> â€”
> You are receiving this because you commented.
> Reply to this email directly, view it on GitHub
> <https://github.com/facebook/react/issues/13991#issuecomment-768492195>,
> or unsubscribe
> <https://github.com/notifications/unsubscribe-auth/ABIKMMINFKMLR7KDO6DOT7DS4BNEBANCNFSM4F7UTLDA>
> .
>
",2021-01-27T20:14:10Z
768568318,"Have you used CORS on your Nodejs server?
",2021-01-27T20:50:16Z
768591592,"It's not clear to me what this issue is reporting.

Can you provide someÂ example code and then describe what you expect it to do and what it _actually_ does that makes you think there's a bug?",2021-01-27T21:33:16Z
768592279,"This does not sound like an issue caused by React.

Regardless, support requests filed as GitHub issues often go unanswered. We want you to find the answer you're looking for, so we suggest the following alternatives:

##### Coding Questions

If you have a coding question related to React and React DOM, it might be better suited for Stack Overflow. It's a great place to browse through frequent questions about using React, as well as ask for help with specific questions.

[https://stackoverflow.com/questions/tagged/react](https://stackoverflow.com/questions/tagged/react)

##### Talk to other React developers

There are many online forums which are a great place for discussion about best practices and application architecture as well as the future of React.

[https://reactjs.org/community/support.html](https://reactjs.org/community/support.html#popular-discussion-forums)",2021-01-27T21:34:41Z
768593953,"The ReactJS website [says the following](https://reactjs.org/docs/react-dom.html#browser-support) about browser support:
> # Browser Support
> React supports all popular browsers, including Internet Explorer 9 and above, although some polyfills are required for older browsers such as IE 9/10.
> 
> > **Note**
> > 
> > We donâ€™t support older browsers that donâ€™t support ES5 methods, but you may find that your apps do work in older browsers if polyfills such as [es5-shim and es5-sham](https://github.com/es-shims/es5-shim) are included in the page. Youâ€™re on your own if you choose to take this path.

It's not clear to me if you've added the required polyfills and Fast Refresh is still not working.

If that is the case, I don't think it's likely for us to target browsers as old as IE 9/10 for developer tooling and iteration. The developer tools for these browsers are very old and not commonly used.",2021-01-27T21:38:18Z
768661371,Any update on this?,2021-01-28T00:08:34Z
768862542,"@azz0r What exactly are you expecting to be updated? They started using code actions for this fix, if you want an old behavior, enable `enableDangerousAutofixThisMayCauseInfiniteLoops` option in eslint config.",2021-01-28T07:37:24Z
768890717,"I'll chip in here, as it would be really helpful for us too. In answer to the comments about 'you should either have it for the entire tree or not at all', it's very similar to the classic 'warnings as errors' debate in c++ compilers. Ideally you should fix all warnings in your code, as they are there for a reason. However sometimes there are warnings you fundamentally can't fix or disable.

You could argue that you should just tolerate warnings for those areas of code - they are there for a reason after all. However if lots of warnings are pumped out, they start to become noise, and human developers in the real world begin to miss/ignore genuine warnings.

A real world old school example I had on a team was implementing games that included the Nintendo Wii UI, which was a big set of c++ files provided by Nintendo packed full of warnings. Our whole code base had 0 warnings in except for that library. We couldn't modify it, as it was strictly enforced by the 3rd party, who had no intention of fixing it. In that scenario, the best solution for the team and the project was to disable warnings for the Nintendo code, so our team code focus on ensuring the rest of our code had 0 warnings.

This one is similar - in our case it's the bootstrap modal dialog. If every time it pops up you see a flood of errors, you stand a good chance of missing other errors in your own code. Counter intuitively, disabling those errors until we have a fixed bootstrap dialog will help us reduce bugs in our project, as genuine errors will be more obvious.

I understand that's not a solution for everybody, and some may prefer to be more strict. But for us and many other teams, we feel a simple <React.DisableStrictMode> to use in the worst case scenarios would improve the team's ability to catch bugs and reduce errors. Ultimately it should be a decision for the team, who understand their own use case the best.



",2021-01-28T08:36:04Z
768899811,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20681/builds/96379) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 536e60f3cf154c42336d3f7fcc9ca7078c825987:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-lszqe)| Configuration |
",2021-01-28T08:52:41Z
768900970,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->



No significant bundle size changes to report.

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 536e60f3cf154c42336d3f7fcc9ca7078c825987
</p>
",2021-01-28T08:54:30Z
768901508,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




Comparing: a014c915c77f908ba3be3de9e6a06d05c71d5b62...bd50e04e660196c68a91155ea6eb5588fdd0adbd

## Critical size changes

Includes critical production bundles, as well as any change greater than 2%:


  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| oss-stable/react-dom/cjs/react-dom.production.min.js | **=** | 123.12 kB | 123.10 kB | = | 39.57 kB | 39.57 kB
| oss-experimental/react-dom/cjs/react-dom.production.min.js | **=** | 129.70 kB | 129.68 kB | = | 41.63 kB | 41.62 kB
| facebook-www/ReactDOM-prod.classic.js | **+0.11%** | 406.93 kB | 407.40 kB | +0.12% | 75.27 kB | 75.36 kB
| facebook-www/ReactDOM-prod.modern.js | **+0.12%** | 395.28 kB | 395.75 kB | +0.11% | 73.43 kB | 73.51 kB
| facebook-www/ReactDOMForked-prod.classic.js | **+0.11%** | 406.94 kB | 407.41 kB | +0.12% | 75.27 kB | 75.35 kB

## Significant size changes

Includes any change greater than 0.2%:


<details>
<summary>Expand to show</summary>

  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| facebook-www/ReactART-dev.modern.js | **+0.23%** | 682.77 kB | 684.34 kB | +0.21% | 145.05 kB | 145.35 kB
| facebook-www/ReactART-dev.classic.js | **+0.23%** | 693.03 kB | 694.60 kB | +0.22% | 147.13 kB | 147.45 kB
</details>


<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against bd50e04e660196c68a91155ea6eb5588fdd0adbd
</p>
",2021-01-28T08:55:25Z
768948035,"I found this behavior is confusing when adopting Suspense mode. Here is my reproduction.

```js
await import('https://cdn.jsdelivr.net/npm/react@0.0.0-experimental-3310209d0/umd/react.production.min.js')
await import('https://cdn.jsdelivr.net/npm/react-dom@0.0.0-experimental-3310209d0/umd/react-dom.production.min.js')
const $ = React.createElement
function App() {
    const [input, setInput] = React.useState('')
    const [query, setQuery] = React.useState('')
    const translationResult = getTranslate(query)
    const [startTransition, isPending] = React.unstable_useTransition()
    return $('main', {},
        $('input', { onChange: e => { const val = e.currentTarget.value; setInput(val); startTransition(() => setQuery(val)) } }),
        $('br'),
        $('span', isPending ? { style: { color: 'gray' } } : {}, translationResult)
    )
}
const cache = new Map([['', '']])
function getTranslate(w) { if (cache.has(w)) return cache.get(w); else { throw translate(w) } }
async function translate(w) {if (w === 'error') throw new Error()
    await new Promise(r => setTimeout(r, 100))
    cache.set(w, [...w].reverse().join(''))
}
class ErrorBoundary extends React.Component {
  constructor(props) {
    super(props);
    this.state = { hasError: false };
  }
  static getDerivedStateFromError(error) {console.log(error)
    // Update state so the next render will show the fallback UI.
    return { hasError: true };
  }
  componentDidCatch(error, errorInfo) {}
  render() {
    if (this.state.hasError) {
      // You can render any custom fallback UI
      return $('h1', {}, 'Error!')
    }
    return this.props.children; 
  }
}
ReactDOM.unstable_createRoot(document.body.appendChild(document.createElement('main'))).render($(React.Suspense, { fallback: $('span', {}, 'loading') }, $(ErrorBoundary, {}, $(App))))
```",2021-01-28T10:14:32Z
768952070,"> Worth noting that the example explicitly says not to copy-paste this code

Why? That code seems useful",2021-01-28T10:21:41Z
769150265,"I don't think React would do anything to reload your page given the example code above. But can you share a full repro (code that we can run) that shows this happening?

Here's a Code Sandbox that's similar if you'd like a starting point:
https://codesandbox.io/s/zen-dew-sbs49?file=/src/App.js",2021-01-28T15:09:57Z
769151686,"Suspense has a very specific and strict contract. It's not currently documented, which is why we're asking _not_ to build integrations with it except as an experiment. The examples above do not satisfy that contract.

Here's this contract in a nutshell. A Suspense-compatible cache should follow these rules:

- It returns the value (or throws an error) synchronously, if itâ€™s fetched for the given key.
- It throws a Promise if a value is not fetched for the given key yet, and starts the fetch.
  - If data for the requested key is already being fetched, the same Promise must be thrown. (So the Promise itself is stored in the cache until it settles.)
  - When the Promise resolves, **the cache is updated with either the result (so that it can be read successfully next time), or an error (so that it is rethrown next time).**
    - Note that the Promiseâ€™s value is ignored by React. What matters is that we put the result into the cache so that React can read it during the retry.
  - The result is then cached. This cache is â€œappend-onlyâ€: once we put the fetched data into the cache, we never mutate or remove it. (There is a separate mechanism for invalidation in React itself, which amounts to replacing the cache with an empty one.)

The bolded part explains that you're supposed to cache the errors, too. We'll document this contract when Suspense for data fetching is considered stable.",2021-01-28T15:12:01Z
769159660,"(It's still possible we'll offer a higher-level API that enforces these constraints, but I wanted to document the current state.)",2021-01-28T15:22:23Z
769165101,"We agree with the concerns that a flood of errors/warnings masks any single type of error (even one that may be more pressing) and teaches people to just ignore errors/warnings.

But let's take a step back and consider why you're using `<StrictMode>`. In case it's not clear, no one needs to use it. It exists for one very specific reason: to provide a signal about whether the part of an application it wraps around contains code that is _likely to cause problems in concurrent mode_ (aka our new `createRoot` API). If you are not planning to use `createRoot` in the near future then `<StrictMode>` doesn't add a lot of value to your application and you can just remove it for now.

Our team talks about things like this often so there's always a chance that we may reevaluate this decision (either the planned semantics of `createRoot` or the option to opt out of warnings for part of the subtree). We'll keep everyone posted if/when anything changes.",2021-01-28T15:30:06Z
769170124,"Well, if your honest answer is that we should simply turn it off, then I guess we can follow it. I'll be honest though, it sounds suspiciously like the line ""why don't we just disable warnings as errors"", which I've heard about 1000 times over my years as a TD (and at one point started a swear box for programmers that even suggest it!). ",2021-01-28T15:37:17Z
769173231,"Yes, my advice is to turn it off for now if:
(1) it's causing a lot of warning/error messages that are interfering with your daily development (particularly if a lot of them are not actionable because they are in external libraries) and especially if
(2) you aren't planning to start using the new `createRoot` API in the near future.

Perhaps we'll come up with improvements to the suggested upgrade path before we release `createRoot` as stable. We're always thinking about this.",2021-01-28T15:41:45Z
769185307,"thanks, @gaearon this contract explanation really helps me to solve the problem",2021-01-28T15:59:02Z
769259476,"Will do - thx. If you have a chance, I'd appreciate it if you manage to notify this thread if things change.",2021-01-28T17:46:26Z
769301664,"Hey guys, I got to work on ~~[npm-hardlink](https://www.npmjs.com/package/npm-hardlink)~~ [npm-sync](https://www.npmjs.com/package/npm-sync) (in **beta**, use at your own risks), an alternative to `npm link` that uses hard links fixing the issues discussed here.

I am  missing one piece of the puzzle. **How can we enable live reloads when hard linked files in `node_modules/hard-linked-package-name-goes-here` change?**.

The packages are hard linked in `node_modules` folder... I guess that folder is excluded by default (wasn't able to figure out where).

Curious, how does `react-scripts` listen for changes of packages that are npm link(ed)?

Another way of helping my project is to upvote https://stackoverflow.com/q/65940110/4579271, https://stackoverflow.com/q/65922344/4579271 and https://stackoverflow.com/q/65944182/4579271 on StackOverflow.

## Status update 1: it appears changes in `node_modules` are watched by default, but [inconsistently](https://github.com/paulmillr/chokidar/issues/1071) on macOS (perhaps on other operating systems too). According to some experiments, hard linked packages in `node_modules` appear to never trigger watch events.

##  Status update 2: given hard links are not watched by chokidar (might actually be related to how hard links work vs a bug), I deprecated [npm-hardlink](https://www.npmjs.com/package/npm-hardlink) in favor of [npm-sync](https://www.npmjs.com/package/npm-sync).
",2021-01-28T18:57:24Z
769363989,"Looks like this PR regressed DevTools. Seeing lots of errors when building DevTools with CI build from this revision that don't occur on the one before it:
```
react-dom.development.js?0e6b:12358 Uncaught (in promise) TypeError: Cannot read property 'lanes' of undefined
    at entangleTransitions (react-dom.development.js?0e6b:12358)
    at refreshCache (react-dom.development.js?0e6b:16739)
    at eval (inspectedElementCache.js?c15b:169)
    at startTransition (react.development.js?e562:2351)
    at eval (inspectedElementCache.js?c15b:163)
```",2021-01-28T20:27:04Z
769372153,Turns out this was caused by a React regression in deeeaf1d222ba29bcce6eda0a1c4423ce10e727a which is the version my local DevTools was built with. Fixing separately.,2021-01-28T20:37:40Z
769394346,Fixed in #20687,2021-01-28T21:06:44Z
769395972,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20687/builds/96622) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 34465b1e609e76284c5892c62c56331ab3bed655:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-8fw2p)| Configuration |
",2021-01-28T21:08:57Z
769397821,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20688/builds/96625) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 29506ef390b532a6c83bd6dd8e7450eb49c81f87:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-k5o4k)| Configuration |
",2021-01-28T21:11:26Z
769397872,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->



No significant bundle size changes to report.

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 34465b1e609e76284c5892c62c56331ab3bed655
</p>
",2021-01-28T21:11:31Z
769398365,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->



No significant bundle size changes to report.

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 34465b1e609e76284c5892c62c56331ab3bed655
</p>
",2021-01-28T21:12:10Z
769400317,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->



No significant bundle size changes to report.

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 29506ef390b532a6c83bd6dd8e7450eb49c81f87
</p>
",2021-01-28T21:14:43Z
769401162,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->



No significant bundle size changes to report.

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 29506ef390b532a6c83bd6dd8e7450eb49c81f87
</p>
",2021-01-28T21:15:37Z
769458997,"Rather strange that this case is handled different on `react-native` from `react`.

In RN if you pass 16, it is interpreted as 16 pixels...in React it's interpreted as ???

This makes sharing a theme between the two more difficult.  Sure we can use `16px` for the field, but this seems quite arbitrary.",2021-01-28T23:08:57Z
769575673,"Any updates on this? I'm using mui's _TextField_ so there is no way for me to remove the value attribute. Can anybody look at this please? Thanks 

> ## Workaround
> If you need the native autofill from Firefox you are currently not allowed to use the attribue `value` (`value={name}`)!
> 
> Instead you have to use `useRef={inputEl}` and get the value from there, with `inputEl.current.value`
> 
> Here is an updated code sample: https://codesandbox.io/s/material-demo-6vhdk
> 
> ```js-jsx
> export default function ComposedTextField() {
>   const inputEl = useRef(null);
> 
>   function handleChange3(event) {
>     setName3(event.target.value);
>   }
> 
>   function handleSubmit(event) {
>     console.log(inputEl.current.value);
>   }
> 
> <input
>    id=""component-simple3""
>    ref={inputEl}
>     autoComplete=""on""
>     onChange={handleChange3}            
> />
> ```

",2021-01-29T05:00:38Z
769631424,"I found the culprit of this behavior. I'm developing in vscode and in there I'm using ""Live Server"" from Ritwick Dey to host builds locally without much of a hassle.

This Live Server triggers the page reload. That's why I don't see any errors or something.

React has nothing to do with it.",2021-01-29T07:27:02Z
769663961,"Using `function _ ()` instead of `() =>` seems to be fine with eslint.
```js
const RenderFunction = ({ children }) => children();

const MyComponent = ({ shouldRenderHook }) =>
  shouldRenderHook ? (
    <RenderFunction>
      {function _ () {
        const [state, setState] = React.useState(0);
        return (
          <div>
            State: {state}
            <button onClick={() => setState(currentState => currentState + 1)}>
              Increment
            </button>
          </div>
        );
      }}
    </RenderFunction>
  ) : (
    <div>Rendering the hook shortlyâ€¦</div>
  );
```",2021-01-29T08:41:47Z
769711482,"@bvaughn Iâ€™ve just spent a month figuring out why ag-grid was leaking memory. 

Background: 

I found some code was passing api references to useCallback via deps. The apis are mutable, circular and attached as a property to the div element (mounted in their component). That same component calls â€œdestroyâ€ on that api when it is unmounted, but i donâ€™t see any direct code removing that api reference from the DOM element. I originally called a setter on a context provider to set references to their api (for sharing across components), along with commonly used utility methods for stuff like resetting scroll, etc. 

Assumptions (Leak Culprits):

- stale closures from useCallback with references to the apis.
- mutable references to the apis on a top level component via context provider. 
- no way to destroy/cleanup references at context level, besides useUnmount; their destroy/cleanup getting executed via componentWillUnmount; they do not provide an onDestoy callback.

Solution?

- moved all calculated and context state to useReducer
- Used pure callbacks for dispatching actions to the reducer. 
- moved all api references used to calculate state to local useEventCallbacks (ref callback pattern)... calling said setters via actions.  
- used a hook in sibling components to access the api via useRef/DOM element prop; making sure to set reference to null on unmount. 

Questions:

- am I doing anything unnecessarily?
- is my assumption about useEventCallback for those local callbacks correct?
-  Would useCallback suffice? Iâ€™m pretty confident the way they are using callback props in their react component is mutating those references as well (plus circular). 
- is using a dom property reference in a hook safe? Would you need to set that reference to null when unmounting?
- When handling local state containing their apis, should I useRef because of the mutability? 
- Does useState/useReducer both have the same process/pattern as useRef in terms of destroying references when unmounting? 
- is manual cleanup necessary?",2021-01-29T10:10:37Z
769724238,"I've been seeing these errors on regex101.com quite a lot, around 20,000 times in the past 14 days. After some googling I found this, and it seems like this might be the root cause. What are the mitigations? Is there any viable workaround?",2021-01-29T10:36:14Z
769803903,"> @Evernight What do you mean, it ignores the mouse events? This is a strange case and you can write `onChange={function() {}}` to suppress the warning.

6 years late but essentially this!

```jsx
<input
  type=""url""
  value={value}
  onChange={suppressMissingOnChangeHandlerWarning}
  onBlur={e => onChange(e.currentTarget.value)}
/>
```

Works great!

---

In case it is unclear, `suppressMissingOnChangeHandlerWarning` is just a function declared elsewhere so the prop is stable and sort of documented.

```js
function suppressMissingOnChangeHandlerWarning() {}
```",2021-01-29T13:26:35Z
769815510,Thanks for sharing your findings!,2021-01-29T13:49:05Z
769816620,Ping :),2021-01-29T13:51:07Z
769854700,Okay @gaearon. Updated the error message wording and rebased.,2021-01-29T14:58:06Z
769857675,Sorry @mainfraame. I don't think I have enough context to answer these questions without spending a good bit of time digging into ag-grid to figure out what you're talking about (and I don't have time to do that at the moment).,2021-01-29T15:03:05Z
769870768,"@SreeniIO Thanks for the repro case and discussion. I've landed a solution in #20665 and I'd suggest reconsidering the workaround you mentioned. My reasoning is this (copied from the PR description):

> Mutating a mutable sourceÂ (or any external variable) during render **is not expected to be supported**. However this error message misattributes the mutation as a React bug.
>
> ### Should this use case be supported?
> This seems very similar [lazily initializing a ref](https://reactjs.org/docs/hooks-faq.html#how-to-create-expensive-objects-lazily) so it might be tempting to think it's okay. Mutable sources are external though, so modifying them during render is a side effect [which makes it unsafe and unsupported](https://reactjs.org/docs/strict-mode.html#detecting-unexpected-side-effects). So while we could ""support"" this case in a very limited way, we shouldn't.",2021-01-29T15:24:57Z
769874472,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20692/builds/101467) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit ec4b81d5d227978f8ddfb24b7bc5f6e414a25e36:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-smpum)| Configuration |
",2021-01-29T15:31:18Z
769875583,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->



No significant bundle size changes to report.

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against ec4b81d5d227978f8ddfb24b7bc5f6e414a25e36
</p>
",2021-01-29T15:33:16Z
769875658,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->



No significant bundle size changes to report.

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against ec4b81d5d227978f8ddfb24b7bc5f6e414a25e36
</p>
",2021-01-29T15:33:24Z
769885930,Thanks @eps1lon !,2021-01-29T15:51:22Z
769905057,"I'm sorry you experienced this bug! ðŸ™‡ 

Looks like this problem was already reported though (#20431) so I'm going to mark this issue as a duplicate and close it. If you have additional context that might help us repro this problem, please leave a comment on the other issue!

**Extra repro cases would be very helpful for this issue in particular.*

Thank you~",2021-01-29T16:23:42Z
769925588,"@masayuki-nakano Have there been any updates or updates regarding this feature shipping? We're actively looking to adopt `beforeinput` internally at Facebook to power a new text editor that is under development and we're also keen to see how React can adopt this too.

We noticed that `getTargetRanges` works as expected in FF Nightly in many of our test cases. In fact, we actually found some bugs in Chromium (see https://bugs.chromium.org/p/chromium/issues/detail?id=1043564). We'll be reaching out to get this bug fixed, but it's reassuring to see that FF gets this right (great work!).

We're looking to ship this new feature by the end of this half, so any estimations would be great.",2021-01-29T16:59:21Z
769949768,@careyke Thanks for the repro! This helped a lot identifying the issue.,2021-01-29T17:44:25Z
769998263,"We would like to import a React component as a standalone module in a page that is served by react-rails and as long as we don't use hooks there is no issue (no error in the console), but as soon as we add a hook (e.g. useState, useEffect) we get the 
```
Hooks can only be called inside the body of a function component.
```
error. In the bundle there is no React since we're using it as an external supplied to us by the rails server.
Did someone have a similar setup? Did you find a way to work around this?

Thanks!",2021-01-29T19:18:51Z
770028705,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20694/builds/96926) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 97ca787b516935f57a724cebdabf9acad19b668b:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-niuqm)| Configuration |
",2021-01-29T20:20:21Z
770031705,"
<!--
  0 failure: 
  0 warning: 
  
  3 markdown notices
  DangerID: danger-id-experimental;
-->




  <details>
  <summary>Details of bundled changes.</summary>

  <p>Comparing: bb1b7951d182d36345c83154f9d9bab218011b46...97ca787b516935f57a724cebdabf9acad19b668b</p>


  
## react-art
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactART-dev.js | +0.3% | +0.5% | 662.49 KB | 664.39 KB | 140.64 KB | 141.31 KB | FB_WWW_DEV
react-art.development.js | 0.0% | 0.0% | 718.22 KB | 718.22 KB | 152.51 KB | 152.51 KB | UMD_DEV
**react-art.production.min.js** | **0.0%** | **0.0%** | **114.02 KB** | **114.02 KB** | **35.59 KB** | **35.59 KB** | **UMD_PROD**
react-art.development.js | 0.0% | 0.0% | 618.07 KB | 618.07 KB | 134.47 KB | 134.47 KB | NODE_DEV
**react-art.production.min.js** | **0.0%** | **0.0%** | **78.96 KB** | **78.96 KB** | **24.72 KB** | **24.72 KB** | **NODE_PROD**
**ReactART-prod.js** | **0.0%** | **0.0%** | **244.73 KB** | **244.73 KB** | **43.64 KB** | **43.64 KB** | **FB_WWW_PROD**

## react-dom
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-dom-server.browser.development.js | 0.0% | 0.0% | 145.08 KB | 145.08 KB | 36.93 KB | 36.93 KB | UMD_DEV
**react-dom-server.browser.production.min.js** | **0.0%** | **0.0%** | **20.42 KB** | **20.42 KB** | **7.57 KB** | **7.58 KB** | **UMD_PROD**
**react-dom-server.node.production.min.js** | **0.0%** | **0.0%** | **20.75 KB** | **20.75 KB** | **7.68 KB** | **7.68 KB** | **NODE_PROD**
react-dom.development.js | 0.0% | 0.0% | 981.09 KB | 981.09 KB | 214.39 KB | 214.39 KB | UMD_DEV
ReactTestUtils-dev.js | +0.2% | +0.2% | 61.5 KB | 61.63 KB | 16.94 KB | 16.96 KB | FB_WWW_DEV
**react-dom.production.min.js** | **0.0%** | **0.0%** | **124.84 KB** | **124.84 KB** | **40.97 KB** | **40.97 KB** | **UMD_PROD**
react-dom.profiling.min.js | 0.0% | 0.0% | 130.54 KB | 130.54 KB | 42.7 KB | 42.7 KB | UMD_PROFILING
ReactDOMForked-dev.js | +0.2% | +0.3% | 1001.39 KB | 1003.29 KB | 222.32 KB | 222.99 KB | FB_WWW_DEV
**react-dom-unstable-fizz.node.production.min.js** | **0.0%** | **:small_red_triangle:+0.2%** | **1.17 KB** | **1.17 KB** | **666 B** | **667 B** | **NODE_PROD**
**react-dom.production.min.js** | **0.0%** | **0.0%** | **125 KB** | **125 KB** | **40.31 KB** | **40.32 KB** | **NODE_PROD**
react-dom.profiling.min.js | 0.0% | 0.0% | 130.87 KB | 130.87 KB | 42.04 KB | 42.04 KB | NODE_PROFILING
ReactDOM-dev.js | +0.2% | +0.3% | 996.13 KB | 998.03 KB | 221.39 KB | 222.05 KB | FB_WWW_DEV
**react-dom-unstable-fizz.browser.production.min.js** | **0.0%** | **:small_red_triangle:+0.3%** | **1.01 KB** | **1.01 KB** | **616 B** | **618 B** | **NODE_PROD**
**ReactDOM-prod.js** | **0.0%** | **0.0%** | **381.87 KB** | **381.87 KB** | **71.14 KB** | **71.15 KB** | **FB_WWW_PROD**
react-dom-server.browser.development.js | 0.0% | 0.0% | 137.62 KB | 137.62 KB | 36.5 KB | 36.5 KB | NODE_DEV
**react-dom-server.browser.production.min.js** | **0.0%** | **0.0%** | **20.33 KB** | **20.33 KB** | **7.53 KB** | **7.53 KB** | **NODE_PROD**
react-dom-test-utils.development.js | 0.0% | 0.0% | 71.37 KB | 71.37 KB | 19.33 KB | 19.33 KB | UMD_DEV
ReactDOMServer-dev.js | +0.1% | +0.1% | 142.52 KB | 142.64 KB | 36.63 KB | 36.66 KB | FB_WWW_DEV
**react-dom-test-utils.production.min.js** | **0.0%** | **0.0%** | **13.71 KB** | **13.71 KB** | **5.32 KB** | **5.32 KB** | **UMD_PROD**
react-dom-test-utils.development.js | 0.0% | 0.0% | 66.18 KB | 66.18 KB | 18.81 KB | 18.81 KB | NODE_DEV
ReactDOMTesting-dev.js | 0.0% | 0.0% | 919.6 KB | 919.6 KB | 206.98 KB | 206.98 KB | FB_WWW_DEV

  </details>
  

ReactDOM: size: 0.0%, gzip: 0.0%

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 97ca787b516935f57a724cebdabf9acad19b668b
</p>
",2021-01-29T20:26:54Z
770033232,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->




  <details>
  <summary>Details of bundled changes.</summary>

  <p>Comparing: bb1b7951d182d36345c83154f9d9bab218011b46...97ca787b516935f57a724cebdabf9acad19b668b</p>


  
## react-art
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactART-dev.js | +0.3% | +0.5% | 672.5 KB | 674.4 KB | 142.67 KB | 143.34 KB | FB_WWW_DEV
react-art.development.js | 0.0% | 0.0% | 675.96 KB | 675.96 KB | 144.07 KB | 144.07 KB | UMD_DEV
**react-art.production.min.js** | **0.0%** | **0.0%** | **109.23 KB** | **109.23 KB** | **34.13 KB** | **34.14 KB** | **UMD_PROD**
**react-art.production.min.js** | **0.0%** | **0.0%** | **74.23 KB** | **74.23 KB** | **23.25 KB** | **23.25 KB** | **NODE_PROD**
**ReactART-prod.js** | **0.0%** | **0.0%** | **251.94 KB** | **251.94 KB** | **44.89 KB** | **44.89 KB** | **FB_WWW_PROD**

## react-dom
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-dom-server.browser.development.js | 0.0% | -0.0% | 143.17 KB | 143.17 KB | 36.67 KB | 36.66 KB | UMD_DEV
**react-dom-test-utils.production.min.js** | **0.0%** | **0.0%** | **13.68 KB** | **13.68 KB** | **5.25 KB** | **5.26 KB** | **NODE_PROD**
ReactTestUtils-dev.js | +0.2% | +0.2% | 61.5 KB | 61.63 KB | 16.93 KB | 16.96 KB | FB_WWW_DEV
**react-dom.production.min.js** | **0.0%** | **0.0%** | **118.48 KB** | **118.48 KB** | **39 KB** | **39 KB** | **UMD_PROD**
react-dom.profiling.min.js | 0.0% | 0.0% | 122.58 KB | 122.58 KB | 40.25 KB | 40.26 KB | UMD_PROFILING
react-dom.development.js | 0.0% | -0.0% | 883.61 KB | 883.61 KB | 201.71 KB | 201.7 KB | NODE_DEV
ReactDOMForked-dev.js | +0.2% | +0.3% | 1 MB | 1 MB | 227.15 KB | 227.81 KB | FB_WWW_DEV
**react-dom.production.min.js** | **0.0%** | **0.0%** | **118.56 KB** | **118.56 KB** | **38.31 KB** | **38.31 KB** | **NODE_PROD**
react-dom.profiling.min.js | 0.0% | 0.0% | 122.82 KB | 122.82 KB | 39.57 KB | 39.58 KB | NODE_PROFILING
ReactDOMForked-profiling.js | 0.0% | 0.0% | 414.61 KB | 414.61 KB | 76.68 KB | 76.68 KB | FB_WWW_PROFILING
ReactDOM-dev.js | +0.2% | +0.3% | 1021.71 KB | 1023.61 KB | 226.18 KB | 226.84 KB | FB_WWW_DEV
react-dom-test-utils.development.js | 0.0% | 0.0% | 71.36 KB | 71.36 KB | 19.32 KB | 19.32 KB | UMD_DEV
ReactDOMServer-dev.js | +0.1% | +0.1% | 146.55 KB | 146.67 KB | 37.64 KB | 37.67 KB | FB_WWW_DEV
**react-dom-test-utils.production.min.js** | **0.0%** | **0.0%** | **13.7 KB** | **13.7 KB** | **5.31 KB** | **5.31 KB** | **UMD_PROD**
react-dom-test-utils.development.js | 0.0% | 0.0% | 66.17 KB | 66.17 KB | 18.8 KB | 18.81 KB | NODE_DEV
ReactDOMTesting-dev.js | 0.0% | 0.0% | 947.94 KB | 947.94 KB | 212.67 KB | 212.67 KB | FB_WWW_DEV

  </details>
  

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 97ca787b516935f57a724cebdabf9acad19b668b
</p>
",2021-01-29T20:30:11Z
770036281,Oops I need to tweak this to use two flags: one to enable it for FB only and one to allow developers to opt-out. The reason here is that I can't set a GK to 100% of employees. Will update momentarily.,2021-01-29T20:36:51Z
770054833,"I solved this issue on a Next.js project using these two functions during the server side rendering stage.
[Live codesandbox example](https://codesandbox.io/s/nextjs-ssr-image-404-check-7yx5j).

```javascript
const checkImageUrl = async (imageUrl: string): Promise<boolean> => {
  try {
    const response = await axios.get(imageUrl)
    if (response.status === 200) return true
    else return false
  } 
  catch (error) {
    return false
  }
}

export const checkAndFormatImageUrlWithFallback = async (imageUrl: string, fallbackUrl: string): Promise<string> => {
  
  const isValidImageUrl = await checkImageUrl(imageUrl)

  return isValidImageUrl ? imageUrl : fallbackUrl
}
```",2021-01-29T21:17:24Z
770065365,CI test `ci/circleci: yarn_test--r=www-classic --env=development --variant`  looks like it failed but opening it in CI shows all tests passed. They just took a little too long to finish.,2021-01-29T21:40:54Z
770143594,You are welcome! i am very happy to do this,2021-01-30T02:49:12Z
770156369,"Hi @leee1846! 

Thank you for your pull request and welcome to our community. 

# Action Required

In order to merge **any pull request** (code, docs, etc.), we **require** contributors to sign our **Contributor License Agreement**, and we don't seem to have one on file for you.

# Process

In order for us to review and merge your suggested changes, please sign at <https://code.facebook.com/cla>. **If you are contributing on behalf of someone else (eg your employer)**, the individual CLA may not be sufficient and your employer may need to sign the corporate CLA.

Once the CLA is signed, our tooling will perform checks and validations. Afterwards, the **pull request will be tagged** with `CLA signed`. The tagging process may take up to 1 hour after signing. Please give it that time before contacting us about it.

If you have received this in error or have any questions, please contact us at [cla@fb.com](mailto:cla@fb.com?subject=CLA%20for%20facebook%2Freact%20%2320695). Thanks!",2021-01-30T04:40:59Z
770172956,"This is a minor detail but some of this is alleviated by simply doing.

```js
function useMyHook(initialValue) {
  return React.useState(initialValue)
}

function MyComponent() {
  const [value, setValue] = useMyHook(0)

  return ""...""
}
```

The developer tools will display this as a `MyHook` with a `State` hook nested under it. It allows you to create a heading by simply grouping hooks in function names.

![image](https://user-images.githubusercontent.com/63085/106350651-f9e52700-62d6-11eb-88f5-c4dd2317af2c.png)

If you have a really big and complex component this might not be possible to do but you probably want to break down that big complex component into something smaller anyway...",2021-01-30T07:42:15Z
770187614,"Since this was closed, I opened a new one: https://github.com/facebook/react/issues/18986
Someone has linked this issue to it: https://github.com/facebook/react/issues/15739
There you find another workaround: https://jsfiddle.net/bootleq/hos4r6qd/ 

Maybe this works for you.

Sadly, Firefox won't change its behaviour and on the React side, no one reacting ;(",2021-01-30T10:06:40Z
770188990,"@gaearon: Are there any plans to fix this? It almost 2 years since the report and at least in my eyes this is a huge UX bug. 

This bug affects other frameworks (antd, material UI):
* mui-org/material-ui#16943
* ant-design/ant-design#21232

I'm also not getting it, why this one should be a breaking change.

If **autoComplete is ""on""** react could to this **setAttribute('value', '');** under the hood and it would be fine.
Or are there any side effects if you are doing this?",2021-01-30T10:18:41Z
770246643,"Maybe I don't understand how ""highlight updates when components render"" should work. It always highlights all components, doesn't matter they did render or not. I would think it should highlight only the ones that did render",2021-01-30T17:20:09Z
770269720,"If I understand correctly, the mechanism you're using here to detect a render-phase update depends on StrictMode's double rendering. The mutation is detected during the second render, and then you warn.

In production, it will tear silently without warning _or_ without throwing the error, because there's no double render that observes the mutation. It will cause a bug because of the tearing, but not immediately.

I think this is probably fine, since the same is true of other types of render-phase side-effects: the second render might throw even if the first one does not.

I'm only pointing it out because I wonder if we should start wrapping *all* of our double render calls in `try/catch`, suppress the error so it matches production, and fire a warning.

So essentially: we could generalize your fix here to all render-phase mutations that cause errors.",2021-01-30T19:41:14Z
770285705,"> If I understand correctly, the mechanism you're using here to detect a render-phase update depends on StrictMode's double rendering. The mutation is detected during the second render, and then you warn.

After I posted this I started to second-guess myself because console messages are disabled during the double render, so how would your warning work...

... but then I remembered our *other* double invocation: the one that wraps the begin phase in `invokeGuardedCallback`.

So you actually do warn during the Strict Mode double render, but that one gets suppressed. The warning that doesn't get suppressed is the `invokeGuardedCallback` one.",2021-01-30T21:48:55Z
770288885,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20698/builds/97101) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit c16fe14797c727c6c194bffa6103ed01163de919:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-tcein)| Configuration |
",2021-01-30T22:15:39Z
770289196,"
<!--
  0 failure: 
  0 warning: 
  
  3 markdown notices
  DangerID: danger-id-stable;
-->




  <details>
  <summary>Details of bundled changes.</summary>

  <p>Comparing: bb1b7951d182d36345c83154f9d9bab218011b46...c16fe14797c727c6c194bffa6103ed01163de919</p>


  
## react-test-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-test-renderer.development.js | +0.2% | +0.3% | 616.7 KB | 617.8 KB | 130.13 KB | 130.53 KB | UMD_DEV
**react-test-renderer.production.min.js** | **0.0%** | **0.0%** | **77.08 KB** | **77.08 KB** | **24.43 KB** | **24.43 KB** | **UMD_PROD**
ReactTestRenderer-dev.js | +0.2% | +0.3% | 598.03 KB | 599.08 KB | 129.53 KB | 129.93 KB | RN_FB_DEV
react-test-renderer.development.js | +0.2% | +0.3% | 587.46 KB | 588.53 KB | 128.54 KB | 128.95 KB | NODE_DEV
**react-test-renderer.production.min.js** | **0.0%** | **-0.0%** | **76.9 KB** | **76.9 KB** | **24.09 KB** | **24.09 KB** | **NODE_PROD**
ReactTestRenderer-dev.js | +0.2% | +0.3% | 610.29 KB | 611.37 KB | 130.86 KB | 131.27 KB | FB_WWW_DEV

## react-art
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactART-dev.js | +0.2% | +0.3% | 672.5 KB | 673.58 KB | 142.67 KB | 143.06 KB | FB_WWW_DEV
react-art.development.js | +0.2% | +0.3% | 675.96 KB | 677.06 KB | 144.07 KB | 144.46 KB | UMD_DEV
react-art.development.js | +0.2% | +0.3% | 577.82 KB | 578.89 KB | 126.16 KB | 126.56 KB | NODE_DEV
**react-art.production.min.js** | **0.0%** | **-0.0%** | **74.23 KB** | **74.23 KB** | **23.25 KB** | **23.25 KB** | **NODE_PROD**

## react-dom
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactDOM-profiling.js | 0.0% | -0.0% | 411.71 KB | 411.71 KB | 76.08 KB | 76.08 KB | FB_WWW_PROFILING
**react-dom-server.browser.production.min.js** | **0.0%** | **0.0%** | **19.87 KB** | **19.87 KB** | **7.46 KB** | **7.46 KB** | **UMD_PROD**
**react-dom-test-utils.production.min.js** | **0.0%** | **0.0%** | **13.68 KB** | **13.68 KB** | **5.25 KB** | **5.26 KB** | **NODE_PROD**
**ReactDOMTesting-prod.js** | **0.0%** | **-0.0%** | **388.27 KB** | **388.27 KB** | **73.33 KB** | **73.32 KB** | **FB_WWW_PROD**
react-dom.development.js | +0.1% | +0.2% | 928.54 KB | 929.64 KB | 204.3 KB | 204.68 KB | UMD_DEV
**react-dom.production.min.js** | **0.0%** | **-0.0%** | **118.48 KB** | **118.48 KB** | **39 KB** | **39 KB** | **UMD_PROD**
react-dom.development.js | +0.1% | +0.2% | 883.61 KB | 884.68 KB | 201.71 KB | 202.1 KB | NODE_DEV
ReactDOMForked-dev.js | +0.1% | +0.2% | 1 MB | 1 MB | 227.15 KB | 227.54 KB | FB_WWW_DEV
**react-dom.production.min.js** | **0.0%** | **0.0%** | **118.56 KB** | **118.56 KB** | **38.31 KB** | **38.31 KB** | **NODE_PROD**
**ReactDOMForked-prod.js** | **0.0%** | **-0.0%** | **396.17 KB** | **396.17 KB** | **73.48 KB** | **73.48 KB** | **FB_WWW_PROD**
ReactDOMForked-profiling.js | 0.0% | -0.0% | 414.61 KB | 414.61 KB | 76.68 KB | 76.68 KB | FB_WWW_PROFILING
ReactDOM-dev.js | +0.1% | +0.2% | 1021.71 KB | 1022.79 KB | 226.18 KB | 226.59 KB | FB_WWW_DEV
**ReactDOM-prod.js** | **0.0%** | **-0.0%** | **393.28 KB** | **393.28 KB** | **72.91 KB** | **72.91 KB** | **FB_WWW_PROD**
**react-dom-server.browser.production.min.js** | **0.0%** | **0.0%** | **19.77 KB** | **19.77 KB** | **7.42 KB** | **7.42 KB** | **NODE_PROD**
ReactDOMServer-dev.js | 0.0% | 0.0% | 146.55 KB | 146.55 KB | 37.64 KB | 37.64 KB | FB_WWW_DEV
**react-dom-test-utils.production.min.js** | **0.0%** | **0.0%** | **13.7 KB** | **13.7 KB** | **5.31 KB** | **5.31 KB** | **UMD_PROD**
**ReactDOMServer-prod.js** | **0.0%** | **-0.0%** | **47.44 KB** | **47.44 KB** | **11.06 KB** | **11.06 KB** | **FB_WWW_PROD**
ReactDOMTesting-dev.js | +0.1% | +0.2% | 947.94 KB | 949.02 KB | 212.67 KB | 213.07 KB | FB_WWW_DEV

## react-native-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactNativeRenderer-profiling.js | 0.0% | -0.0% | 283.95 KB | 283.95 KB | 50.9 KB | 50.9 KB | RN_OSS_PROFILING
ReactFabric-profiling.js | 0.0% | -0.0% | 276.8 KB | 276.8 KB | 49.62 KB | 49.62 KB | RN_FB_PROFILING
ReactFabric-dev.js | +0.2% | +0.3% | 671.05 KB | 672.1 KB | 144.88 KB | 145.28 KB | RN_OSS_DEV
ReactFabric-profiling.js | 0.0% | -0.0% | 276.84 KB | 276.84 KB | 49.64 KB | 49.64 KB | RN_OSS_PROFILING
ReactNativeRenderer-dev.js | +0.2% | +0.3% | 689.7 KB | 690.75 KB | 149.53 KB | 149.93 KB | RN_OSS_DEV
ReactFabric-dev.js | +0.2% | +0.3% | 676.46 KB | 677.51 KB | 145.75 KB | 146.15 KB | RN_FB_DEV
ReactNativeRenderer-dev.js | +0.2% | +0.3% | 695.09 KB | 696.14 KB | 150.37 KB | 150.77 KB | RN_FB_DEV

## react-reconciler
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-reconciler-reflection.development.js | 0.0% | 0.0% | 16 KB | 16 KB | 4.87 KB | 4.87 KB | NODE_DEV
react-reconciler.development.js | +0.2% | +0.3% | 632.77 KB | 633.84 KB | 135.51 KB | 135.9 KB | NODE_DEV
**react-reconciler.production.min.js** | **0.0%** | **-0.0%** | **83.78 KB** | **83.78 KB** | **26.12 KB** | **26.12 KB** | **NODE_PROD**
react-reconciler.profiling.min.js | 0.0% | -0.0% | 87.95 KB | 87.95 KB | 27.38 KB | 27.38 KB | NODE_PROFILING

  </details>
  

ReactDOM: size: 0.0%, gzip: 0.0%

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against c16fe14797c727c6c194bffa6103ed01163de919
</p>
",2021-01-30T22:18:42Z
770289309,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->




  <details>
  <summary>Details of bundled changes.</summary>

  <p>Comparing: bb1b7951d182d36345c83154f9d9bab218011b46...c16fe14797c727c6c194bffa6103ed01163de919</p>


  
## react-test-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-test-renderer.development.js | +0.2% | +0.3% | 633.37 KB | 634.47 KB | 133.49 KB | 133.88 KB | UMD_DEV
**react-test-renderer.production.min.js** | **0.0%** | **0.0%** | **79.45 KB** | **79.45 KB** | **25.22 KB** | **25.23 KB** | **UMD_PROD**
ReactTestRenderer-dev.js | +0.2% | +0.3% | 598.04 KB | 599.09 KB | 129.54 KB | 129.94 KB | RN_FB_DEV
react-test-renderer.development.js | +0.2% | +0.3% | 603.3 KB | 604.37 KB | 131.9 KB | 132.29 KB | NODE_DEV
**react-test-renderer.production.min.js** | **0.0%** | **-0.0%** | **79.27 KB** | **79.27 KB** | **24.88 KB** | **24.88 KB** | **NODE_PROD**
ReactTestRenderer-dev.js | +0.2% | +0.3% | 610.3 KB | 611.38 KB | 130.87 KB | 131.28 KB | FB_WWW_DEV

## react-art
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactART-dev.js | +0.2% | +0.3% | 662.49 KB | 663.57 KB | 140.64 KB | 141.02 KB | FB_WWW_DEV
react-art.development.js | +0.2% | +0.3% | 718.22 KB | 719.32 KB | 152.51 KB | 152.89 KB | UMD_DEV
**react-art.production.min.js** | **0.0%** | **0.0%** | **114.02 KB** | **114.02 KB** | **35.59 KB** | **35.59 KB** | **UMD_PROD**
react-art.development.js | +0.2% | +0.3% | 618.07 KB | 619.14 KB | 134.47 KB | 134.85 KB | NODE_DEV
**ReactART-prod.js** | **0.0%** | **-0.0%** | **244.73 KB** | **244.73 KB** | **43.64 KB** | **43.63 KB** | **FB_WWW_PROD**

## react-dom
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactDOM-profiling.js | 0.0% | -0.0% | 400.25 KB | 400.25 KB | 74.3 KB | 74.3 KB | FB_WWW_PROFILING
**react-dom-server.node.production.min.js** | **0.0%** | **0.0%** | **20.75 KB** | **20.75 KB** | **7.68 KB** | **7.68 KB** | **NODE_PROD**
**ReactDOMTesting-prod.js** | **0.0%** | **-0.0%** | **375.06 KB** | **375.06 KB** | **71.17 KB** | **71.17 KB** | **FB_WWW_PROD**
react-dom.development.js | +0.1% | +0.2% | 981.09 KB | 982.19 KB | 214.39 KB | 214.78 KB | UMD_DEV
**react-dom.production.min.js** | **0.0%** | **0.0%** | **124.84 KB** | **124.84 KB** | **40.97 KB** | **40.97 KB** | **UMD_PROD**
react-dom.profiling.min.js | 0.0% | 0.0% | 130.54 KB | 130.54 KB | 42.7 KB | 42.7 KB | UMD_PROFILING
react-dom.development.js | +0.1% | +0.2% | 933.66 KB | 934.73 KB | 211.57 KB | 211.96 KB | NODE_DEV
ReactDOMForked-dev.js | +0.1% | +0.2% | 1001.39 KB | 1002.48 KB | 222.32 KB | 222.71 KB | FB_WWW_DEV
**react-dom-unstable-fizz.browser.production.min.js** | **0.0%** | **-0.1%** | **1.22 KB** | **1.22 KB** | **713 B** | **712 B** | **UMD_PROD**
**react-dom-unstable-fizz.node.production.min.js** | **0.0%** | **:small_red_triangle:+0.2%** | **1.17 KB** | **1.17 KB** | **666 B** | **667 B** | **NODE_PROD**
**ReactDOMForked-prod.js** | **0.0%** | **-0.0%** | **384.8 KB** | **384.8 KB** | **71.73 KB** | **71.73 KB** | **FB_WWW_PROD**
react-dom.profiling.min.js | 0.0% | -0.0% | 130.87 KB | 130.87 KB | 42.04 KB | 42.03 KB | NODE_PROFILING
ReactDOMForked-profiling.js | 0.0% | -0.0% | 403.19 KB | 403.19 KB | 74.91 KB | 74.91 KB | FB_WWW_PROFILING
ReactDOM-dev.js | +0.1% | +0.2% | 996.13 KB | 997.21 KB | 221.39 KB | 221.79 KB | FB_WWW_DEV
**react-dom-unstable-fizz.browser.production.min.js** | **0.0%** | **:small_red_triangle:+0.2%** | **1.01 KB** | **1.01 KB** | **616 B** | **617 B** | **NODE_PROD**
**ReactDOM-prod.js** | **0.0%** | **0.0%** | **381.87 KB** | **381.87 KB** | **71.14 KB** | **71.15 KB** | **FB_WWW_PROD**
**ReactDOMServer-prod.js** | **0.0%** | **-0.0%** | **46.58 KB** | **46.58 KB** | **10.85 KB** | **10.85 KB** | **FB_WWW_PROD**
react-dom-test-utils.development.js | 0.0% | 0.0% | 66.18 KB | 66.18 KB | 18.81 KB | 18.81 KB | NODE_DEV
ReactDOMTesting-dev.js | +0.1% | +0.2% | 919.6 KB | 920.68 KB | 206.98 KB | 207.38 KB | FB_WWW_DEV

## react-native-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactNativeRenderer-profiling.js | 0.0% | -0.0% | 283.96 KB | 283.96 KB | 50.91 KB | 50.91 KB | RN_OSS_PROFILING
ReactFabric-dev.js | +0.2% | +0.3% | 671.07 KB | 672.12 KB | 144.89 KB | 145.29 KB | RN_OSS_DEV
ReactNativeRenderer-dev.js | +0.2% | +0.3% | 689.71 KB | 690.76 KB | 149.54 KB | 149.94 KB | RN_OSS_DEV

## react-reconciler
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-reconciler.development.js | +0.2% | +0.3% | 675.92 KB | 676.99 KB | 144.41 KB | 144.8 KB | NODE_DEV

  </details>
  

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against c16fe14797c727c6c194bffa6103ed01163de919
</p>
",2021-01-30T22:19:35Z
770337138,"Hi @Amruta1311! 

Thank you for your pull request and welcome to our community. 

# Action Required

In order to merge **any pull request** (code, docs, etc.), we **require** contributors to sign our **Contributor License Agreement**, and we don't seem to have one on file for you.

# Process

In order for us to review and merge your suggested changes, please sign at <https://code.facebook.com/cla>. **If you are contributing on behalf of someone else (eg your employer)**, the individual CLA may not be sufficient and your employer may need to sign the corporate CLA.

Once the CLA is signed, our tooling will perform checks and validations. Afterwards, the **pull request will be tagged** with `CLA signed`. The tagging process may take up to 1 hour after signing. Please give it that time before contacting us about it.

If you have received this in error or have any questions, please contact us at [cla@fb.com](mailto:cla@fb.com?subject=CLA%20for%20facebook%2Freact%20%2320699). Thanks!",2021-01-31T06:54:42Z
770337312,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20699/builds/97143) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 8fafb26b7e67b0ee5d72790ea8b5f90e25ef3dc8:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-sff33)| Configuration |
",2021-01-31T06:56:41Z
770337695,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->



No significant bundle size changes to report.

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 8fafb26b7e67b0ee5d72790ea8b5f90e25ef3dc8
</p>
",2021-01-31T07:00:46Z
770337947,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->



No significant bundle size changes to report.

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 8fafb26b7e67b0ee5d72790ea8b5f90e25ef3dc8
</p>
",2021-01-31T07:03:30Z
770345486,Please experiment with markdown (e.g. https://dillinger.io/) or pull requests (see https://docs.github.com/en/github/collaborating-with-issues-and-pull-requests/creating-a-pull-request for further documentation) on a personal repository. Opening PRs creates notifications for maintainers and everyone watching this repository.,2021-01-31T08:20:51Z
770345943,"It doesn't look like this bug report has enough info for one of us to reproduce it. I tried it in a codesandbox but that doesn't produce a hydration warning: https://codesandbox.io/s/suspicious-brahmagupta-7lsoq?file=/src/index.js

Please provide a CodeSandbox (https://react.new/), a link to a repository on GitHub, or provide a minimal code example that reproduces the problem. 

Here are some tips for providing a minimal example: https://stackoverflow.com/help/mcve

<!-- mui template: https://material-ui.com/r/issue-template -->
<!-- react template: https://react.new/ -->",2021-01-31T08:25:01Z
770412628,Im using WebStorms and have the same issue.,2021-01-31T16:54:47Z
770441243,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20703/builds/97228) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 45691c924e4177112ff99e85b54a36e58a113f23:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-cfn6t)| Configuration |
",2021-01-31T19:59:58Z
770442014,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->



No significant bundle size changes to report.

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 45691c924e4177112ff99e85b54a36e58a113f23
</p>
",2021-01-31T20:04:52Z
770442087,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->



No significant bundle size changes to report.

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 45691c924e4177112ff99e85b54a36e58a113f23
</p>
",2021-01-31T20:05:22Z
770445328,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20704/builds/97537) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 5c0aef6682062944b87baceafcb3a808a254382e:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-yl8yn)| Configuration |
",2021-01-31T20:29:03Z
770445883,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->



No significant bundle size changes to report.

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 5c0aef6682062944b87baceafcb3a808a254382e
</p>
",2021-01-31T20:32:37Z
770445968,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->



No significant bundle size changes to report.

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 5c0aef6682062944b87baceafcb3a808a254382e
</p>
",2021-01-31T20:33:10Z
770447171,"Well, this is embarrassing. 

It seems I had switched from using from `renderToString` to using `renderToStaticMarkup`  at some point for unknown reasons. My page was quite simple so didn't actually notice this was happening other than this hydration notice. 

I do apologise for this. I hope you didn't waste too much time looking into this. ",2021-01-31T20:41:05Z
770458521,"Hi @oscarlijo! 

Thank you for your pull request and welcome to our community. 

# Action Required

In order to merge **any pull request** (code, docs, etc.), we **require** contributors to sign our **Contributor License Agreement**, and we don't seem to have one on file for you.

# Process

In order for us to review and merge your suggested changes, please sign at <https://code.facebook.com/cla>. **If you are contributing on behalf of someone else (eg your employer)**, the individual CLA may not be sufficient and your employer may need to sign the corporate CLA.

Once the CLA is signed, our tooling will perform checks and validations. Afterwards, the **pull request will be tagged** with `CLA signed`. The tagging process may take up to 1 hour after signing. Please give it that time before contacting us about it.

If you have received this in error or have any questions, please contact us at [cla@fb.com](mailto:cla@fb.com?subject=CLA%20for%20facebook%2Freact%20%2320705). Thanks!",2021-01-31T22:01:46Z
770458842,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20705/builds/97252) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 964fd590907830eabd92bce7815b6927c496acb7:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-qzlpv)| Configuration |
",2021-01-31T22:03:57Z
770459334,"
<!--
  0 failure: 
  1 warning:  Could not find bu...
  
  1 markdown notices
  DangerID: danger-id-experimental;
-->


<table>
  <thead>
    <tr>
      <th width=""50""></th>
      <th width=""100%"" data-danger-table=""true"">Warnings</th>
    </tr>
  </thead>
  <tbody><tr>
      <td>:warning:</td>
      <td>Could not find build artifacts for base commit: 604bbcd87d6df2cf8554ae410776ff61b0795210</td>
    </tr>
  </tbody>
</table>


## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 964fd590907830eabd92bce7815b6927c496acb7
</p>
",2021-01-31T22:07:57Z
770459678,"
<!--
  0 failure: 
  1 warning:  Could not find bu...
  
  1 markdown notices
  DangerID: danger-id-stable;
-->


<table>
  <thead>
    <tr>
      <th width=""50""></th>
      <th width=""100%"" data-danger-table=""true"">Warnings</th>
    </tr>
  </thead>
  <tbody><tr>
      <td>:warning:</td>
      <td>Could not find build artifacts for base commit: 604bbcd87d6df2cf8554ae410776ff61b0795210</td>
    </tr>
  </tbody>
</table>


## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 964fd590907830eabd92bce7815b6927c496acb7
</p>
",2021-01-31T22:10:07Z
770518187,"@trueadm Hi, we've decided last week that it's shipped in 87 unless we'd get some bug reports which can block the release.
https://groups.google.com/g/mozilla.dev.platform/c/C_92-abaiuw

And thank you for the feedback about the `getTargetRanges`!",2021-02-01T02:17:24Z
770518968,"Oops, 87 will be shipped March, 23.
https://wiki.mozilla.org/Release_Management/Calendar",2021-02-01T02:19:40Z
770550767,"Hey @callmetwan, thanks for submitting. How would you improve the error?",2021-02-01T04:12:25Z
770553570,"Hey @wildfrontend, do you have any code snippets to show what PageHome.Layout is? If it's a class component, then the error is correct. If not, I'd like to talk a closer look.",2021-02-01T04:22:22Z
770556342,"Looks like you already opened a https://github.com/facebook/react/pull/20692, let's discuss this there.",2021-02-01T04:32:35Z
770557079,"Hey @callmetwan, thanks for the suggestion. Looks like tests are failing and the whitespace is off.

This seems like an improvement to me, but I defer to @gaearon.",2021-02-01T04:35:14Z
770559395,"Hey @asaivishal, the change from React 16 to 17 is a major change, which means it could include breaking changes.

Please reach out to that library to report the bug, they may have a compatible version already available.",2021-02-01T04:43:42Z
770651939,"> We're actively looking to adopt beforeinput internally at Facebook to power a new text editor that is under development and we're also keen to see how React can adopt this too.

@trueadm Just curious, if that's no secret, are you working on something other than Draft.js that would be open-sourced at some point or is it purely an internal project?",2021-02-01T07:57:07Z
770697263,"@JanJakes Yes, I'm working on something other than Draft.js. I expect the project to be eventually open-sourced at some point too, although no guarantees or dates as it's too early :)",2021-02-01T09:06:04Z
770817319,"@jsamr I think it'd be better to move the reasonning down to an alternative `useCallback` implementation (and also provide an answer to #14099). This way the solution can be used for callbacks used in any context (DOM events, render callbacks ...) not just `useEffect` (or `useLayoutEffect`) ones. 

In all cases, the solution must take into account that `useEffect` can use dependencies indirectly, for example by referring to values returned by a `useCallback`.

The issue is that callabck dependencies play a double rule: 

   1. avoid the stale closure problem
   2. as a recative mechanism to trigger some output from react into the external world

In some case we want both 1 and 2 (like with render callbacks passed to a child Component). 

In other cases we want only 1: we just like to update the values seen by the callback. This is typically the case for callbacks that aren't invoked by React but some external notifier like DOM event handlers (unless the handler's code itself changes). React doens't control when those callbacks will be invoked, so it makes sense to always access latest committed state in this case. The solution usually is to close over a mutable ref (there's an ambiguity  for `setState` here, since functional setState could be applied to state that's possibly different from the committed one).

And finally a third (and the most subtle) kind is the `useEffect` callbacks which may combine both concerns. This corresponds to your motivating example.

A compiler can probably distinguish between callbacks scheduled by React and those invoked by the external world,  but the challenge is

   - for (2) did the function code itself actually changed or just the closure environment ?
   - for (3) how to distinguish between deps that must invalidate and deps that just update the closure?

A manual implementation could be done in user space as mentionned by @bvaughn but the lint rule seems unable to verify deps that aren't passed as an array literal.",2021-02-01T12:22:14Z
770830299,"For the next person finding this, this was added as a part of [`@types/react@16.9.20`](https://github.com/DefinitelyTyped/DefinitelyTyped/pull/38390)",2021-02-01T12:45:26Z
770836948,"So my solution to avoid inconsistent state on the first render and a second render is using useMemo like this:

```
function useDerivedState<T>(propValue: T) {
  const [stateValue, setStateValue] = useState(propValue);
  const useStateValue = useRef(false);

  // useMemo run synchronously when deps changed
  useMemo(() => {
    useStateValue.current = false;
  }, [propValue]);

  const setValueCallback = useCallback((action: SetStateAction<T>) => {
    useStateValue.current = true;
    setStateValue(action);
  }, []);

  const currentValue = useStateValue.current ? stateValue : propValue;

  return [currentValue, setValueCallback] as const;
}
```

but the docs specify that useMemo API does NOT garantee that in the future it will run ONLY if deps changed.
Is there a safe way to do it or am I stuck with this hack until (and if one day) useState accepts deps?

edit: Nevermind I can store the deps in a ref and manually compare of course...",2021-02-01T12:56:29Z
770839486,Is this a regression from v17 or are you able to reproduce still with v16? If it is a regression then it could have the same root cause as https://github.com/facebook/react/issues/20662 (the way React attaches events has changed).,2021-02-01T13:01:00Z
770914131,Opened an internal Diff with an alternate way of adding this warning (via a wrapper around the create-root entry points).,2021-02-01T14:52:10Z
771050973,Closing in favor of the Facebook wrapper approach mentioned above.,2021-02-01T18:12:37Z
771113268,"The dispatcher is an internal data structure and overriding it externally is something we would intentionally discourage. The `__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED` shouldn't be thought of as an ""export"", but as an internal field that isn't safe to use externally because it may change in ways that are not semver compatible.

Our suggestion for testing custom hooks is to test them by rendering a React component. Taking [the main example](https://github.com/davidmfoley/isolate-hooks#api) on the GitHub project you linked to, that could look something like this:
```js
// Custom hook you want to test
const useCounter = () => {
  const [count, setCount] = useState(0);
  return [count, () => setCount((count) => count + 1)];
};

let increment;

// Wrapper component used to test hook
function Component(props) {
  const [count, setCount] = useCounter();
  increment = setCount;
  return count;
}

// Your test
const container = document.createElement(""div"");
ReactDOM.render(<Component />, container);

expect(container.textValue).toBe(""0"");

ReactDOM.act(() => {
  increment();
});

expect(container.textValue).toBe(""1"");
```",2021-02-01T19:49:41Z
771121486,The problem with that approach is that it requires 1) a virtual dom and 2) to create extra components for testing -- that's a lot of heavy machinery to require just to test a hook-based state machine that itself doesn't have any knowledge of a DOM. The dispatcher is effectively the handler for the various react hooks `useXxx` functions. Providing a way to inject an alternate dispatcher implementation (or providing another way to intercept calls to those hook functions) would make react hooks more testable.,2021-02-01T20:03:56Z
771122494,"> it requires 1) a virtual dom 

We publish a test renderer package as well, if you'd like to avoid using something like JSdom.
https://reactjs.org/docs/test-renderer.html",2021-02-01T20:05:43Z
771123310,"> Throwing an error that's only thrown in DEV seemed weird to me (and still does)

Yeah I want to follow up on this topic because I do wonder if we should be catching these. Added to next meeting's notes.

> as does checking the console in this way

Yeah we can do this more explicitly, like by setting some global context variable. Went for this for now since it's how the mock Scheduler's yieldValue method detects it, too.",2021-02-01T20:07:05Z
771124315,"> Went for this for now since it's how the mock Scheduler's yieldValue method detects it, too.

Oh I actually didn't know that.",2021-02-01T20:08:47Z
771161511,"I get the following error when trying to invoke `preventDefault` on a touch event (from `onTouchStart`).
`react-dom.development.js:6202 Unable to preventDefault inside passive event listener invocation.`

Therefore, with the latest version of React, this issue's title (**touchstart preventDefault() does not prevent click event.**) is still an issue.
@gaearon Can this issue be re-opened?",2021-02-01T21:12:32Z
771223867,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20710/builds/97668) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 387a645da1756d08ce3e4adf055e7ba49d6018b1:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-kwbkd)| Configuration |
",2021-02-01T23:07:21Z
771224142,"
<!--
  0 failure: 
  0 warning: 
  
  3 markdown notices
  DangerID: danger-id-experimental;
-->




  <details>
  <summary>Details of bundled changes.</summary>

  <p>Comparing: dc27b5aaae5e1a028dc77412d5396466aaa87268...387a645da1756d08ce3e4adf055e7ba49d6018b1</p>


  
## react-dom
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactDOM-profiling.js | +0.7% | +0.8% | 400.25 KB | 403.18 KB | 74.3 KB | 74.9 KB | FB_WWW_PROFILING
react-dom-server.browser.development.js | 0.0% | 0.0% | 145.08 KB | 145.08 KB | 36.93 KB | 36.93 KB | UMD_DEV
react-dom-server.node.development.js | 0.0% | 0.0% | 138.89 KB | 138.89 KB | 36.75 KB | 36.75 KB | NODE_DEV
**react-dom-server.browser.production.min.js** | **0.0%** | **0.0%** | **20.42 KB** | **20.42 KB** | **7.57 KB** | **7.57 KB** | **UMD_PROD**
**react-dom-server.node.production.min.js** | **0.0%** | **0.0%** | **20.75 KB** | **20.75 KB** | **7.68 KB** | **7.68 KB** | **NODE_PROD**
**react-dom-test-utils.production.min.js** | **0.0%** | **0.0%** | **13.7 KB** | **13.7 KB** | **5.26 KB** | **5.27 KB** | **NODE_PROD**
**ReactDOMTesting-prod.js** | **:small_red_triangle:+0.7%** | **:small_red_triangle:+0.7%** | **375.06 KB** | **377.83 KB** | **71.17 KB** | **71.67 KB** | **FB_WWW_PROD**
react-dom.development.js | +0.6% | +0.6% | 982.19 KB | 987.93 KB | 214.77 KB | 216.14 KB | UMD_DEV
**react-dom.production.min.js** | **:small_red_triangle:+0.7%** | **:small_red_triangle:+0.7%** | **124.84 KB** | **125.7 KB** | **40.97 KB** | **41.23 KB** | **UMD_PROD**
react-dom.profiling.min.js | +0.7% | +0.5% | 130.54 KB | 131.39 KB | 42.7 KB | 42.93 KB | UMD_PROFILING
react-dom-unstable-fizz.node.development.js | 0.0% | +0.1% | 5.42 KB | 5.42 KB | 1.82 KB | 1.82 KB | NODE_DEV
react-dom.development.js | +0.6% | +0.6% | 934.73 KB | 940.22 KB | 211.96 KB | 213.21 KB | NODE_DEV
ReactDOMForked-dev.js | 0.0% | 0.0% | 1002.48 KB | 1002.48 KB | 222.71 KB | 222.71 KB | FB_WWW_DEV
**react-dom-unstable-fizz.browser.production.min.js** | **0.0%** | **:small_red_triangle:+0.1%** | **1.22 KB** | **1.22 KB** | **712 B** | **713 B** | **UMD_PROD**
**react-dom-unstable-fizz.node.production.min.js** | **0.0%** | **:small_red_triangle:+0.3%** | **1.17 KB** | **1.17 KB** | **666 B** | **668 B** | **NODE_PROD**
**react-dom.production.min.js** | **:small_red_triangle:+0.7%** | **:small_red_triangle:+0.6%** | **125 KB** | **125.86 KB** | **40.31 KB** | **40.56 KB** | **NODE_PROD**
react-dom.profiling.min.js | +0.7% | +0.6% | 130.87 KB | 131.73 KB | 42.03 KB | 42.3 KB | NODE_PROFILING
ReactDOMForked-profiling.js | 0.0% | 0.0% | 403.19 KB | 403.19 KB | 74.91 KB | 74.91 KB | FB_WWW_PROFILING
ReactDOM-dev.js | +0.5% | +0.5% | 997.21 KB | 1002.47 KB | 221.79 KB | 222.91 KB | FB_WWW_DEV
**react-dom-unstable-fizz.browser.production.min.js** | **0.0%** | **:small_red_triangle:+0.2%** | **1.01 KB** | **1.01 KB** | **616 B** | **617 B** | **NODE_PROD**
**ReactDOM-prod.js** | **:small_red_triangle:+0.8%** | **:small_red_triangle:+0.8%** | **381.87 KB** | **384.79 KB** | **71.15 KB** | **71.72 KB** | **FB_WWW_PROD**
react-dom-server.browser.development.js | 0.0% | 0.0% | 137.62 KB | 137.62 KB | 36.5 KB | 36.5 KB | NODE_DEV
**react-dom-server.browser.production.min.js** | **0.0%** | **0.0%** | **20.33 KB** | **20.33 KB** | **7.53 KB** | **7.53 KB** | **NODE_PROD**
react-dom-test-utils.development.js | 0.0% | 0.0% | 71.37 KB | 71.37 KB | 19.33 KB | 19.33 KB | UMD_DEV
ReactDOMServer-dev.js | 0.0% | 0.0% | 142.52 KB | 142.52 KB | 36.62 KB | 36.63 KB | FB_WWW_DEV
**react-dom-test-utils.production.min.js** | **0.0%** | **0.0%** | **13.71 KB** | **13.71 KB** | **5.32 KB** | **5.32 KB** | **UMD_PROD**
**ReactDOMServer-prod.js** | **0.0%** | **0.0%** | **46.58 KB** | **46.58 KB** | **10.85 KB** | **10.85 KB** | **FB_WWW_PROD**
react-dom-test-utils.development.js | 0.0% | 0.0% | 66.18 KB | 66.18 KB | 18.81 KB | 18.81 KB | NODE_DEV
ReactDOMTesting-dev.js | +0.6% | +0.6% | 920.68 KB | 925.88 KB | 207.38 KB | 208.54 KB | FB_WWW_DEV

## react-native-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactNativeRenderer-profiling.js | +1.0% | +1.0% | 283.96 KB | 286.73 KB | 50.91 KB | 51.43 KB | RN_OSS_PROFILING
ReactFabric-dev.js | +0.8% | +0.8% | 672.12 KB | 677.31 KB | 145.29 KB | 146.4 KB | RN_OSS_DEV
**ReactFabric-prod.js** | **:small_red_triangle:+1.0%** | **:small_red_triangle:+1.1%** | **264.85 KB** | **267.62 KB** | **47.39 KB** | **47.9 KB** | **RN_OSS_PROD**
ReactFabric-profiling.js | +1.0% | +1.0% | 276.85 KB | 279.62 KB | 49.65 KB | 50.15 KB | RN_OSS_PROFILING
ReactNativeRenderer-dev.js | +0.8% | +0.7% | 690.76 KB | 695.96 KB | 149.94 KB | 151.04 KB | RN_OSS_DEV
**ReactNativeRenderer-prod.js** | **:small_red_triangle:+1.0%** | **:small_red_triangle:+1.1%** | **272 KB** | **274.77 KB** | **48.66 KB** | **49.18 KB** | **RN_OSS_PROD**

## react-test-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-test-renderer.development.js | +0.9% | +0.9% | 634.47 KB | 639.91 KB | 133.88 KB | 135.04 KB | UMD_DEV
**react-test-renderer.production.min.js** | **:small_red_triangle:+1.1%** | **:small_red_triangle:+1.1%** | **79.45 KB** | **80.3 KB** | **25.22 KB** | **25.5 KB** | **UMD_PROD**
ReactTestRenderer-dev.js | +0.9% | +0.9% | 599.09 KB | 604.29 KB | 129.94 KB | 131.08 KB | RN_FB_DEV
**ReactTestRenderer-prod.js** | **:small_red_triangle:+1.2%** | **:small_red_triangle:+1.2%** | **232.71 KB** | **235.51 KB** | **42.68 KB** | **43.2 KB** | **RN_FB_PROD**
ReactTestRenderer-profiling.js | +1.1% | +1.2% | 244.58 KB | 247.35 KB | 44.87 KB | 45.4 KB | RN_FB_PROFILING
react-test-renderer.development.js | +0.9% | +0.9% | 604.37 KB | 609.57 KB | 132.29 KB | 133.44 KB | NODE_DEV
**react-test-renderer.production.min.js** | **:small_red_triangle:+1.1%** | **:small_red_triangle:+1.1%** | **79.27 KB** | **80.13 KB** | **24.88 KB** | **25.15 KB** | **NODE_PROD**
ReactTestRenderer-dev.js | +0.8% | +0.9% | 611.38 KB | 616.58 KB | 131.28 KB | 132.42 KB | FB_WWW_DEV

## react-art
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactART-dev.js | +0.8% | +0.8% | 663.57 KB | 668.84 KB | 141.02 KB | 142.15 KB | FB_WWW_DEV
react-art.development.js | +0.8% | +0.9% | 719.32 KB | 725.06 KB | 152.89 KB | 154.21 KB | UMD_DEV
**react-art.production.min.js** | **:small_red_triangle:+0.8%** | **:small_red_triangle:+0.7%** | **114.02 KB** | **114.88 KB** | **35.59 KB** | **35.84 KB** | **UMD_PROD**
react-art.development.js | +0.9% | +0.9% | 619.14 KB | 624.62 KB | 134.85 KB | 136.1 KB | NODE_DEV
**react-art.production.min.js** | **:small_red_triangle:+1.1%** | **:small_red_triangle:+1.3%** | **78.96 KB** | **79.82 KB** | **24.72 KB** | **25.03 KB** | **NODE_PROD**
**ReactART-prod.js** | **:small_red_triangle:+1.2%** | **:small_red_triangle:+1.3%** | **244.73 KB** | **247.65 KB** | **43.64 KB** | **44.2 KB** | **FB_WWW_PROD**

## react-reconciler
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-reconciler-reflection.development.js | 0.0% | 0.0% | 16.01 KB | 16.01 KB | 4.88 KB | 4.88 KB | NODE_DEV
**react-reconciler-reflection.production.min.js** | **0.0%** | **:small_red_triangle:+0.1%** | **2.63 KB** | **2.63 KB** | **1.13 KB** | **1.14 KB** | **NODE_PROD**
react-reconciler.development.js | +0.8% | +0.9% | 676.99 KB | 682.48 KB | 144.8 KB | 146.06 KB | NODE_DEV
**react-reconciler.production.min.js** | **:small_red_triangle:+1.0%** | **:small_red_triangle:+0.9%** | **89.03 KB** | **89.89 KB** | **27.71 KB** | **27.97 KB** | **NODE_PROD**
react-reconciler.profiling.min.js | +0.9% | +0.9% | 94.82 KB | 95.67 KB | 29.44 KB | 29.7 KB | NODE_PROFILING

  </details>
  

ReactDOM: size: 0.0%, gzip: 0.0%

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 387a645da1756d08ce3e4adf055e7ba49d6018b1
</p>
",2021-02-01T23:08:02Z
771224345,"
<!--
  0 failure: 
  0 warning: 
  
  3 markdown notices
  DangerID: danger-id-stable;
-->




  <details>
  <summary>Details of bundled changes.</summary>

  <p>Comparing: dc27b5aaae5e1a028dc77412d5396466aaa87268...387a645da1756d08ce3e4adf055e7ba49d6018b1</p>


  
## react-dom
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactDOM-profiling.js | +0.7% | +0.8% | 411.71 KB | 414.6 KB | 76.08 KB | 76.68 KB | FB_WWW_PROFILING
react-dom-server.browser.development.js | 0.0% | 0.0% | 143.17 KB | 143.17 KB | 36.66 KB | 36.67 KB | UMD_DEV
react-dom-server.node.development.js | 0.0% | 0.0% | 137.09 KB | 137.09 KB | 36.46 KB | 36.46 KB | NODE_DEV
**react-dom-server.browser.production.min.js** | **0.0%** | **0.0%** | **19.87 KB** | **19.87 KB** | **7.46 KB** | **7.46 KB** | **UMD_PROD**
**react-dom-server.node.production.min.js** | **0.0%** | **0.0%** | **20.19 KB** | **20.19 KB** | **7.58 KB** | **7.58 KB** | **NODE_PROD**
**react-dom-test-utils.production.min.js** | **0.0%** | **0.0%** | **13.68 KB** | **13.68 KB** | **5.25 KB** | **5.26 KB** | **NODE_PROD**
**ReactDOMTesting-prod.js** | **:small_red_triangle:+0.7%** | **:small_red_triangle:+0.7%** | **388.27 KB** | **391.05 KB** | **73.32 KB** | **73.82 KB** | **FB_WWW_PROD**
react-dom.development.js | +0.6% | +0.7% | 929.64 KB | 935.38 KB | 204.68 KB | 206.06 KB | UMD_DEV
**react-dom.production.min.js** | **:small_red_triangle:+0.7%** | **:small_red_triangle:+0.7%** | **118.48 KB** | **119.34 KB** | **39 KB** | **39.26 KB** | **UMD_PROD**
react-dom.profiling.min.js | +0.7% | +0.6% | 122.58 KB | 123.44 KB | 40.25 KB | 40.51 KB | UMD_PROFILING
react-dom.development.js | +0.6% | +0.6% | 884.68 KB | 890.17 KB | 202.09 KB | 203.35 KB | NODE_DEV
ReactDOMForked-dev.js | 0.0% | 0.0% | 1 MB | 1 MB | 227.54 KB | 227.54 KB | FB_WWW_DEV
**react-dom.production.min.js** | **:small_red_triangle:+0.7%** | **:small_red_triangle:+0.7%** | **118.56 KB** | **119.42 KB** | **38.31 KB** | **38.57 KB** | **NODE_PROD**
react-dom.profiling.min.js | +0.7% | +0.6% | 122.82 KB | 123.68 KB | 39.57 KB | 39.81 KB | NODE_PROFILING
ReactDOM-dev.js | +0.5% | +0.5% | 1022.79 KB | 1 MB | 226.59 KB | 227.74 KB | FB_WWW_DEV
**ReactDOM-prod.js** | **:small_red_triangle:+0.7%** | **:small_red_triangle:+0.8%** | **393.28 KB** | **396.17 KB** | **72.91 KB** | **73.47 KB** | **FB_WWW_PROD**
react-dom-server.browser.development.js | 0.0% | 0.0% | 135.82 KB | 135.82 KB | 36.21 KB | 36.21 KB | NODE_DEV
**react-dom-server.browser.production.min.js** | **0.0%** | **0.0%** | **19.77 KB** | **19.77 KB** | **7.42 KB** | **7.42 KB** | **NODE_PROD**
react-dom-test-utils.development.js | 0.0% | 0.0% | 71.36 KB | 71.36 KB | 19.32 KB | 19.32 KB | UMD_DEV
ReactDOMServer-dev.js | 0.0% | 0.0% | 146.55 KB | 146.55 KB | 37.64 KB | 37.64 KB | FB_WWW_DEV
**react-dom-test-utils.production.min.js** | **0.0%** | **0.0%** | **13.7 KB** | **13.7 KB** | **5.31 KB** | **5.31 KB** | **UMD_PROD**
react-dom-test-utils.development.js | 0.0% | 0.0% | 66.17 KB | 66.17 KB | 18.8 KB | 18.81 KB | NODE_DEV
ReactDOMTesting-dev.js | +0.5% | +0.5% | 949.02 KB | 954.22 KB | 213.06 KB | 214.23 KB | FB_WWW_DEV

## react-native-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactNativeRenderer-profiling.js | +1.0% | +1.0% | 283.95 KB | 286.72 KB | 50.9 KB | 51.42 KB | RN_OSS_PROFILING
ReactFabric-profiling.js | +1.0% | +1.0% | 276.8 KB | 279.57 KB | 49.62 KB | 50.12 KB | RN_FB_PROFILING
ReactFabric-dev.js | +0.8% | +0.8% | 672.1 KB | 677.3 KB | 145.28 KB | 146.39 KB | RN_OSS_DEV
**ReactFabric-prod.js** | **:small_red_triangle:+1.0%** | **:small_red_triangle:+1.1%** | **264.84 KB** | **267.61 KB** | **47.38 KB** | **47.89 KB** | **RN_OSS_PROD**
ReactFabric-profiling.js | +1.0% | +1.0% | 276.84 KB | 279.61 KB | 49.64 KB | 50.14 KB | RN_OSS_PROFILING
ReactNativeRenderer-dev.js | +0.8% | +0.7% | 690.75 KB | 695.94 KB | 149.93 KB | 151.03 KB | RN_OSS_DEV
ReactFabric-dev.js | +0.8% | +0.8% | 677.51 KB | 682.7 KB | 146.15 KB | 147.25 KB | RN_FB_DEV
**ReactNativeRenderer-prod.js** | **:small_red_triangle:+1.0%** | **:small_red_triangle:+1.1%** | **271.98 KB** | **274.76 KB** | **48.65 KB** | **49.17 KB** | **RN_OSS_PROD**
**ReactFabric-prod.js** | **:small_red_triangle:+1.0%** | **:small_red_triangle:+1.1%** | **264.8 KB** | **267.58 KB** | **47.36 KB** | **47.87 KB** | **RN_FB_PROD**
ReactNativeRenderer-dev.js | +0.7% | +0.8% | 696.14 KB | 701.34 KB | 150.77 KB | 151.91 KB | RN_FB_DEV
**ReactNativeRenderer-prod.js** | **:small_red_triangle:+1.0%** | **:small_red_triangle:+1.1%** | **271.94 KB** | **274.71 KB** | **48.63 KB** | **49.15 KB** | **RN_FB_PROD**
ReactNativeRenderer-profiling.js | +1.0% | +1.0% | 283.9 KB | 286.67 KB | 50.88 KB | 51.4 KB | RN_FB_PROFILING

## react-test-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-test-renderer.development.js | +0.9% | +0.9% | 617.8 KB | 623.24 KB | 130.53 KB | 131.69 KB | UMD_DEV
**react-test-renderer.production.min.js** | **:small_red_triangle:+1.1%** | **:small_red_triangle:+1.0%** | **77.08 KB** | **77.95 KB** | **24.43 KB** | **24.66 KB** | **UMD_PROD**
ReactTestRenderer-dev.js | +0.9% | +0.9% | 599.08 KB | 604.27 KB | 129.93 KB | 131.07 KB | RN_FB_DEV
**ReactTestRenderer-prod.js** | **:small_red_triangle:+1.2%** | **:small_red_triangle:+1.2%** | **232.7 KB** | **235.5 KB** | **42.67 KB** | **43.19 KB** | **RN_FB_PROD**
ReactTestRenderer-profiling.js | +1.1% | +1.2% | 244.57 KB | 247.34 KB | 44.86 KB | 45.39 KB | RN_FB_PROFILING
react-test-renderer.development.js | +0.9% | +0.9% | 588.53 KB | 593.73 KB | 128.95 KB | 130.09 KB | NODE_DEV
**react-test-renderer.production.min.js** | **:small_red_triangle:+1.1%** | **:small_red_triangle:+1.0%** | **76.9 KB** | **77.76 KB** | **24.09 KB** | **24.33 KB** | **NODE_PROD**
ReactTestRenderer-dev.js | +0.8% | +0.9% | 611.37 KB | 616.56 KB | 131.27 KB | 132.41 KB | FB_WWW_DEV

## react-art
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactART-dev.js | +0.8% | +0.8% | 673.58 KB | 678.85 KB | 143.06 KB | 144.2 KB | FB_WWW_DEV
react-art.development.js | +0.8% | +0.9% | 677.06 KB | 682.79 KB | 144.46 KB | 145.76 KB | UMD_DEV
**react-art.production.min.js** | **:small_red_triangle:+0.8%** | **:small_red_triangle:+0.7%** | **109.23 KB** | **110.09 KB** | **34.13 KB** | **34.37 KB** | **UMD_PROD**
react-art.development.js | +0.9% | +1.0% | 578.89 KB | 584.38 KB | 126.56 KB | 127.82 KB | NODE_DEV
**react-art.production.min.js** | **:small_red_triangle:+1.2%** | **:small_red_triangle:+1.1%** | **74.23 KB** | **75.09 KB** | **23.25 KB** | **23.51 KB** | **NODE_PROD**
**ReactART-prod.js** | **:small_red_triangle:+1.1%** | **:small_red_triangle:+1.3%** | **251.94 KB** | **254.83 KB** | **44.89 KB** | **45.48 KB** | **FB_WWW_PROD**

## react-reconciler
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-reconciler-reflection.development.js | 0.0% | 0.0% | 16 KB | 16 KB | 4.87 KB | 4.87 KB | NODE_DEV
**react-reconciler-reflection.production.min.js** | **0.0%** | **:small_red_triangle:+0.1%** | **2.62 KB** | **2.62 KB** | **1.13 KB** | **1.13 KB** | **NODE_PROD**
react-reconciler.development.js | +0.9% | +0.9% | 633.84 KB | 639.33 KB | 135.9 KB | 137.17 KB | NODE_DEV
**react-reconciler.production.min.js** | **:small_red_triangle:+1.0%** | **:small_red_triangle:+1.0%** | **83.78 KB** | **84.64 KB** | **26.12 KB** | **26.38 KB** | **NODE_PROD**
react-reconciler.profiling.min.js | +1.0% | +0.8% | 87.95 KB | 88.81 KB | 27.38 KB | 27.61 KB | NODE_PROFILING

  </details>
  

ReactDOM: size: 0.0%, gzip: 0.0%

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 387a645da1756d08ce3e4adf055e7ba49d6018b1
</p>
",2021-02-01T23:08:33Z
771292736,"@guillaume86 I noticed that too (after my comment above) and made the same change ðŸ˜‚

Your solution is similar to mine, which has some interesting tweaks you might like:

- Putting all the internals (including the callback and the current value and the previous deps) into `ref.current` as an object.
- Doing so using `||=` so that object is only created once.
- If the initial value is an initialiser function, passing the deps array into it â€” this allows you to define a function _outside_ your component to set the initial state (and save creating a function on every render).

End result is it creates **zero** functions or objects on nth render, so performs extremely well. The slowest part is the loop to check if the deps have changed, which I suspect is why `useState()` doesn't do this itself.

```js
export const useLazyState = <T, D extends readonly unknown[]>(initialiser: T | ((...args: D) => T), deps: D): [T, SetStateAction<T>] => {
	const internals = (useRef<{ value: T; deps: D; setState: SetStateAction<T> }>().current ||= {
		value: initialiser instanceof Function ? initialiser(...deps) : initialiser,
		deps,
		setState: (value: T) => {
			internals.value = value;
			return setState(value);
		},
	});

	const setState = useState<T>(internals.value)[1];

	// Refresh value if the deps change.
	if (!isArrayEqual<D>(deps, internals.deps)) {
		internals.value = initialiser instanceof Function ? initialiser(...deps) : initialiser;
		internals.deps = deps;
	}

	return [internals.value, internals.setState];
};
```

",2021-02-02T02:04:37Z
771299956,"thanks @rickhanlonii  , this is my code snippets , i use functional component 

```js

const PageHome: React.FC = () => {
  return (
      <div>
         Home Content
     </div>
  );
};

PageHome.Layout  = ({ children }) => {
  return (
    <Layout>
      {children}
    </Layout>
  );
};

export default PageHome;
```",2021-02-02T02:20:35Z
771301771,"The main problem is to update data after asynchronous request. If the component is unloaded (switching pages, etc.), the above warning will appear. The official advice is to cancel the asynchronous request in the return function of useeffect. This does not solve practical problems.

The root causes of the above problems are as follows

1. If the asynchronous request does not return, you can cancel the asynchronous request in the return function;

2. If the request has returned, data processing is in progress, and the state is about to be updated, the above warning will also appear when the component is unloaded (switching pages, etc.). At this point, you need to set an unmounted variable to control the update of the state.",2021-02-02T02:24:34Z
771373271,"Hey @JadeLiuYC, thanks for submitting but it doesn't appear that this is a bug. As the error says, ""To fix, cancel all subscriptions and asynchronous tasks in a useEffect cleanup function"".  @eps1lon example will handle the second case, where the request returns but the component is unmounted.",2021-02-02T05:29:50Z
771405942,"> I had the same issue and I resolved it by adding:
> 
> ```
>  alias: {
>         react: path.resolve('./node_modules/react')
>       }
> ```
> 
> to `resolve` property in webpack config of my main app.
> 
> It's was obviously my mistake of using two copies of React but I agree that it would be great if the error message was better. I think this is maybe similar to: #2402

It worked for me too! ðŸ™Œ",2021-02-02T06:43:01Z
771496023,"> If the request has returned, data processing is in progress, and the state is about to be updated,

If you're in a synchronous piece of code e.g. `then(() => { /* synchronous piece of code  */})`, the component cannot be updated during the execution of the synchronous piece of code and you won't get the described warning. You will only get the warning if it was unmounted between two ""blocks"" e.g.

```js
await fetch();
// ----- update can happen now. Next code needs to be cancelable.
await processData();
```
or
```js
fetch()
// ----- update can happen now. Next code needs to be cancelable.
  .then(() => {
    return processData()
  })
```

That's one of the reasons why `effectFn` `useEffect(effectFn)` cannot be async so that it can return a cleanup function before the component is unmounted.

So maybe you're doing something like

```js
useEffect(async () => {
  const response = await fetch(url);
  const rawData = await response.json();
  const data = await processData(rawData);
  setData(data);
}, [url])
```
where you can't cancel `processData` or `response.json()` if the component unmounted. But that's why you need to leverage `then()`, `catch()` and the other Promise methods.

A real world example would help in understanding your problem. Right now I can only guess what you're doing.",2021-02-02T09:26:35Z
771507202,"Support requests filed as GitHub issues often go unanswered. We want you to find the answer you're looking for, so we suggest the following alternatives:

Coding Questions
If you have a coding question related to React and React DOM, it might be better suited for Stack Overflow. It's a great place to browse through frequent questions about using React, as well as ask for help with specific questions.

stackoverflow.com/questions/tagged/react

Talk to other React developers
There are many online forums which are a great place for discussion about best practices and application architecture as well as the future of React.

https://reactjs.org/community/support.html",2021-02-02T09:43:55Z
771556219,"> A real world example would help in understanding your problem. Right now I can only guess what you're doing.

I have trie this and it still doesnt work for me 
<pre>
useEffect(() => {
    let mounted = true;
    if (mounted) {
      let URL = config.API_URL+""Transactions/getAll/""+page;
      getTransactions(URL);
    }
    return () => {
      mounted = false;
    };
  }, [isLoading]);

  const getTransactions = async URL => {
    try {
      let response = await fetch(URL);
      let json = await response.json();
      if (json.length > 0) {
        await setTransactions(json);
        await setIsLoading(false);
      } else {
        await setTransactions([]);
        await setIsLoading(false);
      }
    } catch (error) {
      console.log(error);
    }
  };
</pre>",2021-02-02T11:04:20Z
771567402,"Assuming `set*` are functions returned from `React.useState`: These functions don't return a promise. Awaiting them should be avoided since it makes it harder to reason about the code.

The `getTransactions` functions needs to know if it is cancelled since it has multiple `await` instructions. In between the component could've been unmounted. I've done this by inlining the function into the effect handler. It should have the same functionality.

```js
useEffect(() => {
    let mounted = true;
    let URL = config.API_URL+""Transactions/getAll/""+page;
    fetch(URL)
      .then(response => response.json())
      .then(json => {
        if (mounted === false) {
          return;
        }
        if (json.length > 0) {
          setTransactions(json);
          setIsLoading(false);
        } else {
          setTransactions([]);
          setIsLoading(false);
        }
      })
      .catch(error => console.log(error))
    return () => {
      mounted = false;
    };
  }, [isLoading]);
```

A similar example using `async-await` can be found in https://codesandbox.io/s/jvvkoo8pq3

But there are also problems with the dependencies of your effect. They're incomplete and need the `page`.",2021-02-02T11:23:01Z
771572703,"Thanks for the report.

Your `useExternalState` hook has a side-effect during render: ` updaters.add(forceUpdate);`. Once you move it into the effect, batched and unbatched updates work consistent:
```diff
function useExternalState() {
  const forceUpdate = useReducer(v => v + 1, 0)[1];
- updaters.add(forceUpdate);
  useEffect(() => {
+   updaters.add(forceUpdate);
    return () => updaters.delete(forceUpdate);
  }, [forceUpdate]);
  return externalState;
}
```

The issue on the zustand repo was closed. Why do you think this is an issue with React?",2021-02-02T11:32:39Z
771646285,"Thanks! I totally missed that. It might well be something similar causing my original problem as well. But I can't say I understand how adding an extra listener (?) could cause the useEffect to not trigger. Or what is happening here?

> The issue on the zustand repo was closed. Why do you think this is an issue with React?

I wasn't really sure, but from what I could see the zustand issue was closed without a fix or any real conclusion whether it was a bug or expected behavior. So I reported it to see if someone here could shed any more light on it. As you pointed out it does look like it's caused by side-effects outside of `useEffect` so I guess it's not a bug after all, thanks again for pointing out the issue!",2021-02-02T13:48:00Z
771652401,">  But I can't say I understand how adding an extra listener (?) could cause the useEffect to not trigger. Or what is happening here?

It might be worth trying to figure this out and see if we can add a warning. In the end you're calling a version of `dispatch` that wasn't committed. But it's not clear if this would conflict with render phase updates.

Don't really have the time to dig into this though. I do understand how this particular issue with side-effects during render is tricky because it just silently produces unexpected output. Would be interesting to see if this can also happen with prod builds i.e. render twice, commit once due to a sibling suspending.",2021-02-02T13:58:12Z
771703395,"Destructuring works fairly poorly if your props are a disciminated union, eg:

```
type Props = 
  | {
      kind: 'range'
      value: Date[]
    }
  | {
      kind: 'day'
      value: Date
    }
  | {
      kind: 'timer'
      value: number
    }
 // ...
```

Destructuring `props` breaks the discriminating union.

 This is a rare enough usecase for me personally that I'm fine with disabling the lint rule, but I'd be interested to know if anyone has a better solution
",2021-02-02T15:11:31Z
771712629,"thanks, it worked for me.",2021-02-02T15:24:34Z
771823711,"Hi @bedhubgrid! 

Thank you for your pull request and welcome to our community. 

# Action Required

In order to merge **any pull request** (code, docs, etc.), we **require** contributors to sign our **Contributor License Agreement**, and we don't seem to have one on file for you.

# Process

In order for us to review and merge your suggested changes, please sign at <https://code.facebook.com/cla>. **If you are contributing on behalf of someone else (eg your employer)**, the individual CLA may not be sufficient and your employer may need to sign the corporate CLA.

Once the CLA is signed, our tooling will perform checks and validations. Afterwards, the **pull request will be tagged** with `CLA signed`. The tagging process may take up to 1 hour after signing. Please give it that time before contacting us about it.

If you have received this in error or have any questions, please contact us at [cla@fb.com](mailto:cla@fb.com?subject=CLA%20for%20facebook%2Freact%20%2320715). Thanks!",2021-02-02T17:34:45Z
771827548,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20715/builds/97986) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit a295b48bb7d07237f44a72700356daf252ce1a94:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-xlr7j)| Configuration |
",2021-02-02T17:39:32Z
771828059,"
<!--
  0 failure: 
  1 warning:  Could not find bu...
  
  1 markdown notices
  DangerID: danger-id-experimental;
-->


<table>
  <thead>
    <tr>
      <th width=""50""></th>
      <th width=""100%"" data-danger-table=""true"">Warnings</th>
    </tr>
  </thead>
  <tbody><tr>
      <td>:warning:</td>
      <td>Could not find build artifacts for base commit: 3e0bdbefa3cb78c5534b808772ed6afad7c34827</td>
    </tr>
  </tbody>
</table>


## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against a295b48bb7d07237f44a72700356daf252ce1a94
</p>
",2021-02-02T17:40:08Z
771828397,"
<!--
  0 failure: 
  1 warning:  Could not find bu...
  
  1 markdown notices
  DangerID: danger-id-stable;
-->


<table>
  <thead>
    <tr>
      <th width=""50""></th>
      <th width=""100%"" data-danger-table=""true"">Warnings</th>
    </tr>
  </thead>
  <tbody><tr>
      <td>:warning:</td>
      <td>Could not find build artifacts for base commit: 3e0bdbefa3cb78c5534b808772ed6afad7c34827</td>
    </tr>
  </tbody>
</table>


## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against a295b48bb7d07237f44a72700356daf252ce1a94
</p>
",2021-02-02T17:40:28Z
771878616,"Well, the solution is maybe a little heavy handed, but I think I've got a viable fix. Ready for another look, @sebmarkbage ",2021-02-02T18:41:04Z
771948019,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20717/builds/98031) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 64631978e589fe276b634361812d038670ffd09c:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-9zhok)| Configuration |
",2021-02-02T20:14:08Z
771949357,"
<!--
  0 failure: 
  1 warning:  Could not find bu...
  
  1 markdown notices
  DangerID: danger-id-stable;
-->


<table>
  <thead>
    <tr>
      <th width=""50""></th>
      <th width=""100%"" data-danger-table=""true"">Warnings</th>
    </tr>
  </thead>
  <tbody><tr>
      <td>:warning:</td>
      <td>Could not find build artifacts for base commit: 3e0bdbefa3cb78c5534b808772ed6afad7c34827</td>
    </tr>
  </tbody>
</table>


## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 64631978e589fe276b634361812d038670ffd09c
</p>
",2021-02-02T20:15:55Z
771949625,"
<!--
  0 failure: 
  1 warning:  Could not find bu...
  
  1 markdown notices
  DangerID: danger-id-experimental;
-->


<table>
  <thead>
    <tr>
      <th width=""50""></th>
      <th width=""100%"" data-danger-table=""true"">Warnings</th>
    </tr>
  </thead>
  <tbody><tr>
      <td>:warning:</td>
      <td>Could not find build artifacts for base commit: 3e0bdbefa3cb78c5534b808772ed6afad7c34827</td>
    </tr>
  </tbody>
</table>


## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 64631978e589fe276b634361812d038670ffd09c
</p>
",2021-02-02T20:16:15Z
772012376,à² _à²  ,2021-02-02T21:43:06Z
772059082,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20718/builds/98069) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 74ac980df356d37f353fee78409df3e5232e25f4:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-jxl87)| Configuration |
",2021-02-02T22:36:09Z
772060113,"
<!--
  0 failure: 
  1 warning:  Could not find bu...
  
  1 markdown notices
  DangerID: danger-id-experimental;
-->


<table>
  <thead>
    <tr>
      <th width=""50""></th>
      <th width=""100%"" data-danger-table=""true"">Warnings</th>
    </tr>
  </thead>
  <tbody><tr>
      <td>:warning:</td>
      <td>Could not find build artifacts for base commit: 3e0bdbefa3cb78c5534b808772ed6afad7c34827</td>
    </tr>
  </tbody>
</table>


## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 74ac980df356d37f353fee78409df3e5232e25f4
</p>
",2021-02-02T22:37:44Z
772060124,"
<!--
  0 failure: 
  1 warning:  Could not find bu...
  
  1 markdown notices
  DangerID: danger-id-stable;
-->


<table>
  <thead>
    <tr>
      <th width=""50""></th>
      <th width=""100%"" data-danger-table=""true"">Warnings</th>
    </tr>
  </thead>
  <tbody><tr>
      <td>:warning:</td>
      <td>Could not find build artifacts for base commit: 3e0bdbefa3cb78c5534b808772ed6afad7c34827</td>
    </tr>
  </tbody>
</table>


## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 74ac980df356d37f353fee78409df3e5232e25f4
</p>
",2021-02-02T22:37:45Z
772083520,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20719/builds/98321) or the icon next to each commit SHA.",2021-02-02T23:21:44Z
772084885,"
<!--
  0 failure: 
  1 warning:  Failed to read bu...
  
  
  DangerID: danger-id-stable;
-->


<table>
  <thead>
    <tr>
      <th width=""50""></th>
      <th width=""100%"" data-danger-table=""true"">Warnings</th>
    </tr>
  </thead>
  <tbody><tr>
      <td>:warning:</td>
      <td>Failed to read build artifacts. It's possible a build configuration has changed upstream. Try pulling the latest changes from the main branch.</td>
    </tr>
  </tbody>
</table>



<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against f24da1c4ddd53cfd20aeb07643941419fb5fffb3
</p>
",2021-02-02T23:24:50Z
772171318,"[https://reactjs.org/blog/2015/12/16/ismounted-antipattern.html](url) 
By understanding this article, setting a variable to control whether the update of state is an anti pattern?",2021-02-03T02:31:41Z
772178483,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20720/builds/98118) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 65b3132ce04c720e7804f7658b4f735ffe79f7e5:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-7j1fi)| Configuration |
",2021-02-03T02:52:52Z
772179557,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->



No significant bundle size changes to report.

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 65b3132ce04c720e7804f7658b4f735ffe79f7e5
</p>
",2021-02-03T02:55:40Z
772179704,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->



No significant bundle size changes to report.

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 65b3132ce04c720e7804f7658b4f735ffe79f7e5
</p>
",2021-02-03T02:56:01Z
772226649,"Cool, is there any user-land example of it so we can try this?",2021-02-03T04:52:47Z
772339553,"> [https://reactjs.org/blog/2015/12/16/ismounted-antipattern.html](url)
> By understanding this article, setting a variable to control whether the update of state is an anti pattern?

I think the part about promises in that article is just a bit unfortunate. They're basically just abstracting the `isMounted` call into `makeCancelable`. 

The takeaway from this article is that you should cancel your async tasks in cleanup functions instead of wrapping every update in e.g. `isMountedRef.current`. For promises that does look like you're just re-implementing `isMounted`. But for e.g. timeouts you should use `clearTimeout` instead of wrapping the deferred update in `isMounted`. Generally, I'd say you should move your mental model from ""is mounted?"" to ""is cancelled?"". ""is mounted"" breaks down if you have effects with dependencies where the cleanup function doesn't necessarily run when the component unmounts.",2021-02-03T08:46:32Z
772361851,"Consuming multiple contexts is very good feature as it reduces deep level of rendered component tree, which is good for performance. Also not everyone yet uses hooks api.
",2021-02-03T09:23:17Z
772402934,"@gaearon hi can you check out this, is this a correct concurrent mode ready cache?
https://codesandbox.io/s/dreamy-elion-0kzkl",2021-02-03T10:27:57Z
772417257,"This is proof of concept that this feature can be implemented with ease

https://github.com/Strate/react/commit/0e0ac678765e068be18e4f6030e92c3f8a4bc7ff",2021-02-03T10:51:53Z
772448291,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20721/builds/98237) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 0e0ac678765e068be18e4f6030e92c3f8a4bc7ff:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-jhde8)| Configuration |
",2021-02-03T11:44:54Z
772449542,"
<!--
  0 failure: 
  0 warning: 
  
  3 markdown notices
  DangerID: danger-id-experimental;
-->




  <details>
  <summary>Details of bundled changes.</summary>

  <p>Comparing: 0e526bcec2a2940eb2cea6204efab76a2e4d7c0d...0e0ac678765e068be18e4f6030e92c3f8a4bc7ff</p>


  
## react-dom
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactDOM-profiling.js | +0.1% | -0.1% | 403.18 KB | 403.75 KB | 74.9 KB | 74.84 KB | FB_WWW_PROFILING
react-dom-server.browser.development.js | 0.0% | 0.0% | 145.08 KB | 145.08 KB | 36.93 KB | 36.93 KB | UMD_DEV
react-dom-server.node.development.js | 0.0% | 0.0% | 138.89 KB | 138.89 KB | 36.75 KB | 36.75 KB | NODE_DEV
**react-dom-server.browser.production.min.js** | **0.0%** | **0.0%** | **20.42 KB** | **20.42 KB** | **7.57 KB** | **7.57 KB** | **UMD_PROD**
**ReactDOMTesting-prod.js** | **:small_red_triangle:+0.2%** | **-0.1%** | **377.83 KB** | **378.41 KB** | **71.67 KB** | **71.58 KB** | **FB_WWW_PROD**
react-dom.development.js | +0.1% | 0.0% | 987.93 KB | 988.65 KB | 216.14 KB | 216.24 KB | UMD_DEV
**react-dom.production.min.js** | **:small_red_triangle:+0.2%** | **:small_red_triangle:+0.2%** | **125.7 KB** | **125.93 KB** | **41.23 KB** | **41.32 KB** | **UMD_PROD**
react-dom.profiling.min.js | +0.2% | +0.2% | 131.39 KB | 131.62 KB | 42.93 KB | 43.04 KB | UMD_PROFILING
react-dom-unstable-fizz.browser.development.js | 0.0% | +0.1% | 5.15 KB | 5.15 KB | 1.76 KB | 1.76 KB | UMD_DEV
react-dom.development.js | +0.1% | 0.0% | 940.22 KB | 940.9 KB | 213.21 KB | 213.3 KB | NODE_DEV
ReactDOMForked-dev.js | 0.0% | 0.0% | 1002.48 KB | 1002.48 KB | 222.71 KB | 222.71 KB | FB_WWW_DEV
**react-dom-unstable-fizz.browser.production.min.js** | **0.0%** | **:small_red_triangle:+0.1%** | **1.22 KB** | **1.22 KB** | **711 B** | **712 B** | **UMD_PROD**
**react-dom-unstable-fizz.node.production.min.js** | **0.0%** | **-0.2%** | **1.17 KB** | **1.17 KB** | **666 B** | **665 B** | **NODE_PROD**
**react-dom.production.min.js** | **:small_red_triangle:+0.2%** | **:small_red_triangle:+0.3%** | **125.86 KB** | **126.11 KB** | **40.56 KB** | **40.7 KB** | **NODE_PROD**
react-dom.profiling.min.js | +0.2% | +0.3% | 131.73 KB | 131.98 KB | 42.3 KB | 42.42 KB | NODE_PROFILING
react-dom-unstable-fizz.browser.development.js | 0.0% | +0.1% | 4.68 KB | 4.68 KB | 1.66 KB | 1.66 KB | NODE_DEV
ReactDOM-dev.js | +0.1% | 0.0% | 1002.47 KB | 1003.23 KB | 222.91 KB | 223.01 KB | FB_WWW_DEV
**react-dom-unstable-fizz.browser.production.min.js** | **0.0%** | **:small_red_triangle:+0.2%** | **1.01 KB** | **1.01 KB** | **615 B** | **616 B** | **NODE_PROD**
**ReactDOM-prod.js** | **:small_red_triangle:+0.1%** | **-0.1%** | **384.79 KB** | **385.36 KB** | **71.72 KB** | **71.64 KB** | **FB_WWW_PROD**
react-dom-server.browser.development.js | 0.0% | 0.0% | 137.62 KB | 137.62 KB | 36.5 KB | 36.5 KB | NODE_DEV
**react-dom-server.browser.production.min.js** | **0.0%** | **0.0%** | **20.33 KB** | **20.33 KB** | **7.53 KB** | **7.53 KB** | **NODE_PROD**
react-dom-test-utils.development.js | 0.0% | 0.0% | 71.37 KB | 71.37 KB | 19.33 KB | 19.33 KB | UMD_DEV
ReactDOMServer-dev.js | 0.0% | 0.0% | 142.52 KB | 142.52 KB | 36.62 KB | 36.63 KB | FB_WWW_DEV
**react-dom-test-utils.production.min.js** | **0.0%** | **-0.0%** | **13.71 KB** | **13.71 KB** | **5.32 KB** | **5.32 KB** | **UMD_PROD**
ReactDOMTesting-dev.js | +0.1% | 0.0% | 925.88 KB | 926.64 KB | 208.54 KB | 208.64 KB | FB_WWW_DEV

## react-native-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactNativeRenderer-profiling.js | +0.2% | -0.1% | 286.73 KB | 287.25 KB | 51.43 KB | 51.36 KB | RN_OSS_PROFILING
ReactFabric-dev.js | +0.1% | +0.1% | 677.31 KB | 678.08 KB | 146.4 KB | 146.49 KB | RN_OSS_DEV
**ReactFabric-prod.js** | **:small_red_triangle:+0.2%** | **-0.1%** | **267.62 KB** | **268.13 KB** | **47.9 KB** | **47.83 KB** | **RN_OSS_PROD**
ReactFabric-profiling.js | +0.2% | -0.1% | 279.62 KB | 280.13 KB | 50.15 KB | 50.08 KB | RN_OSS_PROFILING
ReactNativeRenderer-dev.js | +0.1% | +0.1% | 695.96 KB | 696.72 KB | 151.04 KB | 151.14 KB | RN_OSS_DEV
**ReactNativeRenderer-prod.js** | **:small_red_triangle:+0.2%** | **-0.2%** | **274.77 KB** | **275.28 KB** | **49.18 KB** | **49.08 KB** | **RN_OSS_PROD**

## react-test-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-test-renderer.development.js | +0.1% | +0.1% | 639.91 KB | 640.63 KB | 135.04 KB | 135.13 KB | UMD_DEV
**react-test-renderer.production.min.js** | **:small_red_triangle:+0.3%** | **:small_red_triangle:+0.4%** | **80.3 KB** | **80.55 KB** | **25.5 KB** | **25.61 KB** | **UMD_PROD**
ReactTestRenderer-dev.js | +0.1% | +0.1% | 604.29 KB | 605.05 KB | 131.08 KB | 131.18 KB | RN_FB_DEV
**ReactTestRenderer-prod.js** | **:small_red_triangle:+0.2%** | **-0.2%** | **235.51 KB** | **236 KB** | **43.2 KB** | **43.09 KB** | **RN_FB_PROD**
ReactTestRenderer-profiling.js | +0.2% | -0.2% | 247.35 KB | 247.84 KB | 45.39 KB | 45.3 KB | RN_FB_PROFILING
react-test-renderer.development.js | +0.1% | +0.1% | 609.57 KB | 610.25 KB | 133.44 KB | 133.53 KB | NODE_DEV
**react-test-renderer.production.min.js** | **:small_red_triangle:+0.3%** | **:small_red_triangle:+0.3%** | **80.13 KB** | **80.38 KB** | **25.15 KB** | **25.21 KB** | **NODE_PROD**
ReactTestRenderer-dev.js | +0.1% | +0.1% | 616.58 KB | 617.34 KB | 132.42 KB | 132.51 KB | FB_WWW_DEV

## react-art
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactART-dev.js | +0.1% | +0.1% | 668.84 KB | 669.6 KB | 142.15 KB | 142.24 KB | FB_WWW_DEV
react-art.development.js | +0.1% | +0.1% | 725.06 KB | 725.78 KB | 154.21 KB | 154.31 KB | UMD_DEV
**react-art.production.min.js** | **:small_red_triangle:+0.2%** | **:small_red_triangle:+0.4%** | **114.88 KB** | **115.12 KB** | **35.84 KB** | **35.98 KB** | **UMD_PROD**
react-art.development.js | +0.1% | +0.1% | 624.62 KB | 625.31 KB | 136.1 KB | 136.2 KB | NODE_DEV
**react-art.production.min.js** | **:small_red_triangle:+0.3%** | **:small_red_triangle:+0.2%** | **79.82 KB** | **80.07 KB** | **25.03 KB** | **25.09 KB** | **NODE_PROD**
**ReactART-prod.js** | **:small_red_triangle:+0.2%** | **-0.3%** | **247.65 KB** | **248.22 KB** | **44.2 KB** | **44.08 KB** | **FB_WWW_PROD**

## react-reconciler
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-reconciler-reflection.development.js | 0.0% | 0.0% | 16.01 KB | 16.01 KB | 4.88 KB | 4.88 KB | NODE_DEV
**react-reconciler-reflection.production.min.js** | **0.0%** | **:small_red_triangle:+0.1%** | **2.63 KB** | **2.63 KB** | **1.13 KB** | **1.14 KB** | **NODE_PROD**
react-reconciler.development.js | +0.1% | +0.1% | 682.48 KB | 683.16 KB | 146.06 KB | 146.16 KB | NODE_DEV
**react-reconciler.production.min.js** | **:small_red_triangle:+0.3%** | **:small_red_triangle:+0.2%** | **89.89 KB** | **90.14 KB** | **27.97 KB** | **28.01 KB** | **NODE_PROD**
react-reconciler.profiling.min.js | +0.3% | +0.3% | 95.67 KB | 95.92 KB | 29.7 KB | 29.79 KB | NODE_PROFILING

  </details>
  

ReactDOM: size: 0.0%, gzip: 0.0%

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 0e0ac678765e068be18e4f6030e92c3f8a4bc7ff
</p>
",2021-02-03T11:47:35Z
772449598,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->




  <details>
  <summary>Details of bundled changes.</summary>

  <p>Comparing: 0e526bcec2a2940eb2cea6204efab76a2e4d7c0d...0e0ac678765e068be18e4f6030e92c3f8a4bc7ff</p>


  
## react-dom
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactDOM-profiling.js | +0.1% | -0.1% | 414.6 KB | 415.21 KB | 76.68 KB | 76.57 KB | FB_WWW_PROFILING
react-dom-server.browser.development.js | 0.0% | 0.0% | 143.17 KB | 143.17 KB | 36.66 KB | 36.67 KB | UMD_DEV
react-dom-server.node.development.js | 0.0% | 0.0% | 137.09 KB | 137.09 KB | 36.46 KB | 36.46 KB | NODE_DEV
**ReactDOMTesting-prod.js** | **:small_red_triangle:+0.2%** | **-0.1%** | **391.05 KB** | **391.65 KB** | **73.82 KB** | **73.72 KB** | **FB_WWW_PROD**
react-dom.development.js | +0.1% | 0.0% | 935.38 KB | 936.1 KB | 206.06 KB | 206.15 KB | UMD_DEV
**react-dom.production.min.js** | **:small_red_triangle:+0.2%** | **:small_red_triangle:+0.3%** | **119.34 KB** | **119.57 KB** | **39.26 KB** | **39.38 KB** | **UMD_PROD**
react-dom.profiling.min.js | +0.2% | +0.2% | 123.44 KB | 123.67 KB | 40.5 KB | 40.6 KB | UMD_PROFILING
react-dom.development.js | +0.1% | 0.0% | 890.17 KB | 890.85 KB | 203.35 KB | 203.44 KB | NODE_DEV
ReactDOMForked-dev.js | 0.0% | 0.0% | 1 MB | 1 MB | 227.54 KB | 227.54 KB | FB_WWW_DEV
**react-dom.production.min.js** | **:small_red_triangle:+0.2%** | **:small_red_triangle:+0.1%** | **119.42 KB** | **119.68 KB** | **38.57 KB** | **38.62 KB** | **NODE_PROD**
**ReactDOMForked-prod.js** | **0.0%** | **0.0%** | **396.17 KB** | **396.17 KB** | **73.48 KB** | **73.48 KB** | **FB_WWW_PROD**
react-dom.profiling.min.js | +0.2% | +0.1% | 123.68 KB | 123.93 KB | 39.81 KB | 39.86 KB | NODE_PROFILING
ReactDOM-dev.js | +0.1% | 0.0% | 1 MB | 1 MB | 227.74 KB | 227.83 KB | FB_WWW_DEV
**ReactDOM-prod.js** | **:small_red_triangle:+0.2%** | **-0.2%** | **396.17 KB** | **396.77 KB** | **73.47 KB** | **73.36 KB** | **FB_WWW_PROD**
react-dom-server.browser.development.js | 0.0% | 0.0% | 135.82 KB | 135.82 KB | 36.21 KB | 36.21 KB | NODE_DEV
react-dom-test-utils.development.js | 0.0% | 0.0% | 71.36 KB | 71.36 KB | 19.32 KB | 19.32 KB | UMD_DEV
ReactDOMServer-dev.js | 0.0% | 0.0% | 146.55 KB | 146.55 KB | 37.64 KB | 37.64 KB | FB_WWW_DEV
ReactDOMTesting-dev.js | +0.1% | 0.0% | 954.22 KB | 954.98 KB | 214.23 KB | 214.33 KB | FB_WWW_DEV

## react-native-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactNativeRenderer-profiling.js | +0.2% | -0.1% | 286.72 KB | 287.23 KB | 51.42 KB | 51.35 KB | RN_OSS_PROFILING
ReactFabric-profiling.js | +0.2% | -0.1% | 279.57 KB | 280.08 KB | 50.12 KB | 50.05 KB | RN_FB_PROFILING
ReactFabric-dev.js | +0.1% | +0.1% | 677.3 KB | 678.06 KB | 146.39 KB | 146.48 KB | RN_OSS_DEV
**ReactFabric-prod.js** | **:small_red_triangle:+0.2%** | **-0.1%** | **267.61 KB** | **268.12 KB** | **47.89 KB** | **47.82 KB** | **RN_OSS_PROD**
ReactFabric-profiling.js | +0.2% | -0.1% | 279.61 KB | 280.12 KB | 50.14 KB | 50.07 KB | RN_OSS_PROFILING
ReactNativeRenderer-dev.js | +0.1% | +0.1% | 695.94 KB | 696.71 KB | 151.03 KB | 151.13 KB | RN_OSS_DEV
ReactFabric-dev.js | +0.1% | +0.1% | 682.7 KB | 683.47 KB | 147.25 KB | 147.35 KB | RN_FB_DEV
**ReactNativeRenderer-prod.js** | **:small_red_triangle:+0.2%** | **-0.2%** | **274.76 KB** | **275.27 KB** | **49.17 KB** | **49.07 KB** | **RN_OSS_PROD**
**ReactFabric-prod.js** | **:small_red_triangle:+0.2%** | **-0.1%** | **267.58 KB** | **268.09 KB** | **47.87 KB** | **47.81 KB** | **RN_FB_PROD**
ReactNativeRenderer-dev.js | +0.1% | +0.1% | 701.34 KB | 702.1 KB | 151.9 KB | 152.01 KB | RN_FB_DEV
**ReactNativeRenderer-prod.js** | **:small_red_triangle:+0.2%** | **-0.2%** | **274.71 KB** | **275.22 KB** | **49.15 KB** | **49.05 KB** | **RN_FB_PROD**
ReactNativeRenderer-profiling.js | +0.2% | -0.1% | 286.67 KB | 287.18 KB | 51.4 KB | 51.33 KB | RN_FB_PROFILING

## react-test-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-test-renderer.development.js | +0.1% | +0.1% | 623.24 KB | 623.96 KB | 131.68 KB | 131.78 KB | UMD_DEV
**react-test-renderer.production.min.js** | **:small_red_triangle:+0.3%** | **:small_red_triangle:+0.4%** | **77.95 KB** | **78.19 KB** | **24.66 KB** | **24.76 KB** | **UMD_PROD**
ReactTestRenderer-dev.js | +0.1% | +0.1% | 604.27 KB | 605.04 KB | 131.07 KB | 131.17 KB | RN_FB_DEV
**ReactTestRenderer-prod.js** | **:small_red_triangle:+0.2%** | **-0.2%** | **235.5 KB** | **235.98 KB** | **43.19 KB** | **43.09 KB** | **RN_FB_PROD**
ReactTestRenderer-profiling.js | +0.2% | -0.2% | 247.34 KB | 247.83 KB | 45.39 KB | 45.29 KB | RN_FB_PROFILING
react-test-renderer.development.js | +0.1% | +0.1% | 593.73 KB | 594.41 KB | 130.09 KB | 130.18 KB | NODE_DEV
**react-test-renderer.production.min.js** | **:small_red_triangle:+0.3%** | **:small_red_triangle:+0.5%** | **77.76 KB** | **78.01 KB** | **24.33 KB** | **24.44 KB** | **NODE_PROD**
ReactTestRenderer-dev.js | +0.1% | +0.1% | 616.56 KB | 617.33 KB | 132.41 KB | 132.51 KB | FB_WWW_DEV

## react-art
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactART-dev.js | +0.1% | +0.1% | 678.85 KB | 679.61 KB | 144.2 KB | 144.29 KB | FB_WWW_DEV
react-art.development.js | +0.1% | +0.1% | 682.79 KB | 683.51 KB | 145.76 KB | 145.86 KB | UMD_DEV
**react-art.production.min.js** | **:small_red_triangle:+0.2%** | **:small_red_triangle:+0.3%** | **110.09 KB** | **110.33 KB** | **34.37 KB** | **34.45 KB** | **UMD_PROD**
react-art.development.js | +0.1% | +0.1% | 584.38 KB | 585.06 KB | 127.81 KB | 127.91 KB | NODE_DEV
**react-art.production.min.js** | **:small_red_triangle:+0.3%** | **:small_red_triangle:+0.4%** | **75.09 KB** | **75.34 KB** | **23.51 KB** | **23.59 KB** | **NODE_PROD**
**ReactART-prod.js** | **:small_red_triangle:+0.2%** | **-0.2%** | **254.83 KB** | **255.43 KB** | **45.48 KB** | **45.39 KB** | **FB_WWW_PROD**

## react-reconciler
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
**react-reconciler-reflection.production.min.js** | **0.0%** | **:small_red_triangle:+0.1%** | **2.62 KB** | **2.62 KB** | **1.13 KB** | **1.13 KB** | **NODE_PROD**
react-reconciler.development.js | +0.1% | +0.1% | 639.33 KB | 640.01 KB | 137.17 KB | 137.27 KB | NODE_DEV
**react-reconciler.production.min.js** | **:small_red_triangle:+0.3%** | **:small_red_triangle:+0.1%** | **84.64 KB** | **84.89 KB** | **26.38 KB** | **26.42 KB** | **NODE_PROD**
react-reconciler.profiling.min.js | +0.3% | +0.3% | 88.81 KB | 89.06 KB | 27.61 KB | 27.69 KB | NODE_PROFILING

  </details>
  

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 0e0ac678765e068be18e4f6030e92c3f8a4bc7ff
</p>
",2021-02-03T11:47:43Z
772524640,@Jack-Works This API has not been released except for our _experimental_ NPM release. React DevTools builds from that release though and you can see an example of the new cache used in it if you'd like to: #20548,2021-02-03T13:55:02Z
772528039,"How did #20717 break the `--commit` param?

That PR only affected the `scripts/release/download-experimental-build.js` which I'm the only person who uses (and I tested it).

**Edit** Oh, it broke it if you pasted in the reproducible run with the `--build` param. Gotcha!",2021-02-03T13:56:49Z
772554205,"OK, have found the solution for me.

I am using NginX and did not have quite the correct settings for WordPress.

`try_files $uri $uri/ /index.php$is_args$args;`

I have updated my Wiki and it is here:-

http://wiki.indie-it.com/wiki/WordPress#Error:_Minified_React_error_.2331

Regards,

Paul
",2021-02-03T14:33:36Z
772578394,I think I ran through all of the various scripts and the README to make sure things now match up and work.,2021-02-03T15:07:22Z
772578907,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20723/builds/98301) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 3203821117ef032165731c312958fc848d9b104f:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-66f8e)| Configuration |
",2021-02-03T15:08:04Z
772580499,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-experimental;
-->



No significant bundle size changes to report.

## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 3203821117ef032165731c312958fc848d9b104f
</p>
",2021-02-03T15:10:15Z
772580878,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->



No significant bundle size changes to report.

## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 3203821117ef032165731c312958fc848d9b104f
</p>
",2021-02-03T15:10:52Z
772648367,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20724/builds/98325) or the icon next to each commit SHA.",2021-02-03T16:40:07Z
772649998,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




## Size changes

<p>Comparing: b936ab660a82a936450f7742b2119cc30f54f97d...d679dc26a3813017892cd259565e5be95f50b92d</p>

### Stable channel

No significant bundle size changes to report.

### Experimental channel

No significant bundle size changes to report.

<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against d679dc26a3813017892cd259565e5be95f50b92d
</p>
",2021-02-03T16:42:19Z
772778220,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20726/builds/98363) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit ae1c4b8e2ded5f825a9ec6084c892438d2f4d329:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-i44d8)| Configuration |
",2021-02-03T19:51:42Z
772779560,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




## Size changes

<p>Comparing: 0935a1db3d2c1b9c2b09ea348d0db929757f9de0...ae1c4b8e2ded5f825a9ec6084c892438d2f4d329</p>

### Stable channel

No significant bundle size changes to report.

### Experimental channel

No significant bundle size changes to report.

<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against ae1c4b8e2ded5f825a9ec6084c892438d2f4d329
</p>
",2021-02-03T19:54:06Z
772783257,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20727/builds/98369) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit cb12471345f79ba03d2e93db159d9aa4fba5880b:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-z87h5)| Configuration |
",2021-02-03T20:00:30Z
772784557,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




## Size changes

<p>Comparing: 0935a1db3d2c1b9c2b09ea348d0db929757f9de0...cb12471345f79ba03d2e93db159d9aa4fba5880b</p>

### Stable channel

No significant bundle size changes to report.

### Experimental channel

No significant bundle size changes to report.

<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against cb12471345f79ba03d2e93db159d9aa4fba5880b
</p>
",2021-02-03T20:02:40Z
772846935,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20728/builds/98439) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 5ea577a062f9c2d7a542543457ac2e88b45eb4e5:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-wrql5)| Configuration |
",2021-02-03T21:48:30Z
772888454,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20729/builds/98437) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 20aa1f55f7964d67b5edb0605959c0ad7ce4d818:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-whnir)| Configuration |
",2021-02-03T23:06:38Z
772899989,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




## Size changes

<p>Comparing: 3be750eee9cda6c20fc3e69eb454215125609d37...20aa1f55f7964d67b5edb0605959c0ad7ce4d818</p>

### Stable channel

No significant bundle size changes to report.

### Experimental channel

No significant bundle size changes to report.

<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 20aa1f55f7964d67b5edb0605959c0ad7ce4d818
</p>
",2021-02-03T23:32:03Z
772900513,Going to merge this to unbreak https://github.com/facebook/react/pull/20728,2021-02-03T23:33:05Z
772903927,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




## Size changes

<p>Comparing: 00e38c80b28fd9b5e99b890d85e080edc2fcc49f...5ea577a062f9c2d7a542543457ac2e88b45eb4e5</p>

### Stable channel

No significant bundle size changes to report.

### Experimental channel

No significant bundle size changes to report.

<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 5ea577a062f9c2d7a542543457ac2e88b45eb4e5
</p>
",2021-02-03T23:40:54Z
772905179,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




## Size changes

<p>Comparing: 00e38c80b28fd9b5e99b890d85e080edc2fcc49f...cce24f6e5f4557144a6684af4a2a2392913a7e4e</p>

### Stable channel

No significant bundle size changes to report.

### Experimental channel

No significant bundle size changes to report.

<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against cce24f6e5f4557144a6684af4a2a2392913a7e4e
</p>
",2021-02-03T23:43:55Z
772911367,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20731/builds/98448) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit aa59e4fa9d59ebea9c2fea7bbe05429b77a36f4e:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-fh2f9)| Configuration |
",2021-02-03T23:58:14Z
772912358,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




## Size changes

<p>Comparing: 00e38c80b28fd9b5e99b890d85e080edc2fcc49f...aa59e4fa9d59ebea9c2fea7bbe05429b77a36f4e</p>

### Stable channel

No significant bundle size changes to report.

### Experimental channel

No significant bundle size changes to report.

<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against aa59e4fa9d59ebea9c2fea7bbe05429b77a36f4e
</p>
",2021-02-04T00:00:42Z
772952633,"ok, thanks.",2021-02-04T01:21:31Z
772966342,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20732/builds/98465) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit ab3712d685ad3ab429d7f78c9daf094bcd2f5c97:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-tnsmx)| Configuration |
",2021-02-04T01:58:53Z
772967230,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




## Size changes

<p>Comparing: 4c019585e875b4197519052604764652a1ccb06a...97daa527245129d94102182fa25e2a59a919df26</p>

### Stable channel

No significant bundle size changes to report.

### Experimental channel

No significant bundle size changes to report.

<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 97daa527245129d94102182fa25e2a59a919df26
</p>
",2021-02-04T02:01:03Z
772981964,"> Also you can put `keyPressHandler` function inside `useEffect` body and use `setTest` to getting previous state not from closure, but from second form with callback.
> 
> ```
>   const [text, setText] = useState('');
>  
>   useEffect(() => {
>     const keyPressHandler = (e) => {
>       setText((text) => text + e.key);
>     };
> 
>     document.addEventListener('keydown', keyPressHandler);
>     return () => {
>       document.removeEventListener('keydown', keyPressHandler);
>     };
>   }, []);
> ```

Worked for me, thanks",2021-02-04T02:38:45Z
773005372,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




## Size changes

<p>Comparing: c64d6d21be19e179bd6a2d659fa78180051b577f...5e4b8bd011ed3c175775b6c1c67ea7a367da8181</p>

### Stable channel

No significant bundle size changes to report.

### Experimental channel

No significant bundle size changes to report.

<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 5e4b8bd011ed3c175775b6c1c67ea7a367da8181
</p>
",2021-02-04T03:43:55Z
773021883,"Unfortunately this isn't fixed yet, still working with the team to debug",2021-02-04T04:36:10Z
773040485,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




## Size changes

<p>Comparing: c64d6d21be19e179bd6a2d659fa78180051b577f...ae414c3d70114383c7c8f31518cc7c8ec34fd5c0</p>

### Stable channel

No significant bundle size changes to report.

### Experimental channel

No significant bundle size changes to report.

<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against ae414c3d70114383c7c8f31518cc7c8ec34fd5c0
</p>
",2021-02-04T05:28:36Z
773057072,Too annoyed at how difficult CircleCI makes this to figure this out right now,2021-02-04T06:08:56Z
773201878,"@acdlite Is the goal to stop the failing job and all jobs that require it or can the jobs requiring `get_base_build` continue?

If you just want to exit `get_base_build` successfully and `sizebot` handles the missing base build gracefully you could use

```diff
command: |
+     set +e
      git fetch origin master
      cd ./scripts/release && yarn && cd ../../
      scripts/release/download-experimental-build.js --commit=$(git merge-base HEAD origin/master)
      mv ./build2 ./base-build
+     exit 0
```

`set +e` means the command won't immediately exit on the first error. The trailing `exit 0` ensures that the command exits with `0` regardless of the exit codes of the other scripts within that command.",2021-02-04T10:26:52Z
773232948,"Thanks for helping me find the actual problem, I'll close this issue now. I agree it would be nice with some sort of warning. 

>In the end you're calling a version of `dispatch` that wasn't committed. But it's not clear if this would conflict with render phase updates.

Which `dispatch` do you mean here? Do you have pointers to any resources for learning more about the internals of how this works. Would be fun to try and work out exactly what's happening, but think I have some knowledge gaps I need to fill first.",2021-02-04T11:19:23Z
773270794,"> As suggested in the warning message, you can do like that
> 
> ```
> const initFetch = useCallback(() => {
>     dispatch(fetchPosts());
>   }, [dispatch]);
> 
>   useEffect(() => {
>     initFetch();
>   }, [initFetch]);
> ```

This is what solved my problem. Don't forget to 
`import  React, { useCallback } from ""react""`
",2021-02-04T12:29:58Z
773328100,"1. All state should be stored in the `useRef` of `useState` hooks.

```js
const someGlobalCache = new Map() // wrong
export function useMyHooks() {
    // do something with global cache
}
```

2. All states should be immutable (important!)

During the concurrent rendering, React will copy refs and states **by reference** (in my understanding). So any mutation will cause bugs in the concurrent mode.

```js
function useX() {
    const ref = useRef({})
    useEffect(() => {
        ref.current.xyz = 1 // Wrong!
        ref.current = { ...ref.current, xyz: 1 } // Safe
    })
}
```

(Originally posted in https://github.com/react-hook-form/react-hook-form/issues/2333#issuecomment-773325988)

Does my understanding right? @gaearon Thanks!",2021-02-04T14:09:44Z
773395815,"I'm sorry you experienced this bug! ðŸ™‡ 

Looks like this problem was already reported though (#20431) so I'm going to mark this issue as a duplicate and close it. If you have additional context that might help us repro this problem, please leave a comment on the other issue!

Thank you~",2021-02-04T15:31:43Z
773421517,"Hi @gulshanyadav01! 

Thank you for your pull request and welcome to our community. 

# Action Required

In order to merge **any pull request** (code, docs, etc.), we **require** contributors to sign our **Contributor License Agreement**, and we don't seem to have one on file for you.

# Process

In order for us to review and merge your suggested changes, please sign at <https://code.facebook.com/cla>. **If you are contributing on behalf of someone else (eg your employer)**, the individual CLA may not be sufficient and your employer may need to sign the corporate CLA.

Once the CLA is signed, our tooling will perform checks and validations. Afterwards, the **pull request will be tagged** with `CLA signed`. The tagging process may take up to 1 hour after signing. Please give it that time before contacting us about it.

If you have received this in error or have any questions, please contact us at [cla@fb.com](mailto:cla@fb.com?subject=CLA%20for%20facebook%2Freact%20%2320735). Thanks!",2021-02-04T16:07:57Z
773426134,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




## Size changes

<p>Comparing: 365080f4f592c813f8ebd8bc4118802cd5d3b254...422f4c2f2f75cd8573ff2785961671823661a159</p>

### Stable channel

No significant bundle size changes to report.

### Experimental channel

No significant bundle size changes to report.

<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 422f4c2f2f75cd8573ff2785961671823661a159
</p>
",2021-02-04T16:14:21Z
773432657,Thanks for the suggestion but I believe [this is correct](https://www.merriam-webster.com/dictionary/amenable)!,2021-02-04T16:23:24Z
773432964,Fixed!,2021-02-04T16:23:48Z
773433326,:),2021-02-04T16:24:17Z
773472287,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




## Size changes

<p>Comparing: b12d0078a4503a2e4397e65c9060df56193d7b27...85d8de68afd0ab7e183309990b642b4fb3a0433a</p>

### Stable channel

No significant bundle size changes to report.

### Experimental channel

No significant bundle size changes to report.

<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 85d8de68afd0ab7e183309990b642b4fb3a0433a
</p>
",2021-02-04T17:19:20Z
773477995,"React only accepts immutable input. A one-shot iterator wouldn't be immutable and so is not supported. Only *iterables* that can produce multiple iterators over the same immutable input are supported.

A user space description of why this is important might be something like this:

```
function Foo({ menuItems: ... }) {
  let [state, ...] = useState(...);
  return menuItems.map(...);
}
``` 

This component itself might rerender multiple times without the parent doing so. Therefore if you pass a one-shot iterable in to this component - rerendering wouldn't work.

It'd suggest you explore Number.range returning an *iterable* that can produce multiple iterators over the same range since the input range is immutable. (I think we'd probably want to object to a collection approach that is one shot and not compatible with an immutable approach. Like you shouldn't need to use toArray for something like this since it's inefficient.)",2021-02-04T17:28:14Z
773478863,Can we somehow detect a one-shot iterator? Maybe some check like `x[Symbol.iterator]() === x` should warn when true?,2021-02-04T17:29:37Z
773480897,I really think it was a mistake for `.values()` to behave this way when it could've been an iterable. (.NET got it right as usual.),2021-02-04T17:32:48Z
773583641,"We're sorry about this problem. We only just became aware of it within the last few minutes.

Since it is a Code Sandbox issue (and not a React issue) I'm going to go head and close this issue here, but the React team has notified the Code Sandbox team and they are currently working to resolve the issue.",2021-02-04T20:27:32Z
773588456,">All state should be stored in the useRef of useState hooks.

I don't know what you mean by this. If you mean the Cache, no, it should not be stored in either of these, because they get destroyed when Suspending before mount. We have some built-in helpers to hold the Cache coming later, but they're not a stable API yet. You can look at the Server Components demo to see how they can be wired up in experimental releases.",2021-02-04T20:36:38Z
773590862,"Maybe this example can help:

https://codesandbox.io/s/wonderful-sinoussi-obo84?file=/src/App.js

Again, note these are experimental APIs and we don't recommend building anything on top of them at the moment.",2021-02-04T20:41:10Z
773610777,"This should be fixed now, big shout out to the Code Sandbox team for fixing this so quickly!",2021-02-04T21:19:50Z
773655071,any love for this PR? ,2021-02-04T22:50:39Z
773663361,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




## Size changes

<p>Comparing: 4e08fb10c999c21d301d1cda3c3aefeab893d0e9...9a114ade3acbc8c6c6850db081b406ef3586b6f4</p>

### Stable channel


  <details>
  <summary>Details of bundled changes.</summary>

  
## react-native-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactNativeRenderer-profiling.js | -0.0% | 0.0% | 286.76 KB | 286.72 KB | 51.41 KB | 51.42 KB | RN_OSS_PROFILING
ReactFabric-profiling.js | -0.8% | -0.4% | 281.95 KB | 279.57 KB | 50.32 KB | 50.12 KB | RN_FB_PROFILING
ReactFabric-dev.js | -0.5% | -0.1% | 680.57 KB | 676.99 KB | 146.4 KB | 146.27 KB | RN_OSS_DEV
**ReactFabric-prod.js** | **-0.9%** | **-0.4%** | **269.99 KB** | **267.61 KB** | **48.08 KB** | **47.89 KB** | **RN_OSS_PROD**
ReactFabric-profiling.js | -0.8% | -0.4% | 281.99 KB | 279.61 KB | 50.34 KB | 50.14 KB | RN_OSS_PROFILING
ReactNativeRenderer-dev.js | 0.0% | 0.0% | 695.54 KB | 695.63 KB | 150.86 KB | 150.92 KB | RN_OSS_DEV
ReactFabric-dev.js | -0.5% | -0.1% | 685.97 KB | 682.39 KB | 147.27 KB | 147.13 KB | RN_FB_DEV
**ReactNativeRenderer-prod.js** | **-0.0%** | **0.0%** | **274.79 KB** | **274.76 KB** | **49.15 KB** | **49.17 KB** | **RN_OSS_PROD**
**ReactFabric-prod.js** | **-0.9%** | **-0.4%** | **269.96 KB** | **267.58 KB** | **48.07 KB** | **47.87 KB** | **RN_FB_PROD**
ReactNativeRenderer-dev.js | 0.0% | 0.0% | 700.94 KB | 701.03 KB | 151.73 KB | 151.78 KB | RN_FB_DEV
**ReactNativeRenderer-prod.js** | **-0.0%** | **0.0%** | **274.75 KB** | **274.71 KB** | **49.14 KB** | **49.15 KB** | **RN_FB_PROD**
ReactNativeRenderer-profiling.js | -0.0% | 0.0% | 286.71 KB | 286.67 KB | 51.39 KB | 51.4 KB | RN_FB_PROFILING

## react-test-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-test-renderer.development.js | 0.0% | +0.1% | 622.85 KB | 622.92 KB | 131.44 KB | 131.55 KB | UMD_DEV
**react-test-renderer.production.min.js** | **:small_red_triangle:+0.1%** | **:small_red_triangle:+0.1%** | **77.9 KB** | **77.94 KB** | **24.63 KB** | **24.65 KB** | **UMD_PROD**
ReactTestRenderer-dev.js | 0.0% | 0.0% | 603.87 KB | 603.97 KB | 130.9 KB | 130.95 KB | RN_FB_DEV
**ReactTestRenderer-prod.js** | **:small_red_triangle:+0.1%** | **-0.0%** | **235.32 KB** | **235.5 KB** | **43.2 KB** | **43.19 KB** | **RN_FB_PROD**
ReactTestRenderer-profiling.js | 0.0% | -0.1% | 247.24 KB | 247.34 KB | 45.41 KB | 45.39 KB | RN_FB_PROFILING
react-test-renderer.development.js | 0.0% | +0.1% | 593.34 KB | 593.41 KB | 129.87 KB | 129.95 KB | NODE_DEV
**react-test-renderer.production.min.js** | **:small_red_triangle:+0.1%** | **0.0%** | **77.71 KB** | **77.75 KB** | **24.31 KB** | **24.31 KB** | **NODE_PROD**
ReactTestRenderer-dev.js | 0.0% | 0.0% | 616.16 KB | 616.26 KB | 132.24 KB | 132.29 KB | FB_WWW_DEV

## react-dom
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactDOM-profiling.js | -0.0% | 0.0% | 414.67 KB | 414.6 KB | 76.65 KB | 76.68 KB | FB_WWW_PROFILING
**ReactDOMTesting-prod.js** | **-0.0%** | **0.0%** | **391.11 KB** | **391.05 KB** | **73.81 KB** | **73.82 KB** | **FB_WWW_PROD**
react-dom.development.js | 0.0% | 0.0% | 934.99 KB | 935.06 KB | 205.86 KB | 205.91 KB | UMD_DEV
**react-dom.production.min.js** | **0.0%** | **:small_red_triangle:+0.1%** | **119.3 KB** | **119.34 KB** | **39.22 KB** | **39.25 KB** | **UMD_PROD**
react-dom.profiling.min.js | 0.0% | +0.1% | 123.39 KB | 123.43 KB | 40.46 KB | 40.5 KB | UMD_PROFILING
react-dom.development.js | 0.0% | +0.1% | 889.78 KB | 889.86 KB | 203.11 KB | 203.21 KB | NODE_DEV
ReactDOMForked-dev.js | 0.0% | 0.0% | 1 MB | 1 MB | 227.34 KB | 227.4 KB | FB_WWW_DEV
**react-dom.production.min.js** | **0.0%** | **-0.1%** | **119.38 KB** | **119.42 KB** | **38.6 KB** | **38.56 KB** | **NODE_PROD**
**ReactDOMForked-prod.js** | **-0.0%** | **0.0%** | **396.24 KB** | **396.17 KB** | **73.46 KB** | **73.48 KB** | **FB_WWW_PROD**
react-dom.profiling.min.js | 0.0% | -0.1% | 123.63 KB | 123.67 KB | 39.83 KB | 39.8 KB | NODE_PROFILING
ReactDOMForked-profiling.js | -0.0% | 0.0% | 414.68 KB | 414.61 KB | 76.65 KB | 76.68 KB | FB_WWW_PROFILING
ReactDOM-dev.js | 0.0% | 0.0% | 1 MB | 1 MB | 227.54 KB | 227.6 KB | FB_WWW_DEV
**ReactDOM-prod.js** | **-0.0%** | **0.0%** | **396.23 KB** | **396.17 KB** | **73.46 KB** | **73.47 KB** | **FB_WWW_PROD**
ReactDOMServer-dev.js | 0.0% | 0.0% | 146.24 KB | 146.24 KB | 37.49 KB | 37.49 KB | FB_WWW_DEV
ReactDOMTesting-dev.js | 0.0% | 0.0% | 953.81 KB | 953.91 KB | 214.04 KB | 214.1 KB | FB_WWW_DEV

## react-art
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactART-dev.js | 0.0% | 0.0% | 678.45 KB | 678.54 KB | 144 KB | 144.05 KB | FB_WWW_DEV
react-art.development.js | 0.0% | +0.1% | 682.41 KB | 682.47 KB | 145.51 KB | 145.62 KB | UMD_DEV
**react-art.production.min.js** | **0.0%** | **:small_red_triangle:+0.2%** | **110.04 KB** | **110.08 KB** | **34.31 KB** | **34.36 KB** | **UMD_PROD**
react-art.development.js | 0.0% | +0.1% | 583.99 KB | 584.06 KB | 127.6 KB | 127.68 KB | NODE_DEV
**react-art.production.min.js** | **:small_red_triangle:+0.1%** | **:small_red_triangle:+0.1%** | **75.04 KB** | **75.08 KB** | **23.48 KB** | **23.5 KB** | **NODE_PROD**
**ReactART-prod.js** | **-0.1%** | **-0.1%** | **255 KB** | **254.83 KB** | **45.52 KB** | **45.48 KB** | **FB_WWW_PROD**

## react-reconciler
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-reconciler.development.js | -0.6% | -0.1% | 643.35 KB | 639.32 KB | 137.29 KB | 137.16 KB | NODE_DEV
**react-reconciler.production.min.js** | **-1.0%** | **-0.7%** | **85.52 KB** | **84.64 KB** | **26.56 KB** | **26.37 KB** | **NODE_PROD**
react-reconciler.profiling.min.js | -1.0% | -0.6% | 89.69 KB | 88.8 KB | 27.77 KB | 27.59 KB | NODE_PROFILING

  </details>
  

### Experimental channel


  <details>
  <summary>Details of bundled changes.</summary>

  
## react-native-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactNativeRenderer-profiling.js | -0.0% | 0.0% | 286.77 KB | 286.73 KB | 51.42 KB | 51.43 KB | RN_OSS_PROFILING
ReactFabric-dev.js | -0.5% | -0.1% | 680.58 KB | 677 KB | 146.41 KB | 146.28 KB | RN_OSS_DEV
**ReactFabric-prod.js** | **-0.9%** | **-0.4%** | **270 KB** | **267.62 KB** | **48.09 KB** | **47.9 KB** | **RN_OSS_PROD**
ReactFabric-profiling.js | -0.8% | -0.4% | 282 KB | 279.62 KB | 50.35 KB | 50.15 KB | RN_OSS_PROFILING
ReactNativeRenderer-dev.js | 0.0% | 0.0% | 695.55 KB | 695.65 KB | 150.87 KB | 150.92 KB | RN_OSS_DEV
**ReactNativeRenderer-prod.js** | **-0.0%** | **0.0%** | **274.8 KB** | **274.77 KB** | **49.16 KB** | **49.18 KB** | **RN_OSS_PROD**

## react-dom
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactDOM-profiling.js | -0.0% | 0.0% | 403.24 KB | 403.18 KB | 74.88 KB | 74.9 KB | FB_WWW_PROFILING
react-dom-server.browser.development.js | 0.0% | 0.0% | 144.75 KB | 144.75 KB | 36.78 KB | 36.78 KB | UMD_DEV
react-dom-server.node.development.js | 0.0% | 0.0% | 138.57 KB | 138.57 KB | 36.6 KB | 36.6 KB | NODE_DEV
**ReactDOMTesting-prod.js** | **-0.0%** | **0.0%** | **377.9 KB** | **377.83 KB** | **71.65 KB** | **71.67 KB** | **FB_WWW_PROD**
react-dom.development.js | 0.0% | 0.0% | 987.53 KB | 987.59 KB | 215.94 KB | 215.99 KB | UMD_DEV
**react-dom.production.min.js** | **0.0%** | **:small_red_triangle:+0.1%** | **125.64 KB** | **125.68 KB** | **41.19 KB** | **41.21 KB** | **UMD_PROD**
react-dom.profiling.min.js | 0.0% | 0.0% | 131.33 KB | 131.37 KB | 42.91 KB | 42.91 KB | UMD_PROFILING
react-dom.development.js | 0.0% | +0.1% | 939.82 KB | 939.89 KB | 212.94 KB | 213.05 KB | NODE_DEV
ReactDOMForked-dev.js | 0.0% | 0.0% | 1002.08 KB | 1002.17 KB | 222.51 KB | 222.58 KB | FB_WWW_DEV
**react-dom.production.min.js** | **0.0%** | **-0.1%** | **125.81 KB** | **125.84 KB** | **40.58 KB** | **40.54 KB** | **NODE_PROD**
**ReactDOMForked-prod.js** | **-0.0%** | **0.0%** | **384.86 KB** | **384.8 KB** | **71.71 KB** | **71.73 KB** | **FB_WWW_PROD**
react-dom.profiling.min.js | 0.0% | -0.1% | 131.67 KB | 131.71 KB | 42.32 KB | 42.28 KB | NODE_PROFILING
ReactDOMForked-profiling.js | -0.0% | 0.0% | 403.25 KB | 403.19 KB | 74.89 KB | 74.91 KB | FB_WWW_PROFILING
ReactDOM-dev.js | 0.0% | 0.0% | 1002.07 KB | 1002.16 KB | 222.71 KB | 222.78 KB | FB_WWW_DEV
**ReactDOM-prod.js** | **-0.0%** | **0.0%** | **384.85 KB** | **384.79 KB** | **71.7 KB** | **71.72 KB** | **FB_WWW_PROD**
ReactDOMServer-dev.js | 0.0% | 0.0% | 142.21 KB | 142.21 KB | 36.48 KB | 36.48 KB | FB_WWW_DEV
**ReactDOMServer-prod.js** | **0.0%** | **-0.0%** | **46.58 KB** | **46.58 KB** | **10.85 KB** | **10.85 KB** | **FB_WWW_PROD**
ReactDOMTesting-dev.js | 0.0% | 0.0% | 925.47 KB | 925.57 KB | 208.35 KB | 208.41 KB | FB_WWW_DEV

## react-art
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactART-dev.js | 0.0% | 0.0% | 668.43 KB | 668.53 KB | 141.95 KB | 142.01 KB | FB_WWW_DEV
react-art.development.js | 0.0% | 0.0% | 724.65 KB | 724.72 KB | 154.02 KB | 154.07 KB | UMD_DEV
**react-art.production.min.js** | **0.0%** | **-0.0%** | **114.82 KB** | **114.86 KB** | **35.83 KB** | **35.82 KB** | **UMD_PROD**
react-art.development.js | 0.0% | +0.1% | 624.22 KB | 624.3 KB | 135.86 KB | 135.96 KB | NODE_DEV
**react-art.production.min.js** | **:small_red_triangle:+0.1%** | **0.0%** | **79.76 KB** | **79.8 KB** | **25 KB** | **25 KB** | **NODE_PROD**
**ReactART-prod.js** | **-0.1%** | **-0.1%** | **247.82 KB** | **247.65 KB** | **44.24 KB** | **44.2 KB** | **FB_WWW_PROD**

## react-reconciler
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-reconciler.development.js | -0.6% | -0.1% | 686.18 KB | 682.15 KB | 146.05 KB | 145.91 KB | NODE_DEV
**react-reconciler.production.min.js** | **-1.0%** | **-0.6%** | **90.76 KB** | **89.87 KB** | **28.12 KB** | **27.95 KB** | **NODE_PROD**
react-reconciler.profiling.min.js | -0.9% | -0.6% | 96.54 KB | 95.66 KB | 29.87 KB | 29.7 KB | NODE_PROFILING

  </details>
  

<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 9a114ade3acbc8c6c6850db081b406ef3586b6f4
</p>
",2021-02-04T23:10:10Z
773667880,"Hi,

I recently upgraded to v17.0. I really miss this feature, I used it while also displaying a redux dispatched action. I found this very useful to identify issues with unnecessary or duplicate renders as I would get a nice overview of what action I dispatched and all the components that rendered under it. The inaccurate timings were not an issue for me as once I identified an area that needed some work I would use other tools to drill into the problem.

Now I don't have a nice way to replicate this view. I can still see my dispatched timings and I can profile individual renders with the react profiler but I miss having a way to see what action caused a group of renders. Is there any other way to achieve this?",2021-02-04T23:20:31Z
773690533,"> What do you use reparenting for today?

I have a use case: A dashboard with widgets rendered in columns with drag &Â drop between them (using react-beautiful-dnd). 

Each column is a Droppable here and the individual widgets are the Draggable children of this Droppable.

The contents of each widget are completely dynamic and definitely stateful - each widget is pretty standalone and there can be many different kinds of them, so managing state on a higher level is impractical. For example, they can fetch data to display in charts, they can contain a search bar etc.

Reparenting is useful here because you clearly don't want to re-fetch data, or lose you search bar value, when switching columns.

Not saying there is absolutely no way around this, but yeah, a native way to reparent probably would be nice? :)",2021-02-05T00:18:12Z
773780968,"> It'd suggest you explore Number.range returning an iterable that can produce multiple iterators over the same range since the input range is immutable.

Yes, we explored this a lot but it's hard to change to iterable instead of one-shot iterator (see discussion in https://github.com/tc39/proposal-Number.range/issues/17, https://github.com/tc39/proposal-Number.range/issues/41 and https://github.com/tc39/proposal-Number.range/pull/42)",2021-02-05T04:34:21Z
773787430,"At the end of the day, with a reusable iterable you can always get a one-shot iterator out of it but you can't get a reusable out of a one-iterator except by allocating the full memory at which point the whole point of iterables are defeated.

React is a good example of a use case where you can't use a one-shot. It's a very common paradigm in JS.

Since you can't use a one-shot and toArray defeats the purpose, your only option will be to use a third party user space library. If this pattern is useful enough, it'll eventually get added to the language as the reusable iterable form.

So it seems inevitable that either there's two APIs or just reusable iterable.




",2021-02-05T04:54:50Z
773800223,"I definitely support the iterable but others don't agree.
And whatever semantic the range proposal choose, if you want to make it useful in React, it's must be used with iterator helper. And the iterator helper proposal doesn't work with iterable, it's always returned a one shot iterator. ",2021-02-05T05:32:12Z
773801859,Unfortunately there's nothing we can do to support it but we can create a more descriptive error message.,2021-02-05T05:36:18Z
773813812,"> Can we somehow detect a one-shot iterator? Maybe some check like `x[Symbol.iterator]() === x` should warn when true?

Since react consume the iterator twice, react can warn if the second consume doesn't get the same array length as the first consume",2021-02-05T06:06:00Z
773887548,"> After some research of react source code, I got a hack method for react 16:
> 
> ```
> let input = someInput; 
> let lastValue = input.value;
> input.value = 'new value';
> let event = new Event('input', { bubbles: true });
> // hack React15
> event.simulated = true;
> // hack React16 å†…éƒ¨å®šä¹‰äº†descriptoræ‹¦æˆªvalueï¼Œæ­¤å¤„é‡ç½®çŠ¶æ€
> let tracker = input._valueTracker;
> if (tracker) {
>   tracker.setValue(lastValue);
> }
> input.dispatchEvent(event);
> ```
> 
> **NOTICE: JUST A HACK**

you saved my day, thanks",2021-02-05T08:45:54Z
773928532,"> If this doesn't look right, please let me know.

Just FYI: I also experienced this bug and it was triggered by exactly the scenario you have mentioned.",2021-02-05T09:59:43Z
773935569,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->




## Size changes

<p>Comparing: 4e08fb10c999c21d301d1cda3c3aefeab893d0e9...22015924d104646c35eb37ed2984ab8a2451e0d4</p>

### Stable channel


  <details>
  <summary>Details of bundled changes.</summary>

  
## react-dom
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactDOM-profiling.js | 0.0% | +0.1% | 414.5 KB | 414.6 KB | 76.61 KB | 76.68 KB | FB_WWW_PROFILING
react-dom-server.browser.development.js | 0.0% | 0.0% | 142.82 KB | 142.85 KB | 36.51 KB | 36.52 KB | UMD_DEV
react-dom-server.node.development.js | 0.0% | 0.0% | 136.75 KB | 136.78 KB | 36.31 KB | 36.32 KB | NODE_DEV
**react-dom-server.browser.production.min.js** | **0.0%** | **-0.0%** | **19.86 KB** | **19.86 KB** | **7.46 KB** | **7.45 KB** | **UMD_PROD**
**react-dom-server.node.production.min.js** | **0.0%** | **-0.0%** | **20.18 KB** | **20.18 KB** | **7.58 KB** | **7.58 KB** | **NODE_PROD**
**ReactDOMTesting-prod.js** | **0.0%** | **0.0%** | **390.97 KB** | **391.05 KB** | **73.79 KB** | **73.82 KB** | **FB_WWW_PROD**
react-dom.development.js | 0.0% | 0.0% | 934.84 KB | 935.06 KB | 205.89 KB | 205.91 KB | UMD_DEV
**react-dom.production.min.js** | **-0.1%** | **:small_red_triangle:+0.2%** | **119.44 KB** | **119.34 KB** | **39.17 KB** | **39.25 KB** | **UMD_PROD**
react-dom.profiling.min.js | -0.1% | +0.1% | 123.53 KB | 123.43 KB | 40.46 KB | 40.5 KB | UMD_PROFILING
react-dom.development.js | 0.0% | 0.0% | 889.64 KB | 889.86 KB | 203.18 KB | 203.21 KB | NODE_DEV
ReactDOMForked-dev.js | 0.0% | 0.0% | 1 MB | 1 MB | 227.37 KB | 227.4 KB | FB_WWW_DEV
**react-dom.production.min.js** | **-0.1%** | **:small_red_triangle:+0.2%** | **119.52 KB** | **119.42 KB** | **38.5 KB** | **38.56 KB** | **NODE_PROD**
**ReactDOMForked-prod.js** | **0.0%** | **:small_red_triangle:+0.1%** | **396.07 KB** | **396.17 KB** | **73.43 KB** | **73.48 KB** | **FB_WWW_PROD**
react-dom.profiling.min.js | -0.1% | +0.2% | 123.77 KB | 123.67 KB | 39.74 KB | 39.8 KB | NODE_PROFILING
ReactDOMForked-profiling.js | 0.0% | +0.1% | 414.51 KB | 414.61 KB | 76.61 KB | 76.68 KB | FB_WWW_PROFILING
ReactDOM-dev.js | 0.0% | 0.0% | 1 MB | 1 MB | 227.57 KB | 227.6 KB | FB_WWW_DEV
**ReactDOM-prod.js** | **0.0%** | **:small_red_triangle:+0.1%** | **396.06 KB** | **396.17 KB** | **73.43 KB** | **73.47 KB** | **FB_WWW_PROD**
react-dom-server.browser.development.js | 0.0% | 0.0% | 135.48 KB | 135.51 KB | 36.06 KB | 36.06 KB | NODE_DEV
**react-dom-server.browser.production.min.js** | **0.0%** | **-0.0%** | **19.76 KB** | **19.76 KB** | **7.42 KB** | **7.42 KB** | **NODE_PROD**
ReactDOMServer-dev.js | 0.0% | 0.0% | 146.19 KB | 146.24 KB | 37.48 KB | 37.49 KB | FB_WWW_DEV
**ReactDOMServer-prod.js** | **0.0%** | **-0.0%** | **47.44 KB** | **47.44 KB** | **11.06 KB** | **11.06 KB** | **FB_WWW_PROD**
ReactDOMTesting-dev.js | 0.0% | 0.0% | 953.62 KB | 953.91 KB | 214.06 KB | 214.1 KB | FB_WWW_DEV

  </details>
  

### Experimental channel

No significant bundle size changes to report.


ReactDOM: size: 0.0%, gzip: -0.0%
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 22015924d104646c35eb37ed2984ab8a2451e0d4
</p>
",2021-02-05T10:11:54Z
773945843,"Thanks for the report.

Note that you get a warning about invalid DOM nesting for React 16 and 17.

The current behavior might've been broken in https://github.com/facebook/react/pull/19333 but I can't speak to whether this was intentional or not and if the new behavior should stay. 

With native HTML the child will never be submitted but every submit button inside that form submits the parent: https://codesandbox.io/s/boring-goldwasser-67fsv?file=/public/index.html

@gaearon What do you think about the new behavior compared to ""native"" behavior?",2021-02-05T10:30:11Z
774075176,"Thanks, but this is intentional because there's less chance of low-level shenanigans due to `!=` also implying a check against `document.all`.",2021-02-05T14:44:44Z
774131276,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




## Size changes

<p>Comparing: b12d0078a4503a2e4397e65c9060df56193d7b27...87c672fd3636069a42402bb928ba29950c8d4f0d</p>

### Stable channel

No significant bundle size changes to report.

### Experimental channel

No significant bundle size changes to report.

<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 87c672fd3636069a42402bb928ba29950c8d4f0d
</p>
",2021-02-05T16:15:51Z
774145350,"I haven't looked into why this is happening, seems unintuitive to me. I've noticed that when I click on the inner form, React only receives the _captured_ event, but not the bubbled one. Any ideas why?",2021-02-05T16:39:42Z
774199070,"> > My library and the create-react-app are relative to each other and I am using npm link
> 
> Did you read this part?
> 
> https://reactjs.org/warnings/invalid-hook-call-warning.html#duplicate-react
> 
> It directly addresses the `link` workflow:
> 
> <img alt=""Screen Shot 2019-04-04 at 09 28 47"" width=""677"" src=""https://user-images.githubusercontent.com/810438/55541034-118ffc00-56bc-11e9-9cc0-f04c0f7c3260.png"">

Thanks a lot for saving my ass <3",2021-02-05T18:12:54Z
774235390,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




## Size changes

<p>Comparing: eeb1325b03388184f61796ccf57835d33739249a...1258478e3e5f2c990f583da7a55f1b15758af769</p>

### Stable channel

No significant bundle size changes to report.

### Experimental channel

No significant bundle size changes to report.

<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 1258478e3e5f2c990f583da7a55f1b15758af769
</p>
",2021-02-05T19:17:47Z
774257993,"
<!--
  0 failure: 
  0 warning: 
  
  4 markdown notices
  DangerID: danger-id-stable;
-->




## Size changes

<p>Comparing: eeb1325b03388184f61796ccf57835d33739249a...55540b3bc3f7f451c9bc6763e97ca2d75b38bd40</p>

### Stable channel


  <details>
  <summary>Details of bundled changes.</summary>

  
## react-dom
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactDOM-profiling.js | 0.0% | 0.0% | 414.57 KB | 414.6 KB | 76.67 KB | 76.68 KB | FB_WWW_PROFILING
react-dom-server.browser.development.js | +0.3% | +0.2% | 142.45 KB | 142.85 KB | 36.45 KB | 36.52 KB | UMD_DEV
react-dom-server.node.development.js | +0.3% | +0.2% | 136.4 KB | 136.78 KB | 36.25 KB | 36.32 KB | NODE_DEV
**react-dom-server.browser.production.min.js** | **:small_red_triangle:+0.3%** | **:small_red_triangle:+0.3%** | **19.8 KB** | **19.86 KB** | **7.43 KB** | **7.45 KB** | **UMD_PROD**
**react-dom-server.node.production.min.js** | **:small_red_triangle:+0.3%** | **:small_red_triangle:+0.3%** | **20.12 KB** | **20.18 KB** | **7.55 KB** | **7.58 KB** | **NODE_PROD**
**ReactDOMTesting-prod.js** | **0.0%** | **0.0%** | **391.02 KB** | **391.05 KB** | **73.82 KB** | **73.82 KB** | **FB_WWW_PROD**
react-dom.development.js | +0.1% | +0.1% | 934.34 KB | 935.06 KB | 205.74 KB | 205.91 KB | UMD_DEV
ReactTestUtils-dev.js | +0.2% | +0.2% | 61.41 KB | 61.5 KB | 16.91 KB | 16.93 KB | FB_WWW_DEV
**react-dom.production.min.js** | **0.0%** | **-0.0%** | **119.33 KB** | **119.34 KB** | **39.25 KB** | **39.25 KB** | **UMD_PROD**
react-dom.profiling.min.js | 0.0% | 0.0% | 123.42 KB | 123.43 KB | 40.49 KB | 40.5 KB | UMD_PROFILING
react-dom.development.js | +0.1% | +0.1% | 889.19 KB | 889.86 KB | 203.05 KB | 203.21 KB | NODE_DEV
ReactDOMForked-dev.js | +0.1% | +0.1% | 1 MB | 1 MB | 227.25 KB | 227.39 KB | FB_WWW_DEV
**react-dom.production.min.js** | **0.0%** | **0.0%** | **119.41 KB** | **119.42 KB** | **38.56 KB** | **38.56 KB** | **NODE_PROD**
**ReactDOMForked-prod.js** | **0.0%** | **0.0%** | **396.14 KB** | **396.17 KB** | **73.47 KB** | **73.47 KB** | **FB_WWW_PROD**
react-dom.profiling.min.js | 0.0% | 0.0% | 123.66 KB | 123.67 KB | 39.8 KB | 39.8 KB | NODE_PROFILING
ReactDOMForked-profiling.js | 0.0% | 0.0% | 414.58 KB | 414.61 KB | 76.68 KB | 76.68 KB | FB_WWW_PROFILING
ReactDOM-dev.js | +0.1% | +0.1% | 1 MB | 1 MB | 227.45 KB | 227.59 KB | FB_WWW_DEV
**ReactDOM-prod.js** | **0.0%** | **0.0%** | **396.13 KB** | **396.16 KB** | **73.47 KB** | **73.47 KB** | **FB_WWW_PROD**
react-dom-server.browser.development.js | +0.3% | +0.2% | 135.13 KB | 135.51 KB | 36 KB | 36.06 KB | NODE_DEV
**react-dom-server.browser.production.min.js** | **:small_red_triangle:+0.3%** | **:small_red_triangle:+0.3%** | **19.7 KB** | **19.76 KB** | **7.39 KB** | **7.42 KB** | **NODE_PROD**
react-dom-test-utils.development.js | +0.1% | +0.1% | 71.25 KB | 71.35 KB | 19.28 KB | 19.31 KB | UMD_DEV
ReactDOMServer-dev.js | +0.3% | +0.2% | 145.86 KB | 146.24 KB | 37.42 KB | 37.49 KB | FB_WWW_DEV
**ReactDOMServer-prod.js** | **:small_red_triangle:+0.4%** | **:small_red_triangle:+0.4%** | **47.26 KB** | **47.44 KB** | **11.02 KB** | **11.06 KB** | **FB_WWW_PROD**
react-dom-test-utils.development.js | +0.1% | +0.1% | 66.07 KB | 66.17 KB | 18.77 KB | 18.79 KB | NODE_DEV
ReactDOMTesting-dev.js | +0.1% | +0.1% | 953.3 KB | 953.91 KB | 213.95 KB | 214.1 KB | FB_WWW_DEV

## react-test-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-test-renderer.development.js | +0.1% | +0.1% | 622.35 KB | 622.92 KB | 131.44 KB | 131.55 KB | UMD_DEV
**react-test-renderer.production.min.js** | **0.0%** | **0.0%** | **77.93 KB** | **77.94 KB** | **24.65 KB** | **24.65 KB** | **UMD_PROD**
ReactTestRenderer-dev.js | +0.1% | +0.1% | 603.49 KB | 603.97 KB | 130.84 KB | 130.95 KB | RN_FB_DEV
**ReactTestRenderer-prod.js** | **0.0%** | **0.0%** | **235.47 KB** | **235.5 KB** | **43.19 KB** | **43.19 KB** | **RN_FB_PROD**
ReactTestRenderer-profiling.js | 0.0% | 0.0% | 247.31 KB | 247.34 KB | 45.38 KB | 45.39 KB | RN_FB_PROFILING
react-test-renderer.development.js | +0.1% | +0.1% | 592.89 KB | 593.41 KB | 129.84 KB | 129.95 KB | NODE_DEV
**react-test-renderer.production.min.js** | **0.0%** | **0.0%** | **77.75 KB** | **77.75 KB** | **24.31 KB** | **24.31 KB** | **NODE_PROD**
ReactTestRenderer-dev.js | +0.1% | +0.1% | 615.78 KB | 616.26 KB | 132.2 KB | 132.29 KB | FB_WWW_DEV

## react-noop-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-noop-renderer.development.js | +6.7% | +3.4% | 35.55 KB | 37.92 KB | 7.92 KB | 8.19 KB | NODE_DEV
**react-noop-renderer.production.min.js** | **:small_red_triangle:+5.9%** | **:small_red_triangle:+4.2%** | **12.98 KB** | **13.74 KB** | **3.98 KB** | **4.15 KB** | **NODE_PROD**
react-noop-renderer-persistent.development.js | +6.6% | +3.4% | 35.56 KB | 37.93 KB | 7.93 KB | 8.2 KB | NODE_DEV
**react-noop-renderer-persistent.production.min.js** | **:small_red_triangle:+5.9%** | **:small_red_triangle:+4.3%** | **12.99 KB** | **13.75 KB** | **3.98 KB** | **4.15 KB** | **NODE_PROD**

## react-art
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactART-dev.js | +0.1% | +0.1% | 678.07 KB | 678.54 KB | 143.95 KB | 144.05 KB | FB_WWW_DEV
react-art.development.js | +0.1% | +0.1% | 681.87 KB | 682.47 KB | 145.49 KB | 145.62 KB | UMD_DEV
**react-art.production.min.js** | **0.0%** | **0.0%** | **110.07 KB** | **110.08 KB** | **34.35 KB** | **34.36 KB** | **UMD_PROD**
react-art.development.js | +0.1% | +0.1% | 583.51 KB | 584.06 KB | 127.56 KB | 127.68 KB | NODE_DEV
**react-art.production.min.js** | **0.0%** | **0.0%** | **75.08 KB** | **75.08 KB** | **23.5 KB** | **23.5 KB** | **NODE_PROD**
**ReactART-prod.js** | **0.0%** | **0.0%** | **254.8 KB** | **254.83 KB** | **45.48 KB** | **45.48 KB** | **FB_WWW_PROD**

## react-native-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactNativeRenderer-profiling.js | 0.0% | 0.0% | 286.7 KB | 286.72 KB | 51.42 KB | 51.42 KB | RN_OSS_PROFILING
ReactFabric-profiling.js | 0.0% | 0.0% | 279.53 KB | 279.57 KB | 50.11 KB | 50.12 KB | RN_FB_PROFILING
ReactFabric-dev.js | +0.1% | 0.0% | 676.65 KB | 676.99 KB | 146.2 KB | 146.27 KB | RN_OSS_DEV
**ReactFabric-prod.js** | **0.0%** | **0.0%** | **267.57 KB** | **267.61 KB** | **47.88 KB** | **47.89 KB** | **RN_OSS_PROD**
ReactFabric-profiling.js | 0.0% | 0.0% | 279.57 KB | 279.61 KB | 50.13 KB | 50.14 KB | RN_OSS_PROFILING
ReactNativeRenderer-dev.js | +0.1% | +0.1% | 695.16 KB | 695.63 KB | 150.81 KB | 150.92 KB | RN_OSS_DEV
ReactFabric-dev.js | +0.1% | +0.1% | 682.05 KB | 682.39 KB | 147.06 KB | 147.13 KB | RN_FB_DEV
**ReactNativeRenderer-prod.js** | **0.0%** | **0.0%** | **274.73 KB** | **274.76 KB** | **49.17 KB** | **49.17 KB** | **RN_OSS_PROD**
**ReactFabric-prod.js** | **0.0%** | **0.0%** | **267.54 KB** | **267.58 KB** | **47.87 KB** | **47.87 KB** | **RN_FB_PROD**
ReactNativeRenderer-dev.js | +0.1% | +0.1% | 700.55 KB | 701.03 KB | 151.66 KB | 151.78 KB | RN_FB_DEV
**ReactNativeRenderer-prod.js** | **0.0%** | **0.0%** | **274.69 KB** | **274.71 KB** | **49.15 KB** | **49.15 KB** | **RN_FB_PROD**
ReactNativeRenderer-profiling.js | 0.0% | 0.0% | 286.65 KB | 286.67 KB | 51.39 KB | 51.4 KB | RN_FB_PROFILING

## react-reconciler
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-reconciler-reflection.development.js | +1.7% | +2.4% | 15.73 KB | 16 KB | 4.75 KB | 4.86 KB | NODE_DEV
react-reconciler.development.js | +0.2% | +0.2% | 638.18 KB | 639.33 KB | 136.93 KB | 137.16 KB | NODE_DEV
**react-reconciler.production.min.js** | **:small_red_triangle:+0.1%** | **:small_red_triangle:+0.1%** | **84.59 KB** | **84.64 KB** | **26.35 KB** | **26.37 KB** | **NODE_PROD**
react-reconciler.profiling.min.js | +0.1% | +0.1% | 88.76 KB | 88.8 KB | 27.58 KB | 27.59 KB | NODE_PROFILING

## react
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
React-profiling.js | 0.0% | -0.0% | 16.69 KB | 16.69 KB | 4.32 KB | 4.32 KB | FB_WWW_PROFILING
React-dev.js | +0.4% | +0.5% | 88.17 KB | 88.51 KB | 21.13 KB | 21.24 KB | RN_FB_DEV
**React-prod.js** | **0.0%** | **-0.0%** | **16.54 KB** | **16.54 KB** | **4.25 KB** | **4.25 KB** | **RN_FB_PROD**
React-profiling.js | 0.0% | -0.0% | 16.54 KB | 16.54 KB | 4.25 KB | 4.25 KB | RN_FB_PROFILING
react-jsx-dev-runtime.development.js | +0.4% | +0.3% | 36.93 KB | 37.07 KB | 10.67 KB | 10.7 KB | NODE_DEV
react-jsx-runtime.development.js | +0.4% | +0.3% | 37.52 KB | 37.66 KB | 10.84 KB | 10.87 KB | NODE_DEV
JSXDEVRuntime-dev.js | +0.4% | +0.3% | 40.65 KB | 40.79 KB | 11.37 KB | 11.4 KB | FB_WWW_DEV
react.development.js | +0.3% | +0.4% | 106.92 KB | 107.28 KB | 26.31 KB | 26.41 KB | UMD_DEV
**react.production.min.js** | **0.0%** | **-0.0%** | **10.72 KB** | **10.72 KB** | **4.32 KB** | **4.32 KB** | **UMD_PROD**
react.profiling.min.js | 0.0% | -0.0% | 14.23 KB | 14.23 KB | 5.39 KB | 5.39 KB | UMD_PROFILING
react.development.js | +0.5% | +0.6% | 70.46 KB | 70.8 KB | 19.01 KB | 19.12 KB | NODE_DEV
JSXDEVRuntime-dev.js | +0.4% | +0.3% | 31.83 KB | 31.98 KB | 9.06 KB | 9.09 KB | RN_FB_DEV
**react.production.min.js** | **0.0%** | **-0.0%** | **6.29 KB** | **6.29 KB** | **2.59 KB** | **2.59 KB** | **NODE_PROD**
React-dev.js | +0.4% | +0.4% | 96.73 KB | 97.07 KB | 23.52 KB | 23.63 KB | FB_WWW_DEV
JSXRuntime-dev.js | +0.4% | +0.3% | 32.42 KB | 32.56 KB | 9.23 KB | 9.26 KB | RN_FB_DEV
**React-prod.js** | **0.0%** | **-0.0%** | **16.69 KB** | **16.69 KB** | **4.32 KB** | **4.32 KB** | **FB_WWW_PROD**

  </details>
  

### Experimental channel


  <details>
  <summary>Details of bundled changes.</summary>

  
## react-dom
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactDOM-profiling.js | 0.0% | 0.0% | 403.14 KB | 403.17 KB | 74.9 KB | 74.9 KB | FB_WWW_PROFILING
react-dom-server.browser.development.js | +0.3% | +0.2% | 144.35 KB | 144.75 KB | 36.71 KB | 36.78 KB | UMD_DEV
react-dom-server.node.development.js | +0.3% | +0.2% | 138.19 KB | 138.57 KB | 36.53 KB | 36.6 KB | NODE_DEV
**react-dom-server.browser.production.min.js** | **:small_red_triangle:+0.3%** | **:small_red_triangle:+0.3%** | **20.34 KB** | **20.4 KB** | **7.55 KB** | **7.57 KB** | **UMD_PROD**
**react-dom-server.node.production.min.js** | **:small_red_triangle:+0.3%** | **:small_red_triangle:+0.2%** | **20.67 KB** | **20.73 KB** | **7.66 KB** | **7.68 KB** | **NODE_PROD**
**ReactDOMTesting-prod.js** | **0.0%** | **0.0%** | **377.81 KB** | **377.83 KB** | **71.67 KB** | **71.67 KB** | **FB_WWW_PROD**
react-dom.development.js | +0.1% | +0.1% | 986.87 KB | 987.59 KB | 215.83 KB | 215.99 KB | UMD_DEV
ReactTestUtils-dev.js | +0.2% | +0.2% | 61.41 KB | 61.5 KB | 16.91 KB | 16.94 KB | FB_WWW_DEV
**react-dom.production.min.js** | **0.0%** | **-0.0%** | **125.67 KB** | **125.68 KB** | **41.21 KB** | **41.21 KB** | **UMD_PROD**
react-dom.profiling.min.js | 0.0% | 0.0% | 131.36 KB | 131.37 KB | 42.91 KB | 42.91 KB | UMD_PROFILING
react-dom-unstable-fizz.browser.development.js | +1.9% | +1.5% | 5.04 KB | 5.13 KB | 1.71 KB | 1.74 KB | UMD_DEV
react-dom-unstable-fizz.node.development.js | +1.8% | +1.3% | 5.31 KB | 5.41 KB | 1.78 KB | 1.8 KB | NODE_DEV
react-dom.development.js | +0.1% | +0.1% | 939.22 KB | 939.89 KB | 212.89 KB | 213.05 KB | NODE_DEV
ReactDOMForked-dev.js | +0.1% | +0.1% | 1001.55 KB | 1002.16 KB | 222.42 KB | 222.57 KB | FB_WWW_DEV
**react-dom.production.min.js** | **0.0%** | **0.0%** | **125.83 KB** | **125.84 KB** | **40.54 KB** | **40.54 KB** | **NODE_PROD**
**ReactDOMForked-prod.js** | **0.0%** | **0.0%** | **384.76 KB** | **384.79 KB** | **71.72 KB** | **71.72 KB** | **FB_WWW_PROD**
react-dom.profiling.min.js | 0.0% | 0.0% | 131.7 KB | 131.71 KB | 42.28 KB | 42.28 KB | NODE_PROFILING
ReactDOMForked-profiling.js | 0.0% | 0.0% | 403.15 KB | 403.18 KB | 74.9 KB | 74.91 KB | FB_WWW_PROFILING
react-dom-unstable-fizz.browser.development.js | +2.1% | +1.3% | 4.57 KB | 4.66 KB | 1.62 KB | 1.64 KB | NODE_DEV
ReactDOM-dev.js | +0.1% | +0.1% | 1001.55 KB | 1002.15 KB | 222.62 KB | 222.77 KB | FB_WWW_DEV
**ReactDOM-prod.js** | **0.0%** | **0.0%** | **384.75 KB** | **384.78 KB** | **71.71 KB** | **71.71 KB** | **FB_WWW_PROD**
react-dom-server.browser.development.js | +0.3% | +0.2% | 136.92 KB | 137.3 KB | 36.28 KB | 36.35 KB | NODE_DEV
**react-dom-server.browser.production.min.js** | **:small_red_triangle:+0.3%** | **:small_red_triangle:+0.2%** | **20.25 KB** | **20.31 KB** | **7.51 KB** | **7.52 KB** | **NODE_PROD**
react-dom-test-utils.development.js | +0.1% | +0.1% | 71.25 KB | 71.35 KB | 19.28 KB | 19.31 KB | UMD_DEV
ReactDOMServer-dev.js | +0.3% | +0.2% | 141.82 KB | 142.21 KB | 36.41 KB | 36.48 KB | FB_WWW_DEV
**ReactDOMServer-prod.js** | **:small_red_triangle:+0.4%** | **:small_red_triangle:+0.4%** | **46.4 KB** | **46.58 KB** | **10.81 KB** | **10.85 KB** | **FB_WWW_PROD**
react-dom-test-utils.development.js | +0.1% | +0.1% | 66.07 KB | 66.17 KB | 18.77 KB | 18.79 KB | NODE_DEV
ReactDOMTesting-dev.js | +0.1% | +0.1% | 924.96 KB | 925.57 KB | 208.27 KB | 208.41 KB | FB_WWW_DEV

## react-test-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-test-renderer.development.js | +0.1% | +0.1% | 639.01 KB | 639.58 KB | 134.79 KB | 134.9 KB | UMD_DEV
**react-test-renderer.production.min.js** | **0.0%** | **0.0%** | **80.28 KB** | **80.29 KB** | **25.48 KB** | **25.48 KB** | **UMD_PROD**
ReactTestRenderer-dev.js | +0.1% | +0.1% | 603.5 KB | 603.98 KB | 130.85 KB | 130.96 KB | RN_FB_DEV
**ReactTestRenderer-prod.js** | **0.0%** | **0.0%** | **235.48 KB** | **235.51 KB** | **43.2 KB** | **43.2 KB** | **RN_FB_PROD**
ReactTestRenderer-profiling.js | 0.0% | 0.0% | 247.33 KB | 247.35 KB | 45.39 KB | 45.39 KB | RN_FB_PROFILING
react-test-renderer.development.js | +0.1% | +0.1% | 608.72 KB | 609.24 KB | 133.19 KB | 133.3 KB | NODE_DEV
**react-test-renderer.production.min.js** | **0.0%** | **0.0%** | **80.1 KB** | **80.11 KB** | **25.13 KB** | **25.13 KB** | **NODE_PROD**
ReactTestRenderer-dev.js | +0.1% | +0.1% | 615.79 KB | 616.27 KB | 132.21 KB | 132.3 KB | FB_WWW_DEV

## react-noop-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-noop-renderer.development.js | +6.7% | +3.4% | 35.55 KB | 37.92 KB | 7.92 KB | 8.19 KB | NODE_DEV
**react-noop-renderer.production.min.js** | **:small_red_triangle:+5.9%** | **:small_red_triangle:+4.2%** | **12.98 KB** | **13.74 KB** | **3.98 KB** | **4.15 KB** | **NODE_PROD**
react-noop-renderer-persistent.development.js | +6.6% | +3.4% | 35.56 KB | 37.93 KB | 7.93 KB | 8.2 KB | NODE_DEV
**react-noop-renderer-persistent.production.min.js** | **:small_red_triangle:+5.9%** | **:small_red_triangle:+4.3%** | **12.99 KB** | **13.75 KB** | **3.98 KB** | **4.15 KB** | **NODE_PROD**

## react-art
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactART-dev.js | +0.1% | +0.1% | 668.06 KB | 668.53 KB | 141.91 KB | 142 KB | FB_WWW_DEV
react-art.development.js | +0.1% | +0.1% | 724.12 KB | 724.72 KB | 153.93 KB | 154.07 KB | UMD_DEV
**react-art.production.min.js** | **0.0%** | **0.0%** | **114.85 KB** | **114.86 KB** | **35.82 KB** | **35.82 KB** | **UMD_PROD**
react-art.development.js | +0.1% | +0.1% | 623.74 KB | 624.3 KB | 135.83 KB | 135.96 KB | NODE_DEV
**react-art.production.min.js** | **0.0%** | **0.0%** | **79.79 KB** | **79.8 KB** | **25 KB** | **25 KB** | **NODE_PROD**
**ReactART-prod.js** | **0.0%** | **0.0%** | **247.62 KB** | **247.65 KB** | **44.2 KB** | **44.2 KB** | **FB_WWW_PROD**

## react-native-renderer
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactNativeRenderer-profiling.js | 0.0% | 0.0% | 286.71 KB | 286.73 KB | 51.42 KB | 51.43 KB | RN_OSS_PROFILING
ReactFabric-dev.js | +0.1% | 0.0% | 676.66 KB | 677 KB | 146.21 KB | 146.28 KB | RN_OSS_DEV
**ReactFabric-prod.js** | **0.0%** | **0.0%** | **267.58 KB** | **267.62 KB** | **47.89 KB** | **47.9 KB** | **RN_OSS_PROD**
ReactFabric-profiling.js | 0.0% | 0.0% | 279.58 KB | 279.62 KB | 50.14 KB | 50.15 KB | RN_OSS_PROFILING
ReactNativeRenderer-dev.js | +0.1% | +0.1% | 695.17 KB | 695.65 KB | 150.81 KB | 150.92 KB | RN_OSS_DEV
**ReactNativeRenderer-prod.js** | **0.0%** | **0.0%** | **274.74 KB** | **274.77 KB** | **49.17 KB** | **49.18 KB** | **RN_OSS_PROD**

## react-reconciler
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
react-reconciler-reflection.development.js | +1.7% | +2.4% | 15.73 KB | 16 KB | 4.75 KB | 4.86 KB | NODE_DEV
react-reconciler.development.js | +0.2% | +0.1% | 681.01 KB | 682.16 KB | 145.69 KB | 145.91 KB | NODE_DEV
**react-reconciler.production.min.js** | **:small_red_triangle:+0.1%** | **:small_red_triangle:+0.1%** | **89.83 KB** | **89.87 KB** | **27.93 KB** | **27.95 KB** | **NODE_PROD**
react-reconciler.profiling.min.js | 0.0% | +0.1% | 95.61 KB | 95.66 KB | 29.68 KB | 29.7 KB | NODE_PROFILING

## react
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
React-profiling.js | 0.0% | -0.0% | 16.55 KB | 16.55 KB | 4.28 KB | 4.28 KB | FB_WWW_PROFILING
React-dev.js | +0.4% | +0.5% | 87.18 KB | 87.52 KB | 20.89 KB | 21 KB | RN_FB_DEV
**React-prod.js** | **0.0%** | **-0.0%** | **16.39 KB** | **16.39 KB** | **4.21 KB** | **4.2 KB** | **RN_FB_PROD**
React-profiling.js | 0.0% | -0.0% | 16.39 KB | 16.39 KB | 4.21 KB | 4.2 KB | RN_FB_PROFILING
react-jsx-dev-runtime.development.js | +0.4% | +0.3% | 36.9 KB | 37.03 KB | 10.65 KB | 10.68 KB | NODE_DEV
react-jsx-runtime.development.js | +0.4% | +0.3% | 37.48 KB | 37.62 KB | 10.83 KB | 10.86 KB | NODE_DEV
JSXDEVRuntime-dev.js | +0.4% | +0.3% | 40.65 KB | 40.79 KB | 11.37 KB | 11.4 KB | FB_WWW_DEV
react.development.js | +0.3% | +0.4% | 109.13 KB | 109.49 KB | 26.72 KB | 26.82 KB | UMD_DEV
react-unstable-shared-subset.development.js | +0.5% | +0.6% | 65.82 KB | 66.16 KB | 17.89 KB | 18 KB | NODE_DEV
**react-unstable-shared-subset.production.min.js** | **0.0%** | **-0.0%** | **6.2 KB** | **6.2 KB** | **2.56 KB** | **2.56 KB** | **NODE_PROD**
react.profiling.min.js | 0.0% | -0.0% | 15.26 KB | 15.26 KB | 5.68 KB | 5.68 KB | UMD_PROFILING
react.development.js | +0.5% | +0.5% | 72.56 KB | 72.9 KB | 19.4 KB | 19.5 KB | NODE_DEV
JSXDEVRuntime-dev.js | +0.4% | +0.3% | 31.83 KB | 31.98 KB | 9.06 KB | 9.09 KB | RN_FB_DEV
**react.production.min.js** | **0.0%** | **-0.0%** | **7.41 KB** | **7.41 KB** | **2.88 KB** | **2.88 KB** | **NODE_PROD**
React-dev.js | +0.4% | +0.4% | 95.74 KB | 96.08 KB | 23.3 KB | 23.4 KB | FB_WWW_DEV
JSXRuntime-dev.js | +0.4% | +0.3% | 32.42 KB | 32.56 KB | 9.23 KB | 9.26 KB | RN_FB_DEV
**React-prod.js** | **0.0%** | **-0.0%** | **16.55 KB** | **16.55 KB** | **4.28 KB** | **4.28 KB** | **FB_WWW_PROD**

  </details>
  


ReactDOM: size: :small_red_triangle:+0.3%, gzip: :small_red_triangle:+0.3%

ReactDOM: size: :small_red_triangle:+0.3%, gzip: :small_red_triangle:+0.3%

React: size: 0.0%, gzip: -0.0%
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 55540b3bc3f7f451c9bc6763e97ca2d75b38bd40
</p>
",2021-02-05T20:02:35Z
774269501,"
<!--
  0 failure: 
  0 warning: 
  
  2 markdown notices
  DangerID: danger-id-stable;
-->




## Size changes

<p>Comparing: eeb1325b03388184f61796ccf57835d33739249a...26330bb9392578157f1c315e28accc0dde3f5457</p>

### Stable channel


  <details>
  <summary>Details of bundled changes.</summary>

  
## react-dom
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactDOM-profiling.js | +71.4% | +2.9% | 414.6 KB | 710.46 KB | 76.68 KB | 78.89 KB | FB_WWW_PROFILING
react-dom-server.browser.development.js | 0.0% | 0.0% | 142.85 KB | 142.85 KB | 36.52 KB | 36.52 KB | UMD_DEV
react-dom-server.node.development.js | 0.0% | 0.0% | 136.78 KB | 136.78 KB | 36.32 KB | 36.32 KB | NODE_DEV
**react-dom-server.node.production.min.js** | **0.0%** | **0.0%** | **20.18 KB** | **20.18 KB** | **7.58 KB** | **7.58 KB** | **NODE_PROD**
**ReactDOMTesting-prod.js** | **:small_red_triangle:+75.7%** | **:small_red_triangle:+3.1%** | **391.05 KB** | **686.92 KB** | **73.82 KB** | **76.1 KB** | **FB_WWW_PROD**
react-dom.development.js | +17.6% | +0.8% | 935.06 KB | 1.07 MB | 205.91 KB | 207.54 KB | UMD_DEV
**react-dom.production.min.js** | **:small_red_triangle:+110.4%** | **:small_red_triangle:+3.3%** | **119.34 KB** | **251.1 KB** | **39.25 KB** | **40.52 KB** | **UMD_PROD**
react-dom.profiling.min.js | +106.8% | +3.3% | 123.43 KB | 255.2 KB | 40.5 KB | 41.82 KB | UMD_PROFILING
react-dom.development.js | +18.5% | +0.8% | 889.86 KB | 1.03 MB | 203.21 KB | 204.83 KB | NODE_DEV
ReactDOMForked-dev.js | +28.8% | +1.0% | 1 MB | 1.29 MB | 227.39 KB | 229.62 KB | FB_WWW_DEV
**react-dom.production.min.js** | **:small_red_triangle:+110.3%** | **:small_red_triangle:+3.3%** | **119.42 KB** | **251.18 KB** | **38.56 KB** | **39.84 KB** | **NODE_PROD**
**ReactDOMForked-prod.js** | **:small_red_triangle:+74.7%** | **:small_red_triangle:+2.9%** | **396.17 KB** | **692.04 KB** | **73.47 KB** | **75.61 KB** | **FB_WWW_PROD**
react-dom.profiling.min.js | +106.5% | +3.2% | 123.67 KB | 255.43 KB | 39.8 KB | 41.09 KB | NODE_PROFILING
ReactDOMForked-profiling.js | +71.4% | +2.9% | 414.61 KB | 710.47 KB | 76.68 KB | 78.89 KB | FB_WWW_PROFILING
ReactDOM-dev.js | +28.8% | +1.0% | 1 MB | 1.29 MB | 227.59 KB | 229.81 KB | FB_WWW_DEV
**ReactDOM-prod.js** | **:small_red_triangle:+74.7%** | **:small_red_triangle:+2.9%** | **396.16 KB** | **692.03 KB** | **73.47 KB** | **75.61 KB** | **FB_WWW_PROD**
react-dom-server.browser.development.js | 0.0% | 0.0% | 135.51 KB | 135.51 KB | 36.06 KB | 36.07 KB | NODE_DEV
**react-dom-server.browser.production.min.js** | **0.0%** | **0.0%** | **19.76 KB** | **19.76 KB** | **7.42 KB** | **7.42 KB** | **NODE_PROD**
ReactDOMServer-dev.js | 0.0% | 0.0% | 146.24 KB | 146.24 KB | 37.49 KB | 37.49 KB | FB_WWW_DEV
ReactDOMTesting-dev.js | +31.0% | +0.8% | 953.91 KB | 1.22 MB | 214.1 KB | 215.86 KB | FB_WWW_DEV

  </details>
  

### Experimental channel


  <details>
  <summary>Details of bundled changes.</summary>

  
## react-dom
File | Filesize Diff | Gzip Diff | Prev Size | Current Size | Prev Gzip | Current Gzip | ENV
 ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  ---  |  --- 
ReactDOM-profiling.js | +73.4% | +2.8% | 403.17 KB | 699.04 KB | 74.9 KB | 77 KB | FB_WWW_PROFILING
react-dom-server.browser.development.js | 0.0% | 0.0% | 144.75 KB | 144.75 KB | 36.78 KB | 36.78 KB | UMD_DEV
react-dom-server.node.development.js | 0.0% | 0.0% | 138.57 KB | 138.57 KB | 36.6 KB | 36.6 KB | NODE_DEV
**react-dom-server.browser.production.min.js** | **0.0%** | **0.0%** | **20.4 KB** | **20.4 KB** | **7.57 KB** | **7.57 KB** | **UMD_PROD**
**react-dom-server.node.production.min.js** | **0.0%** | **0.0%** | **20.73 KB** | **20.73 KB** | **7.68 KB** | **7.68 KB** | **NODE_PROD**
**ReactDOMTesting-prod.js** | **:small_red_triangle:+78.3%** | **:small_red_triangle:+3.0%** | **377.83 KB** | **673.7 KB** | **71.67 KB** | **73.83 KB** | **FB_WWW_PROD**
react-dom.development.js | +16.6% | +0.6% | 987.59 KB | 1.12 MB | 215.99 KB | 217.29 KB | UMD_DEV
**react-dom.production.min.js** | **:small_red_triangle:+104.8%** | **:small_red_triangle:+3.3%** | **125.68 KB** | **257.44 KB** | **41.21 KB** | **42.57 KB** | **UMD_PROD**
react-dom.profiling.min.js | +100.3% | +3.3% | 131.37 KB | 263.13 KB | 42.91 KB | 44.34 KB | UMD_PROFILING
react-dom.development.js | +17.5% | +0.6% | 939.89 KB | 1.08 MB | 213.05 KB | 214.26 KB | NODE_DEV
ReactDOMForked-dev.js | +29.5% | +0.9% | 1002.16 KB | 1.27 MB | 222.57 KB | 224.57 KB | FB_WWW_DEV
**react-dom.production.min.js** | **:small_red_triangle:+104.7%** | **:small_red_triangle:+3.3%** | **125.84 KB** | **257.61 KB** | **40.54 KB** | **41.88 KB** | **NODE_PROD**
**ReactDOMForked-prod.js** | **:small_red_triangle:+76.9%** | **:small_red_triangle:+2.8%** | **384.79 KB** | **680.66 KB** | **71.72 KB** | **73.74 KB** | **FB_WWW_PROD**
react-dom.profiling.min.js | +100.0% | +3.2% | 131.71 KB | 263.48 KB | 42.28 KB | 43.64 KB | NODE_PROFILING
ReactDOMForked-profiling.js | +73.4% | +2.8% | 403.18 KB | 699.05 KB | 74.91 KB | 77.01 KB | FB_WWW_PROFILING
ReactDOM-dev.js | +29.5% | +0.9% | 1002.15 KB | 1.27 MB | 222.77 KB | 224.77 KB | FB_WWW_DEV
**ReactDOM-prod.js** | **:small_red_triangle:+76.9%** | **:small_red_triangle:+2.8%** | **384.78 KB** | **680.65 KB** | **71.71 KB** | **73.73 KB** | **FB_WWW_PROD**
react-dom-server.browser.development.js | 0.0% | 0.0% | 137.3 KB | 137.3 KB | 36.35 KB | 36.35 KB | NODE_DEV
**react-dom-server.browser.production.min.js** | **0.0%** | **0.0%** | **20.31 KB** | **20.31 KB** | **7.52 KB** | **7.52 KB** | **NODE_PROD**
ReactDOMServer-dev.js | 0.0% | 0.0% | 142.21 KB | 142.21 KB | 36.48 KB | 36.48 KB | FB_WWW_DEV
**ReactDOMServer-prod.js** | **0.0%** | **0.0%** | **46.58 KB** | **46.58 KB** | **10.85 KB** | **10.85 KB** | **FB_WWW_PROD**
ReactDOMTesting-dev.js | +32.0% | +1.1% | 925.57 KB | 1.19 MB | 208.41 KB | 210.62 KB | FB_WWW_DEV

  </details>
  


ReactDOM: size: 0.0%, gzip: 0.0%
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 26330bb9392578157f1c315e28accc0dde3f5457
</p>
",2021-02-05T20:26:06Z
774271663,Strange. Removing the changes causes the bundle size to go up?,2021-02-05T20:30:21Z
774272917,"I think something is wrong.

https://github.com/facebook/react/pull/20746 is supposed to increase the size, but it shows a decrease.

The summary (0% change) also doesn't match what the table is reporting.",2021-02-05T20:32:37Z
774273479,">Strange. Removing the changes causes the bundle size to go up?

Our sizebot seems borked by recent changes. See https://github.com/facebook/react/pull/20746 which increases the size but shows as a decrease. ",2021-02-05T20:33:52Z
774279063,"Hey @cherouvim,

I am experiencing a similar issue where in dev mode (CRA / `npm start`), both the `<img src>` and `<source srcSet>` images are loaded in Firefox (failover loads first).

This issue is gone when I run `npm run build` and serve my app using Express.

In your example, have you noticed if the WebP image is loaded vs the failover?",2021-02-05T20:45:12Z
774283849,"@sunknudsen the failover `.jpg` is being requested and partially fetched, and the `.webp` is fully loaded and eventually displayed.",2021-02-05T20:55:34Z
774309596,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




Comparing: 6c526c5153bc350d2a62c7dcbc698be77d3f2439...31a2bcc7d3f184ca97e4a3029c6d2d0b3a76ff75

## Critical size changes

Includes critical production bundles, as well as any change greater than 2%:


  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| oss-stable/react-dom/cjs/react-dom.production.min.js | **=** | 122.31 kB | 122.31 kB | = | 39.41 kB | 39.41 kB
| oss-experimental/react-dom/cjs/react-dom.production.min.js | **=** | 128.89 kB | 128.89 kB | = | 41.46 kB | 41.46 kB
| facebook-www/ReactDOM-prod.classic.js | **+0.14%** | 406.07 kB | 406.62 kB | +0.24% | 75.19 kB | 75.37 kB
| facebook-www/ReactDOM-prod.modern.js | **+0.14%** | 394.42 kB | 394.97 kB | +0.18% | 73.36 kB | 73.49 kB
| facebook-www/ReactDOMForked-prod.classic.js | **+0.14%** | 406.08 kB | 406.63 kB | +0.24% | 75.19 kB | 75.37 kB

## Significant size changes

Includes any change greater than 0.2%:


<details>
<summary>Expand to show</summary>

  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| facebook-www/ReactIs-dev.modern.js | **+1.00%** | 9.86 kB | 9.96 kB | +0.60% | 2.69 kB | 2.70 kB
| facebook-www/ReactIs-dev.classic.js | **+1.00%** | 9.86 kB | 9.96 kB | +0.60% | 2.69 kB | 2.70 kB
| facebook-www/SchedulerTracing-dev.modern.js | **+0.89%** | 11.15 kB | 11.25 kB | +0.77% | 2.46 kB | 2.47 kB
| facebook-www/SchedulerTracing-dev.classic.js | **+0.89%** | 11.15 kB | 11.25 kB | +0.86% | 2.46 kB | 2.48 kB
| oss-experimental/react-noop-renderer/cjs/react-noop-renderer.production.min.js | **+0.50%** | 13.29 kB | 13.36 kB | +0.74% | 4.07 kB | 4.10 kB
| oss-stable/react-noop-renderer/cjs/react-noop-renderer.production.min.js | **+0.50%** | 13.29 kB | 13.36 kB | +0.74% | 4.07 kB | 4.10 kB
| oss-experimental/react-noop-renderer/cjs/react-noop-renderer-persistent.production.min.js | **+0.50%** | 13.30 kB | 13.37 kB | +0.74% | 4.08 kB | 4.11 kB
| oss-stable/react-noop-renderer/cjs/react-noop-renderer-persistent.production.min.js | **+0.50%** | 13.30 kB | 13.37 kB | +0.74% | 4.08 kB | 4.11 kB
| oss-experimental/react-noop-renderer/cjs/react-noop-renderer.development.js | **+0.27%** | 36.41 kB | 36.50 kB | +0.26% | 8.11 kB | 8.13 kB
| oss-stable/react-noop-renderer/cjs/react-noop-renderer.development.js | **+0.27%** | 36.41 kB | 36.50 kB | +0.26% | 8.11 kB | 8.13 kB
| oss-experimental/react-noop-renderer/cjs/react-noop-renderer-persistent.development.js | **+0.27%** | 36.42 kB | 36.52 kB | +0.27% | 8.12 kB | 8.14 kB
| oss-stable/react-noop-renderer/cjs/react-noop-renderer-persistent.development.js | **+0.27%** | 36.42 kB | 36.52 kB | +0.27% | 8.12 kB | 8.14 kB
| facebook-www/JSXDEVRuntime-dev.modern.js | **+0.24%** | 41.62 kB | 41.72 kB | +0.17% | 11.64 kB | 11.66 kB
| facebook-www/JSXDEVRuntime-dev.classic.js | **+0.24%** | 41.63 kB | 41.72 kB | +0.17% | 11.64 kB | 11.66 kB
| facebook-www/ReactART-dev.modern.js | **+0.23%** | 684.34 kB | 685.90 kB | +0.29% | 145.35 kB | 145.78 kB
| facebook-www/ReactART-dev.classic.js | **+0.22%** | 694.60 kB | 696.16 kB | +0.28% | 147.45 kB | 147.86 kB
| react-native/implementations/ReactNativeRenderer-profiling.fb.js | **+0.20%** | 293.33 kB | 293.92 kB | +0.08% | 52.55 kB | 52.59 kB
| react-native/implementations/ReactNativeRenderer-profiling.js | **+0.20%** | 293.39 kB | 293.98 kB | +0.07% | 52.58 kB | 52.61 kB
</details>


<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 31a2bcc7d3f184ca97e4a3029c6d2d0b3a76ff75
</p>
",2021-02-05T21:56:00Z
774345731,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




## Size changes

<p>Comparing: 4ecf11977c46966d3deedcdc71f1280a34607d1d...fc4129ad722608bd518b63c164096c913b8024f8</p>

### Stable channel

No significant bundle size changes to report.

### Experimental channel

No significant bundle size changes to report.

<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against fc4129ad722608bd518b63c164096c913b8024f8
</p>
",2021-02-05T23:38:00Z
774346722,"Ok it's fixed now, but we should really change the output to sort by magnitude, or something like that. Really easy to miss a significant change if it's not to the main bundle.

<img width=""837"" alt=""Screen Shot 2021-02-05 at 5 41 51 PM"" src=""https://user-images.githubusercontent.com/3624098/107100270-b56ef500-67c8-11eb-8424-685eeb89596e.png"">
",2021-02-05T23:41:36Z
774347635,"Also this part is clearly wrong. Maybe it's grabbing ReactDOMServer accidentally

> ReactDOM: size: 0.0%, gzip: 0.0%

I think what I'd do is sort the bundles by magnitude and collapse the ones that are below a certain threshold.",2021-02-05T23:45:00Z
774432800,"Hi there! @dentrado thx for describing an issue, as u mention below, users of Reatom have the same problems.
@eps1lon @gaearon please, may you comment detailed description of the problem and how it may be solved and paste it in the docs? This is soo unobvious right now, but important for many people, which just remove `StrictMode` that does not look like a better way. ",2021-02-06T09:29:20Z
774445394,"> Here is an alternative `useMemoOne` that seems to be concurrent mode safe ðŸ¤ž
> 
> ```js
> // @flow
> import { useRef, useState, useEffect } from 'react';
> import areInputsEqual from './are-inputs-equal';
> 
> type Result<T> = {|
>   inputs: mixed[],
>   result: T,
> |};
> 
> export default function useMemoOne<T>(
>   // getResult changes on every call,
>   getResult: () => T,
>   // the inputs array changes on every call
>   inputs?: mixed[] = [],
> ): T {
>   // using useState to generate initial value as it is lazy
>   const initial: Result<T> = useState(() => ({
>     inputs,
>     result: getResult(),
>   }))[0];
> 
>   const uncommitted = useRef<Result<T>>(initial);
>   const committed = useRef<Result<T>>(initial);
> 
>   // persist any uncommitted changes
>   useEffect(() => {
>     committed.current = uncommitted.current;
>   });
> 
>   if (areInputsEqual(inputs, committed.current.inputs)) {
>     return committed.current.result;
>   }
> 
>   uncommitted.current = {
>     inputs,
>     result: getResult(),
>   };
> 
>   return uncommitted.current.result;
> }
> ```

So is the above genuinely the simplest way to implement useMemo with a semantic guarantee safely?... surely all that complexity warrants inclusion in React itself or at least something in the React docs pointing to [`useMemoOne`](https://github.com/alexreardon/use-memo-one)?

Unless maybe I'm doing something wrong, however I find I need to perform [change detection on derived data](https://stackoverflow.com/questions/66064561/change-detection-in-react) quite [often](https://github.com/ReactTraining/react-router/issues/7059) ðŸ¤”.

I wonder if users are generally getting away with `useMemo` as a semantic guarantee which is why [`useMemoOne`](https://github.com/alexreardon/use-memo-one) is a little shy of React's 10 million weekly downloads ðŸ˜…",2021-02-06T10:47:51Z
774470267,"Hey guys,

I was able to reproduce this issue with [very little code](https://github.com/sunknudsen/my-app/compare/react-picture-issue#diff-26ad4b834941d9b19ebf9db8082bd202aaf72ea0ddea85f5a8a0cb3c729cc6f2) added to a clean-install (`npx create-react-app my-app --template typescript`) of [Create React App](https://create-react-app.dev/docs/getting-started/#creating-a-typescript-app).

I created a [repo](https://github.com/sunknudsen/my-app) that can be used to debug this issue (please `git checkout  react-picture-issue`).

I also included a pre-rendered no-js file (see https://github.com/sunknudsen/my-app/blob/react-picture-issue/public/index-rendered-no-js.html) that confirms the issue is only present when the React JavaScript code is running.

To use `my-app` to reproduce the issue, please run the following:

```console
$ git clone https://github.com/sunknudsen/my-app.git

$ cd my-app

$ git checkout react-picture-issue

$ npm install

$ npm start
```

To test React version, go to http://localhost:3000/ in Firefox and open developer tools at the network tab (notice the request to http://localhost:3000/static/media/test-1920x1080.png?).

![React](https://user-images.githubusercontent.com/2117655/107117346-ac862e00-6871-11eb-95ae-135be5aea247.png)

To test no-js version, go to http://localhost:3000/index-rendered-no-js.html in Firefox and open developer tools at the network tab (notice how the request to http://localhost:3000/static/media/test-1920x1080.png is **not** present?).

![no-js](https://user-images.githubusercontent.com/2117655/107117299-68932900-6871-11eb-86be-db3de1ce231f.png)

I am still unsure if this is a Firefox issue or a React issue. Perhaps someone from the core React team (@bvaughn?) can help us figure this one out?",2021-02-06T12:29:18Z
774472591,"If this works, maybe we could use currently available lifecycle methods. Methods would return true if they requested some data and rerender would be required. SSR then could work this way:

1. The `componentDidMount` method will be called first - before render - instead of `beforeServerSideRender`.
2. If method call is resolved with `true` it means, it fetched some data, some `setState` was called and based on new state it will be updated again. If method returns false, Proceed with step 4.
3. The `componentDidUpdate` method will be called in a loop with condition by it`s return - proceed with step 2.
4. When methods return false, no more ""rerenders"" are needed so we can do final render - really call `inst.render()` and finish.

So the code could be like this:
```js
const needUpdate = inst.componentDidMount && await inst.componentDidMount();
if(inst.componentDidUpdate)
{
    while(await inst.componentDidUpdate(/* not sure how to get prevProps, prevState*/));
}
child = inst.render();
```

It might nicely solve a giant problem with SSR.",2021-02-06T12:47:53Z
774485633,"@bvaughn @eps1lon Can someone review this pull request? If it's not ok I will close it , Thanks.",2021-02-06T14:28:13Z
774496707,"cool thanks, is this correct? https://codesandbox.io/s/dreamy-elion-0kzkl ",2021-02-06T15:45:46Z
774515004,"It looks like it is something that would be easy to support, but the question is: why would you do that?",2021-02-06T17:53:19Z
774528253,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




Comparing: 903384ab0ccd57efd56225dbc82ba6ad56021380...6e9473e2f9be7ef2dea5d313d2166c59c12e3d49

## Critical size changes

Includes critical production bundles, as well as any change greater than 2%:


  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| oss-stable/react-dom/cjs/react-dom.production.min.js | **=** | 122.28 kB | 122.28 kB | = | 39.49 kB | 39.49 kB
| oss-experimental/react-dom/cjs/react-dom.production.min.js | **=** | 128.86 kB | 128.86 kB | = | 41.52 kB | 41.52 kB
| facebook-www/ReactDOM-prod.classic.js | **=** | 405.64 kB | 405.64 kB | = | 75.23 kB | 75.23 kB
| facebook-www/ReactDOM-prod.modern.js | **=** | 393.99 kB | 393.99 kB | = | 73.43 kB | 73.43 kB
| facebook-www/ReactDOMForked-prod.classic.js | **=** | 405.65 kB | 405.65 kB | = | 75.24 kB | 75.23 kB

## Significant size changes

Includes any change greater than 0.2%:

(No significant changes)

<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 6e9473e2f9be7ef2dea5d313d2166c59c12e3d49
</p>
",2021-02-06T19:17:50Z
774534381,Can we move the OSS bundles first? The FB ones are a bit misleading because thereâ€™s no rewriting pass. ,2021-02-06T20:03:03Z
774537200,in my project i simply changed .js to .jsx and the problem was gone!,2021-02-06T20:15:53Z
774614544,"Looks like this problem was already reported though (#20431) so I'm going to mark this issue as a duplicate and close it. If you have additional context that might help us repro this problem, please leave a comment on the other issue!",2021-02-07T06:31:27Z
774652364,"The same problem in react native(

```js
    const onScroll = useCallback(
      Animated.event([
        {
          nativeEvent: {
            contentOffset: { y: animatedScrollY },
          },
        },
      ]),
      [animatedScrollY],
    );
```

---

Seems need to use `useMemo(() => Animated.event(...),[])` instaed",2021-02-07T10:46:59Z
774664983,"> Is there any solution to this issue?
> I just updated to 16.6.0 but still facing this issue.
> Please suggest any possible working solution.

you can delete the static variable from the wrapped class and keep the static property in the innerComponent only
for example:
you can assign static variable like this:
`IssueRowPlain.contextType = UserContext;`
wrap the component
`const IssueRow = withRouter(IssueRowPlain);`
then delete the static variable from result wrapped component
`delete IssueRow.contextType; `
",2021-02-07T12:16:55Z
774688666,"There was already a thread tracking this but I canâ€™t find it. Maybe the author got blocked by GitHub. We do plan to switch to `main` but there were some tooling updates that needed to be rolled out first for the transition to be smooth. I think thatâ€™s mostly done now but would need to double-check. In the meantime Iâ€™ll lock this thread because unfortunately threads like this often attract trolls, and we donâ€™t want to spam people watching the repo. ",2021-02-07T15:01:01Z
774731819,"I have also had trouble using the `br` tag in the past in React. To elaborate on the issue, using `br` in JSX requires that you provide a closing tag for it:
```
<br></br>
```
Otherwise, I would receive the syntax error `Expected corresponding JSX closing tag for <br>`. 

Was that also your experience @jaissugam? ",2021-02-07T18:50:48Z
774734194,"Hey @tsairinius , thanks for resolving the issue for me. The closing tag did fix the issue but I was wondering if this rule was some JSX development negligence or if there's a particular reason to have a rule like that?",2021-02-07T19:00:33Z
774743858,"@jaissugam Someone can correct me on this if I'm wrong, but from what I understand, JSX expects elements with no children (eg. br, input, img) to either be written as: 
```
<br /> 
```
or 
```
<br></br>
```

It's more favorable to actually use the former version since it's more concise. I should have used that in my previous comment. 

Details can be found in this discussion :https://stackoverflow.com/questions/48991212/react-component-closing-tag",2021-02-07T19:35:20Z
774876160,Waiting for ESModule export of react!,2021-02-08T05:26:23Z
775100031,"Is there a fix in progress, for upcoming versions, for this bug? I am facing this issue https://github.com/mui-org/material-ui/issues/24783 , which cant be resolved because of this.",2021-02-08T12:08:35Z
775204763,"> I'm consolidating these few places to match the Lane terminology (which we tend to use in the informal discussions):
>
> * **Discrete** (e.g. `click`)
> * **Continuous** (e.g. `mousemove`)
> * **Default** (e.g. `load`)

I understand the difference/significance between user-blocking events like `click` and `mousemove`, but conceptually it seems like there's also an important difference between events like `load` (which seems discrete) and `progress` (which seems continuous) so it seems odd to me to see those collapsed into one category of ""default"".",2021-02-08T14:53:32Z
775206138,">conceptually it seems like there's also an important difference between events like load (which seems discrete) and progress (which seems continuous) so it seems odd to me to see those collapsed into one category of ""default"".

Just to be clear, this is not new, right? They weren't really ""continuous"" in the Reconciler sense of the word, so that's what I'm amending.",2021-02-08T14:55:31Z
775207102,"Maybe another way to think of default is ""NonUserInput"". Discrete and continuous are triggered by the user, the rest are triggered by the system. Since they're triggered by the system, the user can't have specific expectations about their order or deadline.",2021-02-08T14:57:00Z
775207443,"> > conceptually it seems like there's also an important difference between events like load (which seems discrete) and progress (which seems continuous) so it seems odd to me to see those collapsed into one category of ""default"".
>
> Just to be clear, this is not new, right? They weren't really ""continuous"" in the Reconciler sense of the word, so that's what I'm amending.

I guess I've never _fully_ understood parts of our event stuff, and since it seems like we're moving to simplify/clarify it, I thought I'd ask why we only have 3 categories (instead of a matrix of user-blocking vs not and continuous vs discrete).",2021-02-08T14:57:31Z
775209638,"Sure, we could do that, but we'd never have discrete non-user-blocking events. So it's not exactly a matrix but more like three groups. User-blocking (discrete vs not), and non-UB.",2021-02-08T15:00:42Z
775210344,"But also, I didn't really mean to align naming _everywhere_, I just want to align the Events naming with existing naming in Event Replaying and Reconciler. Not change all three necessarily.",2021-02-08T15:01:42Z
775213625,"> Sure, we could do that, but we'd never have discrete non-user-blocking events. So it's not exactly a matrix but more like three groups. User-blocking (discrete vs not), and non-UB.

I see. One thing I'm still a little confused about (and feel free to tell me to just read the code) is the expected behavior for events that are _conceptually_ both non-user-blocking _and_ continuous. For instance ""progress"" events. Do we just queue up and fire a ton of them and rely on our batching mechanisms to smash them all into a small number of commits?",2021-02-08T15:06:27Z
775216337,"> I am facing this issue mui-org/material-ui#24783 , which cant be resolved because of this.

Could you explain in the Material-UI issue why this can't be resolved for you? We were under the impression that we worked around this bug for our specific usage.

For updates on a fix, https://github.com/facebook/react/issues/20074#issuecomment-717318697 is the latest update. From what I gather the team is already experimenting with potential fixes. You can subscribe to this (https://github.com/facebook/react/issues/20074) github issue to get notified about updates. Asking for updates does not speed up delivery of said update.",2021-02-08T15:10:37Z
775219455,"@JPNZ4 No. There is no current alternative for the User Timing marks that used to be in React DEV builds. Typically we suggest using the React DevTools Profiler instead but for your use case that wouldn't really be relevant.

We have some ongoing efforts on building a new profiling tool that would be similar to the user marks, which you can read about (and even beta test) [here](https://twitter.com/brian_d_vaughn/status/1284172834810585089) but I don't expect we'll release this in a more stable format for at least a few months because of competing priorities.",2021-02-08T15:15:10Z
775229086,"I've made [a small library to deal with this](https://www.npmjs.com/package/react-component-state-cache), it allows you to write code like

```javascript
    componentDidMount() {
        // Restore the component state as it was stored for key '3' in section 'page'
        //
        // You can choose 'section' and 'key' freely, of course.
        this.setState(this.props.componentstate.get('page', 3))
    }

    componentDidUnmount() {
         // store this state's component in section 'page' with key '3'
        this.props.componentstate.set('page', 3, this.state)
    }
```

which would be useful for a number of use cases, for example multi-page forms. Hope it is of use to someone.",2021-02-08T15:28:41Z
775253646,"I think they're subject to the same batching and deadlines that regular `setState` (e.g. in AJAX callbacks) are. So it's just regular batching behavior, the baseline. User-blocking are special because they have a tighter deadline, and discrete in particular are special because each corresponds to a concrete user input, so we can't batch them.",2021-02-08T16:05:10Z
775347723,"I'll add myself as a reviewer to reminder myself at some point in the future but I'm pretty swamped right now so I'm not committing to look any time soon.

It doesn't hurt anything to leave the PR open so I suggest you just do that. :)",2021-02-08T18:24:04Z
775401524,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




Comparing: b5bac18219636112a450d392c02102ec56262c74...1f8e6429d3215131bfef6b445f7e27627bd818fa

## Critical size changes

Includes critical production bundles, as well as any change greater than 2%:


  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| oss-stable/react-dom/cjs/react-dom.production.min.js | **+0.75%** | 122.28 kB | 123.20 kB | +0.34% | 39.49 kB | 39.62 kB
| oss-experimental/react-dom/cjs/react-dom.production.min.js | **+0.71%** | 128.86 kB | 129.78 kB | +0.36% | 41.52 kB | 41.66 kB
| facebook-www/ReactDOM-prod.classic.js | **+0.43%** | 405.61 kB | 407.36 kB | +0.22% | 75.22 kB | 75.38 kB
| facebook-www/ReactDOM-prod.modern.js | **+0.44%** | 393.96 kB | 395.71 kB | +0.18% | 73.42 kB | 73.55 kB
| facebook-www/ReactDOMForked-prod.classic.js | **+0.43%** | 405.62 kB | 407.37 kB | +0.22% | 75.22 kB | 75.38 kB

## Significant size changes

Includes any change greater than 0.2%:


<details>
<summary>Expand to show</summary>

  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| oss-stable/react-dom/cjs/react-dom.production.min.js | **+0.75%** | 122.28 kB | 123.20 kB | +0.34% | 39.49 kB | 39.62 kB
| oss-stable/react-dom/umd/react-dom.production.min.js | **+0.75%** | 122.19 kB | 123.11 kB | +0.26% | 40.19 kB | 40.29 kB
| oss-stable/react-dom/cjs/react-dom.profiling.min.js | **+0.73%** | 126.63 kB | 127.55 kB | +0.34% | 40.76 kB | 40.90 kB
| oss-stable/react-dom/umd/react-dom.profiling.min.js | **+0.72%** | 126.39 kB | 127.30 kB | +0.29% | 41.46 kB | 41.59 kB
| oss-experimental/react-dom/cjs/react-dom.production.min.js | **+0.71%** | 128.86 kB | 129.78 kB | +0.36% | 41.52 kB | 41.66 kB
| oss-experimental/react-dom/umd/react-dom.production.min.js | **+0.71%** | 128.69 kB | 129.60 kB | +0.36% | 42.20 kB | 42.35 kB
| oss-experimental/react-dom/cjs/react-dom.profiling.min.js | **+0.68%** | 134.86 kB | 135.79 kB | +0.41% | 43.30 kB | 43.47 kB
| oss-experimental/react-dom/umd/react-dom.profiling.min.js | **+0.68%** | 134.52 kB | 135.43 kB | +0.34% | 43.94 kB | 44.09 kB
| facebook-www/ReactDOM-prod.modern.js | **+0.44%** | 393.96 kB | 395.71 kB | +0.18% | 73.42 kB | 73.55 kB
| facebook-www/ReactDOMForked-prod.modern.js | **+0.44%** | 393.97 kB | 395.72 kB | +0.18% | 73.43 kB | 73.56 kB
| facebook-www/ReactDOMTesting-prod.classic.js | **+0.44%** | 400.37 kB | 402.12 kB | +0.22% | 75.58 kB | 75.75 kB
| facebook-www/ReactDOM-prod.classic.js | **+0.43%** | 405.61 kB | 407.36 kB | +0.22% | 75.22 kB | 75.38 kB
| facebook-www/ReactDOMForked-prod.classic.js | **+0.43%** | 405.62 kB | 407.37 kB | +0.22% | 75.22 kB | 75.38 kB
| facebook-www/ReactDOM-profiling.modern.js | **+0.42%** | 412.79 kB | 414.54 kB | +0.18% | 76.68 kB | 76.81 kB
| facebook-www/ReactDOMForked-profiling.modern.js | **+0.42%** | 412.80 kB | 414.55 kB | +0.18% | 76.69 kB | 76.82 kB
| facebook-www/ReactDOMTesting-prod.modern.js | **+0.42%** | 386.84 kB | 388.45 kB | +0.23% | 73.36 kB | 73.53 kB
| facebook-www/ReactDOM-profiling.classic.js | **+0.41%** | 424.49 kB | 426.24 kB | +0.22% | 78.50 kB | 78.67 kB
| facebook-www/ReactDOMForked-profiling.classic.js | **+0.41%** | 424.50 kB | 426.25 kB | +0.22% | 78.50 kB | 78.67 kB
</details>


<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 1f8e6429d3215131bfef6b445f7e27627bd818fa
</p>
",2021-02-08T19:53:09Z
775449674,"Heh, a fair question. In my case, I needed it in order to support generics for a hook that helps manage state for asynchronous calls like mutations:

```
export function useAsyncAction<F extends (...args: unknown[]) => Promise<R>, R>(
  doAction: F,
): [
  doActionWithState: F,
  isDoingAction: boolean,
  errorDoingAction: unknown | null,
  clearErrorDoingAction: () => void,
] {
  const [isDoingAction, setIsDoingAction] = useState<boolean>(false);
  const [errorDoingAction, setErrorDoingAction] = useState<unknown | null>(null);

  // https://github.com/facebook/react/issues/20750
  // eslint-disable-next-line react-hooks/exhaustive-deps
  const doActionWithState = useCallback(
    (async (...args: unknown[]): Promise<R> => {
      setIsDoingAction((prevIsDoingAction) => {
        if (prevIsDoingAction) {
          throw new ReentrancyError(doAction);
        }
        return true;
      });
      setErrorDoingAction(null);

      try {
        return await doAction(...args);
      } catch (e: unknown) {
        setErrorDoingAction(e);
        throw e;
      } finally {
        setIsDoingAction(false);
      }
    }) as F,
    [doAction],
  );

  const clearErrorDoingAction = useCallback(() => setErrorDoingAction(null), []);

  return [doActionWithState, isDoingAction, errorDoingAction, clearErrorDoingAction];
}
```

Without the cast, TS doesn't know that the shape of the args object is the same. On the return statement, TS warns:

```
Type '(...args: unknown[]) => Promise<R>' is not assignable to type 'F'.
  '(...args: unknown[]) => Promise<R>' is assignable to the constraint of type 'F', but 'F' could be instantiated with a different subtype of constraint '(...args: unknown[]) => Promise<R>'.ts(2322)
```

This remains true even if I make the args a generic type too, so I think the issue is unavoidable.",2021-02-08T20:48:15Z
775462835,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




Comparing: 77754ae6183197a63716202f71be5d396f0f2b9a...40b3ae49590833910791cce1098d8b7b6b916700

## Critical size changes

Includes critical production bundles, as well as any change greater than 2%:


  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| oss-stable/react-dom/cjs/react-dom.production.min.js | **=** | 123.20 kB | 122.41 kB | = | 39.62 kB | 39.46 kB
| oss-experimental/react-dom/cjs/react-dom.production.min.js | **=** | 129.78 kB | 128.99 kB | = | 41.66 kB | 41.49 kB
| facebook-www/ReactDOM-prod.classic.js | **=** | 407.36 kB | 406.03 kB | = | 75.38 kB | 75.21 kB
| facebook-www/ReactDOM-prod.modern.js | **=** | 395.71 kB | 394.37 kB | = | 73.55 kB | 73.39 kB
| facebook-www/ReactDOMForked-prod.classic.js | **=** | 407.37 kB | 406.04 kB | = | 75.38 kB | 75.22 kB

## Significant size changes

Includes any change greater than 0.2%:


<details>
<summary>Expand to show</summary>

  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| facebook-www/ReactDOMForked-profiling.classic.js | **=** | 426.25 kB | 424.92 kB | = | 78.67 kB | 78.51 kB
| facebook-www/ReactDOM-profiling.classic.js | **=** | 426.24 kB | 424.91 kB | = | 78.67 kB | 78.50 kB
| facebook-www/ReactDOMForked-profiling.modern.js | **=** | 414.55 kB | 413.22 kB | = | 76.82 kB | 76.66 kB
| facebook-www/ReactDOM-profiling.modern.js | **=** | 414.54 kB | 413.21 kB | = | 76.82 kB | 76.65 kB
| facebook-www/ReactDOMForked-prod.classic.js | **=** | 407.37 kB | 406.04 kB | = | 75.38 kB | 75.22 kB
| facebook-www/ReactDOM-prod.classic.js | **=** | 407.36 kB | 406.03 kB | = | 75.38 kB | 75.21 kB
| facebook-www/ReactDOMTesting-prod.classic.js | **=** | 402.12 kB | 400.79 kB | = | 75.75 kB | 75.58 kB
| facebook-www/ReactDOMForked-prod.modern.js | **=** | 395.72 kB | 394.38 kB | = | 73.56 kB | 73.40 kB
| facebook-www/ReactDOM-prod.modern.js | **=** | 395.71 kB | 394.37 kB | = | 73.55 kB | 73.39 kB
| facebook-www/ReactDOMTesting-prod.modern.js | **=** | 388.45 kB | 387.12 kB | = | 73.53 kB | 73.36 kB
| oss-experimental/react-dom/cjs/react-dom.profiling.min.js | **=** | 135.79 kB | 134.99 kB | = | 43.48 kB | 43.31 kB
| oss-experimental/react-dom/umd/react-dom.profiling.min.js | **=** | 135.43 kB | 134.64 kB | = | 44.09 kB | 43.94 kB
| oss-experimental/react-dom/cjs/react-dom.production.min.js | **=** | 129.78 kB | 128.99 kB | = | 41.66 kB | 41.49 kB
| oss-experimental/react-dom/umd/react-dom.production.min.js | **=** | 129.60 kB | 128.81 kB | = | 42.36 kB | 42.19 kB
| oss-stable/react-dom/cjs/react-dom.profiling.min.js | **=** | 127.55 kB | 126.76 kB | = | 40.90 kB | 40.74 kB
| oss-stable/react-dom/umd/react-dom.profiling.min.js | **=** | 127.30 kB | 126.51 kB | = | 41.59 kB | 41.41 kB
| oss-stable/react-dom/cjs/react-dom.production.min.js | **=** | 123.20 kB | 122.41 kB | = | 39.62 kB | 39.46 kB
| oss-stable/react-dom/umd/react-dom.production.min.js | **=** | 123.11 kB | 122.32 kB | = | 40.29 kB | 40.13 kB
</details>


<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 40b3ae49590833910791cce1098d8b7b6b916700
</p>
",2021-02-08T21:08:18Z
775479400,">Note that you get a warning about invalid DOM nesting for React 16 and 17.

Yep! But it worked in 16 haha

>With native HTML the child will never be submitted but every submit button inside that form submits the parent:

Makes sense to go with the native behaviour but in this case it's not even doing that. It's just flat out submitting **A** form (not sure which) without triggering either the child or the parent forms `onSubmit` in react.

I would expect if it were following the 'native' behaviour you describe for it to at least call the parent forms `onSubmit`",2021-02-08T21:36:33Z
775481471,Note I added tests for all of these events in `ReactDOMEventPropagation-test.js` a while ago so we should be safe.,2021-02-08T21:40:17Z
775489981,">I've noticed that when I click on the inner form, React only receives the captured event, but not the bubbled one. Any ideas why?

^^ I would start the investigation here.",2021-02-08T21:56:38Z
775491894,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




Comparing: 77754ae6183197a63716202f71be5d396f0f2b9a...b17076f2822586fd8683b4932c8f9d3c4cab044b

## Critical size changes

Includes critical production bundles, as well as any change greater than 2%:


  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| oss-stable/react-dom/cjs/react-dom.production.min.js | **=** | 123.20 kB | 123.20 kB | = | 39.62 kB | 39.63 kB
| oss-experimental/react-dom/cjs/react-dom.production.min.js | **=** | 129.78 kB | 129.78 kB | = | 41.66 kB | 41.67 kB
| facebook-www/ReactDOM-prod.classic.js | **=** | 407.36 kB | 407.36 kB | = | 75.38 kB | 75.38 kB
| facebook-www/ReactDOM-prod.modern.js | **=** | 395.71 kB | 395.71 kB | = | 73.55 kB | 73.55 kB
| facebook-www/ReactDOMForked-prod.classic.js | **=** | 407.37 kB | 407.37 kB | = | 75.38 kB | 75.38 kB

## Significant size changes

Includes any change greater than 0.2%:

(No significant changes)

<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against b17076f2822586fd8683b4932c8f9d3c4cab044b
</p>
",2021-02-08T22:00:35Z
775514743,"Sorry, it's my fault. Thanks for your advices.",2021-02-08T22:46:56Z
775696664,Still the React devtools v4.10.1 on firefox developer edition v86.0b7 is not working in private mode and showing the same message `Unable to find React on the page`,2021-02-09T06:12:13Z
775736551,"The above comment doesn't say where it is being assigned i.e. the left side of the assignment. I assigned the above solution in this way:

```
<MyReactComponent>.propTypes = React.PropTypes.oneOfType([
  React.PropTypes.shape({
    width: React.PropTypes.number.isRequired
  }),
  React.PropTypes.shape({
    widthOffset: React.PropTypes.number,
    minWidth: React.PropTypes.number.isRequired
  }),  
])
```

And React shows a warning saying that `isRequired` property is required. Using **React 16.3.1**.

**Another question:** How do I use use this exclusive-or properties inside the `PropTypes.shape` when I do not know the property where it is going to be assigned i.e. the left side of the assignment.",2021-02-09T07:37:13Z
775762156,"Thanks for the report.

> setState should works consistent and expected.

It's unclear what you mean by this specifically. ""consistent"" or ""expected"" behavior is subjective so I'd like you to ask to be more specific about the observed behavior you'd like to see.

Note that there are two potential issues with your code:

1. Your functional update in `setState` is not side-effect free.
    It must not mutate the current state.
    ```diff
    const newTodos = prevTodos.map((todo) => {
      if (todo.name === name) {
    -   todo.isDone = !todo.isDone;
    +   return  {
    +     ...todo,
    +     isDone: !todo.isDone,
    +   }
      }
      return todo;
    });
    ```
   For an exhaustive list of what needs to be side-effect free in React check out [Detecting unexpected side effects](https://reactjs.org/docs/strict-mode.html#detecting-unexpected-side-effects)
1. logging objects: these are ""live"" in the console. This means that they don't reflect their values at the time of logging but at the time of inspection. See https://stackoverflow.com/questions/24175017/google-chrome-console-log-inconsistency-with-objects-and-arrays for more information.
",2021-02-09T08:29:48Z
775876746,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




Comparing: 35f7441d374bfa7be8e3e9576fd1388333df49cb...27cb834be5d5a5767e91c3613672090a59337017

## Critical size changes

Includes critical production bundles, as well as any change greater than 2%:


  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| oss-stable/react-dom/cjs/react-dom.production.min.js | **=** | 122.34 kB | 122.34 kB | = | 39.42 kB | 39.42 kB
| oss-experimental/react-dom/cjs/react-dom.production.min.js | **=** | 128.91 kB | 128.91 kB | = | 41.47 kB | 41.47 kB
| facebook-www/ReactDOM-prod.classic.js | **=** | 405.61 kB | 405.61 kB | = | 75.10 kB | 75.10 kB
| facebook-www/ReactDOM-prod.modern.js | **=** | 393.95 kB | 393.95 kB | = | 73.28 kB | 73.28 kB
| facebook-www/ReactDOMForked-prod.classic.js | **=** | 405.62 kB | 403.50 kB | = | 75.10 kB | 74.76 kB

## Significant size changes

Includes any change greater than 0.2%:


<details>
<summary>Expand to show</summary>

  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| facebook-www/ReactDOMForked-profiling.classic.js | **=** | 424.50 kB | 422.40 kB | = | 78.39 kB | 78.06 kB
| facebook-www/ReactDOMForked-profiling.modern.js | **=** | 412.80 kB | 410.70 kB | = | 76.54 kB | 76.20 kB
| facebook-www/ReactDOMForked-prod.classic.js | **=** | 405.62 kB | 403.50 kB | = | 75.10 kB | 74.76 kB
| facebook-www/ReactDOMForked-prod.modern.js | **=** | 393.96 kB | 391.85 kB | = | 73.27 kB | 72.93 kB
| facebook-www/ReactDOMForked-dev.classic.js | **=** | 1,049.40 kB | 1,042.11 kB | = | 232.15 kB | 230.77 kB
| facebook-www/ReactDOMForked-dev.modern.js | **=** | 1,023.20 kB | 1,015.91 kB | = | 227.02 kB | 225.64 kB
</details>


<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 27cb834be5d5a5767e91c3613672090a59337017
</p>
",2021-02-09T11:38:51Z
775889723,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




Comparing: 35f7441d374bfa7be8e3e9576fd1388333df49cb...11a45ece21733bcd202b27e0fedb32ac2ec3aeaa

## Critical size changes

Includes critical production bundles, as well as any change greater than 2%:


  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| oss-stable/react-dom/cjs/react-dom.production.min.js | **=** | 122.34 kB | 122.34 kB | = | 39.42 kB | 39.42 kB
| oss-experimental/react-dom/cjs/react-dom.production.min.js | **=** | 128.91 kB | 128.91 kB | = | 41.47 kB | 41.47 kB
| facebook-www/ReactDOM-prod.classic.js | **=** | 405.61 kB | 405.61 kB | = | 75.10 kB | 75.10 kB
| facebook-www/ReactDOM-prod.modern.js | **=** | 393.95 kB | 393.95 kB | = | 73.28 kB | 73.27 kB
| facebook-www/ReactDOMForked-prod.classic.js | **=** | 405.62 kB | 403.94 kB | = | 75.10 kB | 74.84 kB

## Significant size changes

Includes any change greater than 0.2%:


<details>
<summary>Expand to show</summary>

  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| facebook-www/ReactDOMForked-profiling.classic.js | **=** | 424.50 kB | 422.84 kB | = | 78.39 kB | 78.14 kB
| facebook-www/ReactDOMForked-profiling.modern.js | **=** | 412.80 kB | 411.13 kB | = | 76.54 kB | 76.28 kB
| facebook-www/ReactDOMForked-prod.classic.js | **=** | 405.62 kB | 403.94 kB | = | 75.10 kB | 74.84 kB
| facebook-www/ReactDOMForked-prod.modern.js | **=** | 393.96 kB | 392.29 kB | = | 73.27 kB | 73.00 kB
| facebook-www/ReactDOMForked-dev.classic.js | **=** | 1,049.40 kB | 1,043.27 kB | = | 232.15 kB | 231.16 kB
| facebook-www/ReactDOMForked-dev.modern.js | **=** | 1,023.20 kB | 1,017.07 kB | = | 227.02 kB | 226.03 kB
</details>


<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 11a45ece21733bcd202b27e0fedb32ac2ec3aeaa
</p>
",2021-02-09T12:04:34Z
775908974,"> Just ran into this as well. Assuming this still isn't supported? The promise never resolves and the suspense state always renders the fallback.

https://www.youtube.com/watch?v=lfb5jvHq9c4",2021-02-09T12:42:22Z
775965194,+1 for a docs reference,2021-02-09T14:08:52Z
776073231,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




Comparing: 6c526c5153bc350d2a62c7dcbc698be77d3f2439...a2520736831d3979a0f0bbbdd5619b17b6e6c0c0

## Critical size changes

Includes critical production bundles, as well as any change greater than 2%:


  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| oss-stable/react-dom/cjs/react-dom.production.min.js | **=** | 122.31 kB | 122.31 kB | = | 39.41 kB | 39.42 kB
| oss-experimental/react-dom/cjs/react-dom.production.min.js | **=** | 128.89 kB | 128.89 kB | = | 41.46 kB | 41.46 kB
| facebook-www/ReactDOM-prod.classic.js | **=** | 406.07 kB | 406.07 kB | = | 75.19 kB | 75.19 kB
| facebook-www/ReactDOM-prod.modern.js | **=** | 394.42 kB | 394.42 kB | = | 73.36 kB | 73.36 kB
| facebook-www/ReactDOMForked-prod.classic.js | **=** | 406.08 kB | 406.08 kB | = | 75.19 kB | 75.19 kB

## Significant size changes

Includes any change greater than 0.2%:

(No significant changes)

<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against a2520736831d3979a0f0bbbdd5619b17b6e6c0c0
</p>
",2021-02-09T16:40:33Z
776076606,"anyone seeing this in react 17 as well? seeing what seems like a similar issue in an app on react 17. trying the latest 16 to compare. 
",2021-02-09T16:45:20Z
776076665,anyone seeing this in react 17 as well?,2021-02-09T16:45:26Z
776130146,"> 1. On initializing dev tools for react components

@jasman7799 This isn't enough info for one of us to investigate the issue. Can you please provide more context?

Please provide a CodeSandbox (https://codesandbox.io/s/new), a link to a repository on GitHub, or provide a minimal code example that reproduces the problem. Screenshots or videos can also be helpful if they help provide context on how to repro the bug.

Here are some tips for providing a minimal example: https://stackoverflow.com/help/mcve",2021-02-09T18:03:53Z
776135669,"I would suggest making it optional setting or even just a flag at the beginning of your meta listener, ie
```javascript
if (listenerCount) {
// skip trying to walk up from the target looking for listeners, since none exist
}
```
I would see why you wouldn't want to go through function initialization a bunch of extra times in order to solve for an uncommon use case, but two lines to increment/decrement a counter on registration/deregistration, and one boolean check on event dispatching shouldn't ever have any effect on performance, whereas on a slow device, a nontrivial operation like walking through the tree on every mouseevent could probably have a noticeable effect.

All that being said if domshlak is the one raising this issue and he can't provide evidence of a noticeable performance impact, then even though his point makes sense in theory it may be a premature optimization to to solve for it.

I am not having issues with this haha. I actually just came here looking for info on how to do basic global event registration within the react event space (register events on app root which I can avoid triggering with stopPropagation, without using window and having stopProp kill all react events)",2021-02-09T18:12:39Z
776147945,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




Comparing: 3499c343ab48968192aaefe295dcf4185b3a4f99...3721e62600e48c46428917a3c4f81e44fa222b03

## Critical size changes

Includes critical production bundles, as well as any change greater than 2%:


  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| oss-stable/react-dom/cjs/react-dom.production.min.js | **=** | 122.54 kB | 122.54 kB | = | 39.47 kB | 39.47 kB
| oss-experimental/react-dom/cjs/react-dom.production.min.js | **=** | 129.11 kB | 129.11 kB | = | 41.51 kB | 41.51 kB
| facebook-www/ReactDOM-prod.classic.js | **+0.06%** | 406.66 kB | 406.92 kB | +0.09% | 75.39 kB | 75.45 kB
| facebook-www/ReactDOM-prod.modern.js | **+0.06%** | 395.01 kB | 395.26 kB | +0.08% | 73.50 kB | 73.56 kB
| facebook-www/ReactDOMForked-prod.classic.js | **+0.06%** | 406.67 kB | 406.93 kB | +0.09% | 75.39 kB | 75.45 kB

## Significant size changes

Includes any change greater than 0.2%:


<details>
<summary>Expand to show</summary>

  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| facebook-www/ReactIs-dev.modern.js | **+0.91%** | 9.96 kB | 10.05 kB | +0.85% | 2.70 kB | 2.72 kB
| facebook-www/ReactIs-dev.classic.js | **+0.91%** | 9.96 kB | 10.05 kB | +0.85% | 2.70 kB | 2.73 kB
| facebook-www/SchedulerTracing-dev.modern.js | **+0.81%** | 11.25 kB | 11.34 kB | +1.01% | 2.47 kB | 2.50 kB
| facebook-www/SchedulerTracing-dev.classic.js | **+0.81%** | 11.25 kB | 11.34 kB | +0.97% | 2.48 kB | 2.50 kB
| facebook-www/JSXDEVRuntime-dev.modern.js | **+0.22%** | 41.72 kB | 41.81 kB | +0.21% | 11.66 kB | 11.69 kB
| facebook-www/JSXDEVRuntime-dev.classic.js | **+0.22%** | 41.72 kB | 41.82 kB | +0.21% | 11.66 kB | 11.69 kB
</details>


<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 3721e62600e48c46428917a3c4f81e44fa222b03
</p>
",2021-02-09T18:31:02Z
776148820,Gonna do the rest in follow-ups.,2021-02-09T18:32:27Z
776191029,"If you're willing to use css you could put the dynamic image urls in css vars via the `style` tag and then read those in your static css.

js
```
<Component
  style={{""--image1"": ""foo.jpg"", ""--image1x"": ""foo1x.jpg"", ""--image2x"": ""foo2x.jpg""}}
  className=""image""
/>
```

css
```
.image {
  background-image: url(--image1); 
  background-image: -webkit-image-set(url(--image1x) 1x, url(--image2x) 2x)
}
```",2021-02-09T19:38:20Z
776192632,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




Comparing: 97fce318a6618bc883a8578f58b9083484c9e6d7...f945f3a60c1f044744c30f7d9ab6ae70f77e5c96

## Critical size changes

Includes critical production bundles, as well as any change greater than 2%:


  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| oss-stable/react-dom/cjs/react-dom.production.min.js | **=** | 122.31 kB | 122.31 kB | = | 39.42 kB | 39.42 kB
| oss-experimental/react-dom/cjs/react-dom.production.min.js | **=** | 128.89 kB | 128.89 kB | = | 41.46 kB | 41.46 kB
| facebook-www/ReactDOM-prod.classic.js | **=** | 406.62 kB | 406.62 kB | = | 75.37 kB | 75.37 kB
| facebook-www/ReactDOM-prod.modern.js | **=** | 394.97 kB | 394.97 kB | = | 73.49 kB | 73.49 kB
| facebook-www/ReactDOMForked-prod.classic.js | **=** | 406.63 kB | 406.63 kB | = | 75.37 kB | 75.37 kB

## Significant size changes

Includes any change greater than 0.2%:

(No significant changes)

<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against f945f3a60c1f044744c30f7d9ab6ae70f77e5c96
</p>
",2021-02-09T19:40:54Z
776201667,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




Comparing: 6c526c5153bc350d2a62c7dcbc698be77d3f2439...73b40f7a68ac90f785f8a0dcd28a16f97755453a

## Critical size changes

Includes critical production bundles, as well as any change greater than 2%:


  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| oss-stable/react-dom/cjs/react-dom.production.min.js | **=** | 122.31 kB | 122.31 kB | = | 39.41 kB | 39.42 kB
| oss-experimental/react-dom/cjs/react-dom.production.min.js | **=** | 128.89 kB | 128.89 kB | = | 41.46 kB | 41.46 kB
| facebook-www/ReactDOM-prod.classic.js | **=** | 406.07 kB | 406.07 kB | = | 75.19 kB | 75.19 kB
| facebook-www/ReactDOM-prod.modern.js | **=** | 394.42 kB | 394.42 kB | = | 73.36 kB | 73.36 kB
| facebook-www/ReactDOMForked-prod.classic.js | **=** | 406.08 kB | 406.08 kB | = | 75.19 kB | 75.19 kB

## Significant size changes

Includes any change greater than 0.2%:

(No significant changes)

<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 73b40f7a68ac90f785f8a0dcd28a16f97755453a
</p>
",2021-02-09T19:56:51Z
776204555,"I'd love to find a solution (or at least workaround) for this issue.
It persists on Next.js without snowpack, only using react-refresh.
See https://github.com/mobxjs/mobx/discussions/2794#discussion-3151716",2021-02-09T20:01:59Z
776212586,"~~I pushed a suggestion to your PR branch, not sure why it's not showing up here but this is it: https://github.com/bvaughn/react/commit/73b40f7a68ac90f785f8a0dcd28a16f97755453a~~ Spoke too soon, GitHub updated now :D",2021-02-09T20:11:44Z
776217461,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




Comparing: d919e2c41c71fc7bc4ae037b3a3c60a4600d0a54...9c07beb70145c238864ee935c7e0c279109b5f30

## Critical size changes

Includes critical production bundles, as well as any change greater than 2%:


  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| oss-stable/react-dom/cjs/react-dom.production.min.js | **+0.14%** | 122.31 kB | 122.48 kB | +0.08% | 39.42 kB | 39.45 kB
| oss-experimental/react-dom/cjs/react-dom.production.min.js | **+0.13%** | 128.89 kB | 129.06 kB | +0.09% | 41.46 kB | 41.50 kB
| facebook-www/ReactDOM-prod.classic.js | **+0.05%** | 406.62 kB | 406.84 kB | +0.07% | 75.37 kB | 75.42 kB
| facebook-www/ReactDOM-prod.modern.js | **+0.06%** | 394.97 kB | 395.19 kB | +0.06% | 73.49 kB | 73.54 kB
| facebook-www/ReactDOMForked-prod.classic.js | **+0.05%** | 406.63 kB | 406.85 kB | +0.07% | 75.37 kB | 75.42 kB

## Significant size changes

Includes any change greater than 0.2%:

(No significant changes)

<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 9c07beb70145c238864ee935c7e0c279109b5f30
</p>
",2021-02-09T20:20:29Z
776254776,I have this tab open for review soonish...,2021-02-09T21:26:23Z
776255400,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




Comparing: d1845ad0ff6c69ea377d710d4053d9bd65e0d0ff...2069b21c34209a11f20bd05f6553803ea931d39f

## Critical size changes

Includes critical production bundles, as well as any change greater than 2%:


  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| oss-stable/react-dom/cjs/react-dom.production.min.js | **=** | 122.54 kB | 122.22 kB | = | 39.46 kB | 39.36 kB
| oss-experimental/react-dom/cjs/react-dom.production.min.js | **=** | 129.11 kB | 128.81 kB | = | 41.51 kB | 41.39 kB
| facebook-www/ReactDOM-prod.classic.js | **=** | 406.92 kB | 404.97 kB | = | 75.45 kB | 75.14 kB
| facebook-www/ReactDOM-prod.modern.js | **=** | 395.26 kB | 393.32 kB | = | 73.56 kB | 73.23 kB
| facebook-www/ReactDOMForked-prod.classic.js | **=** | 406.93 kB | 404.98 kB | = | 75.45 kB | 75.14 kB

## Significant size changes

Includes any change greater than 0.2%:


<details>
<summary>Expand to show</summary>

  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| facebook-www/JSXDEVRuntime-dev.classic.js | **=** | 41.82 kB | 41.73 kB | = | 11.69 kB | 11.67 kB
| facebook-www/JSXDEVRuntime-dev.modern.js | **=** | 41.81 kB | 41.73 kB | = | 11.69 kB | 11.67 kB
| oss-experimental/react-dom/cjs/react-dom.profiling.min.js | **=** | 135.12 kB | 134.82 kB | = | 43.34 kB | 43.22 kB
| oss-experimental/react-dom/umd/react-dom.profiling.min.js | **=** | 134.78 kB | 134.47 kB | = | 43.94 kB | 43.85 kB
| oss-experimental/react-dom/cjs/react-dom.production.min.js | **=** | 129.11 kB | 128.81 kB | = | 41.51 kB | 41.39 kB
| oss-experimental/react-dom/umd/react-dom.production.min.js | **=** | 128.95 kB | 128.65 kB | = | 42.21 kB | 42.08 kB
| oss-stable/react-dom/cjs/react-dom.profiling.min.js | **=** | 126.89 kB | 126.58 kB | = | 40.76 kB | 40.64 kB
| oss-stable/react-dom/umd/react-dom.profiling.min.js | **=** | 126.65 kB | 126.33 kB | = | 41.42 kB | 41.29 kB
| oss-stable/react-dom/cjs/react-dom.production.min.js | **=** | 122.54 kB | 122.22 kB | = | 39.46 kB | 39.36 kB
| oss-stable/react-dom/umd/react-dom.production.min.js | **=** | 122.46 kB | 122.14 kB | = | 40.15 kB | 40.02 kB
| oss-experimental/react-art/umd/react-art.production.min.js | **=** | 117.52 kB | 117.22 kB | = | 36.69 kB | 36.55 kB
| oss-stable/react-art/umd/react-art.production.min.js | **=** | 112.63 kB | 112.31 kB | = | 35.12 kB | 35.01 kB
| oss-experimental/react-reconciler/cjs/react-reconciler.profiling.min.js | **=** | 97.92 kB | 97.62 kB | = | 30.34 kB | 30.25 kB
| oss-experimental/react-reconciler/cjs/react-reconciler.production.min.js | **=** | 92.01 kB | 91.70 kB | = | 28.59 kB | 28.48 kB
| oss-stable/react-reconciler/cjs/react-reconciler.profiling.min.js | **=** | 90.91 kB | 90.60 kB | = | 28.22 kB | 28.10 kB
| oss-stable/react-reconciler/cjs/react-reconciler.production.min.js | **=** | 86.65 kB | 86.33 kB | = | 26.98 kB | 26.86 kB
| facebook-www/ReactDOMTesting-prod.classic.js | **=** | 400.89 kB | 399.44 kB | = | 75.67 kB | 75.46 kB
| oss-experimental/react-test-renderer/cjs/react-test-renderer.production.min.js | **=** | 81.95 kB | 81.65 kB | = | 25.70 kB | 25.58 kB
| oss-experimental/react-art/cjs/react-art.production.min.js | **=** | 81.64 kB | 81.34 kB | = | 25.52 kB | 25.39 kB
| facebook-www/ReactDOMTesting-prod.modern.js | **=** | 387.29 kB | 385.84 kB | = | 73.38 kB | 73.16 kB
| oss-experimental/react-test-renderer/umd/react-test-renderer.production.min.js | **=** | 82.14 kB | 81.83 kB | = | 26.02 kB | 25.93 kB
| facebook-www/ReactDOMTesting-dev.classic.js | **=** | 976.82 kB | 973.13 kB | = | 219.46 kB | 218.63 kB
| oss-experimental/react-dom/umd/react-dom.development.js | **=** | 1,011.59 kB | 1,007.76 kB | = | 220.98 kB | 219.87 kB
| oss-experimental/react-dom/cjs/react-dom.development.js | **=** | 962.65 kB | 958.96 kB | = | 218.00 kB | 217.19 kB
| facebook-www/ReactDOMTesting-dev.modern.js | **=** | 947.80 kB | 944.11 kB | = | 213.38 kB | 212.58 kB
| oss-stable/react-test-renderer/cjs/react-test-renderer.production.min.js | **=** | 79.54 kB | 79.23 kB | = | 24.87 kB | 24.77 kB
| oss-stable/react-dom/umd/react-dom.development.js | **=** | 957.79 kB | 953.96 kB | = | 210.62 kB | 209.79 kB
| oss-stable/react-test-renderer/umd/react-test-renderer.production.min.js | **=** | 79.73 kB | 79.41 kB | = | 25.15 kB | 25.06 kB
| oss-stable/react-dom/cjs/react-dom.development.js | **=** | 911.41 kB | 907.72 kB | = | 207.99 kB | 207.18 kB
| oss-stable/react-art/cjs/react-art.production.min.js | **=** | 76.81 kB | 76.49 kB | = | 24.00 kB | 23.90 kB
| facebook-www/ReactDOMForked-dev.classic.js | **=** | 1,053.09 kB | 1,048.32 kB | = | 232.97 kB | 232.06 kB
| facebook-www/ReactDOM-dev.classic.js | **=** | 1,053.08 kB | 1,048.31 kB | = | 233.23 kB | 232.02 kB
| facebook-www/ReactDOMForked-profiling.classic.js | **=** | 425.78 kB | 423.84 kB | = | 78.73 kB | 78.40 kB
| facebook-www/ReactDOM-profiling.classic.js | **=** | 425.77 kB | 423.83 kB | = | 78.73 kB | 78.40 kB
| facebook-www/ReactDOMForked-dev.modern.js | **=** | 1,026.89 kB | 1,022.12 kB | = | 227.82 kB | 226.92 kB
| facebook-www/ReactDOM-dev.modern.js | **=** | 1,026.89 kB | 1,022.11 kB | = | 228.10 kB | 226.91 kB
| facebook-www/ReactDOMForked-profiling.modern.js | **=** | 414.08 kB | 412.14 kB | = | 76.82 kB | 76.50 kB
| facebook-www/ReactDOM-profiling.modern.js | **=** | 414.07 kB | 412.13 kB | = | 76.82 kB | 76.49 kB
| facebook-www/ReactDOMForked-prod.classic.js | **=** | 406.93 kB | 404.98 kB | = | 75.45 kB | 75.14 kB
| facebook-www/ReactDOM-prod.classic.js | **=** | 406.92 kB | 404.97 kB | = | 75.45 kB | 75.14 kB
| facebook-www/ReactDOMForked-prod.modern.js | **=** | 395.27 kB | 393.33 kB | = | 73.56 kB | 73.24 kB
| facebook-www/ReactDOM-prod.modern.js | **=** | 395.26 kB | 393.32 kB | = | 73.56 kB | 73.23 kB
| react-native/implementations/ReactNativeRenderer-profiling.js | **=** | 293.98 kB | 292.51 kB | = | 52.61 kB | 52.41 kB
| react-native/implementations/ReactNativeRenderer-profiling.fb.js | **=** | 293.92 kB | 292.45 kB | = | 52.58 kB | 52.38 kB
| react-native/implementations/ReactFabric-profiling.js | **=** | 286.57 kB | 285.11 kB | = | 51.31 kB | 51.07 kB
| react-native/implementations/ReactFabric-profiling.fb.js | **=** | 286.52 kB | 285.06 kB | = | 51.29 kB | 51.04 kB
| react-native/implementations/ReactNativeRenderer-dev.fb.js | **=** | 718.87 kB | 715.17 kB | = | 155.75 kB | 154.87 kB
| oss-experimental/react-art/umd/react-art.development.js | **=** | 742.88 kB | 739.05 kB | = | 158.11 kB | 157.05 kB
| react-native/implementations/ReactNativeRenderer-dev.js | **=** | 713.36 kB | 709.66 kB | = | 154.80 kB | 153.95 kB
| react-native/implementations/ReactNativeRenderer-prod.js | **=** | 281.31 kB | 279.85 kB | = | 50.31 kB | 50.08 kB
| react-native/implementations/ReactNativeRenderer-prod.fb.js | **=** | 281.25 kB | 279.79 kB | = | 50.29 kB | 50.06 kB
| react-native/implementations/ReactFabric-dev.fb.js | **=** | 699.87 kB | 696.18 kB | = | 150.88 kB | 150.04 kB
| oss-experimental/react-reconciler/cjs/react-reconciler.development.js | **=** | 698.28 kB | 694.59 kB | = | 149.55 kB | 148.75 kB
| react-native/implementations/ReactFabric-dev.js | **=** | 694.35 kB | 690.66 kB | = | 150.02 kB | 149.18 kB
| react-native/implementations/ReactFabric-prod.js | **=** | 273.87 kB | 272.41 kB | = | 49.00 kB | 48.73 kB
| react-native/implementations/ReactFabric-prod.fb.js | **=** | 273.83 kB | 272.36 kB | = | 48.97 kB | 48.70 kB
| oss-stable/react-art/umd/react-art.development.js | **=** | 699.62 kB | 695.79 kB | = | 149.29 kB | 148.45 kB
| oss-stable/react-reconciler/cjs/react-reconciler.development.js | **=** | 654.41 kB | 650.73 kB | = | 140.62 kB | 139.81 kB
| facebook-react-native/react-test-renderer/cjs/ReactTestRenderer-profiling.js | **=** | 253.54 kB | 252.09 kB | = | 46.41 kB | 46.21 kB
| oss-experimental/react-art/cjs/react-art.development.js | **=** | 640.06 kB | 636.38 kB | = | 139.59 kB | 138.76 kB
| oss-experimental/react-test-renderer/umd/react-test-renderer.development.js | **=** | 655.80 kB | 651.96 kB | = | 138.50 kB | 137.65 kB
| facebook-www/ReactTestRenderer-dev.modern.js | **=** | 632.04 kB | 628.34 kB | = | 135.80 kB | 134.98 kB
| facebook-www/ReactTestRenderer-dev.classic.js | **=** | 632.02 kB | 628.33 kB | = | 135.79 kB | 134.97 kB
| oss-experimental/react-test-renderer/cjs/react-test-renderer.development.js | **=** | 624.74 kB | 621.05 kB | = | 136.87 kB | 136.05 kB
| facebook-react-native/react-test-renderer/cjs/ReactTestRenderer-prod.js | **=** | 240.98 kB | 239.55 kB | = | 44.16 kB | 43.95 kB
| facebook-react-native/react-test-renderer/cjs/ReactTestRenderer-dev.js | **=** | 619.51 kB | 615.82 kB | = | 134.45 kB | 133.60 kB
| oss-stable/react-test-renderer/umd/react-test-renderer.development.js | **=** | 638.74 kB | 634.90 kB | = | 135.07 kB | 134.22 kB
| oss-stable/react-test-renderer/cjs/react-test-renderer.development.js | **=** | 608.54 kB | 604.85 kB | = | 133.46 kB | 132.63 kB
| oss-stable/react-art/cjs/react-art.development.js | **=** | 598.87 kB | 595.18 kB | = | 131.17 kB | 130.34 kB
| facebook-www/ReactART-dev.classic.js | **=** | 696.40 kB | 691.63 kB | = | 148.00 kB | 146.77 kB
| facebook-www/ReactART-dev.modern.js | **=** | 686.15 kB | 681.38 kB | = | 145.90 kB | 144.69 kB
| facebook-www/ReactART-prod.classic.js | **=** | 261.61 kB | 259.65 kB | = | 46.58 kB | 46.30 kB
| facebook-www/SchedulerTracing-dev.classic.js | **=** | 11.34 kB | 11.25 kB | = | 2.50 kB | 2.48 kB
| facebook-www/SchedulerTracing-dev.modern.js | **=** | 11.34 kB | 11.25 kB | = | 2.50 kB | 2.48 kB
| facebook-www/ReactART-prod.modern.js | **=** | 254.26 kB | 252.30 kB | = | 45.32 kB | 45.02 kB
| facebook-www/ReactIs-dev.classic.js | **=** | 10.05 kB | 9.96 kB | = | 2.73 kB | 2.71 kB
| facebook-www/ReactIs-dev.modern.js | **=** | 10.05 kB | 9.96 kB | = | 2.72 kB | 2.71 kB
</details>


<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 2069b21c34209a11f20bd05f6553803ea931d39f
</p>
",2021-02-09T21:27:33Z
776262074,"@spassvogel Thank you! That's very clever.

I'll close this issue because this fixes the React side of things. Turns out it doesn't quite work in my case anyway, but for reasons not directly related to React. (Using two background-image declarations works fine to achieve a fallback normally, but if I introduce CSS variables, Firefox stops falling back and fails to get a background image at all.) Asked about this [on Stack Overflow](https://stackoverflow.com/questions/66127664/why-does-firefox-try-to-use-an-otherwise-invalid-background-image-declaration-wh).",2021-02-09T21:40:03Z
776273468,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




Comparing: d919e2c41c71fc7bc4ae037b3a3c60a4600d0a54...b2d5521616c82d3498cea4df389e79c70e3521f1

## Critical size changes

Includes critical production bundles, as well as any change greater than 0.50 kB:


  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| oss-stable/react-dom/cjs/react-dom.production.min.js | **-0.31 kB** | 122.31 kB | 122.00 kB | -0.12 kB | 39.42 kB | 39.29 kB |
| oss-experimental/react-dom/cjs/react-dom.production.min.js | **-0.30 kB** | 128.89 kB | 128.59 kB | -0.12 kB | 41.46 kB | 41.34 kB |
| facebook-www/ReactDOM-prod.classic.js | **-2.00 kB** | 406.62 kB | 404.62 kB | -0.33 kB | 75.37 kB | 75.04 kB |
| facebook-www/ReactDOM-prod.modern.js | **-2.00 kB** | 394.97 kB | 392.97 kB | -0.34 kB | 73.49 kB | 73.15 kB |
| facebook-www/ReactDOMForked-prod.classic.js | **-2.00 kB** | 406.63 kB | 404.63 kB | -0.33 kB | 75.37 kB | 75.04 kB |
| facebook-react-native/react-test-renderer/cjs/ReactTestRenderer-prod.js | **-1.43 kB** | 240.98 kB | 239.55 kB | -0.21 kB | 44.16 kB | 43.95 kB |
| facebook-react-native/react-test-renderer/cjs/ReactTestRenderer-profiling.js | **-1.45 kB** | 253.54 kB | 252.09 kB | -0.21 kB | 46.41 kB | 46.21 kB |
| facebook-www/ReactDOMTesting-prod.classic.js | **-1.45 kB** | 400.60 kB | 399.14 kB | -0.21 kB | 75.62 kB | 75.42 kB |
| facebook-www/ReactDOMTesting-prod.modern.js | **-1.45 kB** | 386.92 kB | 385.47 kB | -0.22 kB | 73.31 kB | 73.09 kB |
| react-native/implementations/ReactFabric-prod.fb.js | **-1.46 kB** | 273.83 kB | 272.36 kB | -0.27 kB | 48.97 kB | 48.70 kB |
| react-native/implementations/ReactFabric-prod.js | **-1.46 kB** | 273.87 kB | 272.41 kB | -0.27 kB | 49.00 kB | 48.73 kB |
| react-native/implementations/ReactFabric-profiling.fb.js | **-1.46 kB** | 286.52 kB | 285.06 kB | -0.25 kB | 51.29 kB | 51.04 kB |
| react-native/implementations/ReactFabric-profiling.js | **-1.46 kB** | 286.57 kB | 285.11 kB | -0.25 kB | 51.31 kB | 51.07 kB |
| react-native/implementations/ReactNativeRenderer-prod.fb.js | **-1.46 kB** | 281.25 kB | 279.79 kB | -0.23 kB | 50.29 kB | 50.06 kB |
| react-native/implementations/ReactNativeRenderer-prod.js | **-1.46 kB** | 281.31 kB | 279.85 kB | -0.23 kB | 50.31 kB | 50.08 kB |
| react-native/implementations/ReactNativeRenderer-profiling.fb.js | **-1.46 kB** | 293.92 kB | 292.45 kB | -0.20 kB | 52.58 kB | 52.38 kB |
| react-native/implementations/ReactNativeRenderer-profiling.js | **-1.46 kB** | 293.98 kB | 292.51 kB | -0.20 kB | 52.61 kB | 52.41 kB |
| facebook-www/ReactART-prod.classic.js | **-1.93 kB** | 261.26 kB | 259.32 kB | -0.29 kB | 46.51 kB | 46.22 kB |
| facebook-www/ReactART-prod.modern.js | **-1.93 kB** | 253.90 kB | 251.97 kB | -0.30 kB | 45.24 kB | 44.94 kB |
| facebook-www/ReactDOM-profiling.classic.js | **-2.00 kB** | 425.48 kB | 423.48 kB | -0.32 kB | 78.65 kB | 78.32 kB |
| facebook-www/ReactDOM-profiling.modern.js | **-2.00 kB** | 413.78 kB | 411.78 kB | -0.32 kB | 76.74 kB | 76.42 kB |
| facebook-www/ReactDOMForked-profiling.classic.js | **-2.00 kB** | 425.49 kB | 423.49 kB | -0.33 kB | 78.65 kB | 78.32 kB |
| facebook-www/ReactDOMForked-profiling.modern.js | **-2.00 kB** | 413.79 kB | 411.79 kB | -0.32 kB | 76.75 kB | 76.42 kB |
| facebook-www/ReactDOMForked-prod.modern.js | **-2.00 kB** | 394.98 kB | 392.98 kB | -0.34 kB | 73.50 kB | 73.15 kB |
| oss-experimental/react-art/cjs/react-art.development.js | **-3.69 kB** | 639.66 kB | 635.97 kB | -0.83 kB | 139.47 kB | 138.64 kB |
| oss-experimental/react-dom/cjs/react-dom.development.js | **-3.69 kB** | 961.22 kB | 957.53 kB | -0.82 kB | 217.65 kB | 216.83 kB |
| oss-experimental/react-reconciler/cjs/react-reconciler.development.js | **-3.69 kB** | 697.82 kB | 694.13 kB | -0.81 kB | 149.42 kB | 148.61 kB |
| oss-experimental/react-test-renderer/cjs/react-test-renderer.development.js | **-3.69 kB** | 624.33 kB | 620.64 kB | -0.81 kB | 136.75 kB | 135.93 kB |
| oss-stable/react-art/cjs/react-art.development.js | **-3.69 kB** | 598.46 kB | 594.77 kB | -0.82 kB | 131.04 kB | 130.22 kB |
| oss-stable/react-dom/cjs/react-dom.development.js | **-3.69 kB** | 909.98 kB | 906.29 kB | -0.81 kB | 207.64 kB | 206.83 kB |
| oss-stable/react-reconciler/cjs/react-reconciler.development.js | **-3.69 kB** | 653.96 kB | 650.27 kB | -0.82 kB | 140.48 kB | 139.67 kB |
| oss-stable/react-test-renderer/cjs/react-test-renderer.development.js | **-3.69 kB** | 608.13 kB | 604.44 kB | -0.81 kB | 133.34 kB | 132.52 kB |
| facebook-react-native/react-test-renderer/cjs/ReactTestRenderer-dev.js | **-3.70 kB** | 619.09 kB | 615.39 kB | -0.84 kB | 134.32 kB | 133.48 kB |
| facebook-www/ReactDOMTesting-dev.classic.js | **-3.70 kB** | 975.40 kB | 971.70 kB | -0.83 kB | 219.12 kB | 218.29 kB |
| facebook-www/ReactDOMTesting-dev.modern.js | **-3.70 kB** | 946.38 kB | 942.68 kB | -0.80 kB | 213.03 kB | 212.23 kB |
| facebook-www/ReactTestRenderer-dev.classic.js | **-3.70 kB** | 631.60 kB | 627.90 kB | -0.82 kB | 135.67 kB | 134.85 kB |
| facebook-www/ReactTestRenderer-dev.modern.js | **-3.70 kB** | 631.61 kB | 627.92 kB | -0.82 kB | 135.68 kB | 134.86 kB |
| react-native/implementations/ReactFabric-dev.fb.js | **-3.70 kB** | 699.45 kB | 695.75 kB | -0.84 kB | 150.75 kB | 149.91 kB |
| react-native/implementations/ReactFabric-dev.js | **-3.70 kB** | 693.93 kB | 690.23 kB | -0.84 kB | 149.90 kB | 149.06 kB |
| react-native/implementations/ReactNativeRenderer-dev.fb.js | **-3.70 kB** | 718.45 kB | 714.75 kB | -0.88 kB | 155.61 kB | 154.73 kB |
| react-native/implementations/ReactNativeRenderer-dev.js | **-3.70 kB** | 712.93 kB | 709.24 kB | -0.85 kB | 154.67 kB | 153.82 kB |
| oss-experimental/react-art/umd/react-art.development.js | **-3.83 kB** | 742.46 kB | 738.63 kB | -0.85 kB | 157.76 kB | 156.90 kB |
| oss-experimental/react-dom/umd/react-dom.development.js | **-3.83 kB** | 1,010.10 kB | 1,006.27 kB | -1.06 kB | 220.58 kB | 219.51 kB |
| oss-experimental/react-test-renderer/umd/react-test-renderer.development.js | **-3.83 kB** | 655.38 kB | 651.54 kB | -0.85 kB | 138.38 kB | 137.53 kB |
| oss-stable/react-art/umd/react-art.development.js | **-3.83 kB** | 699.20 kB | 695.37 kB | -0.84 kB | 149.15 kB | 148.32 kB |
| oss-stable/react-dom/umd/react-dom.development.js | **-3.83 kB** | 956.30 kB | 952.47 kB | -0.84 kB | 210.27 kB | 209.44 kB |
| oss-stable/react-test-renderer/umd/react-test-renderer.development.js | **-3.83 kB** | 638.32 kB | 634.48 kB | -0.88 kB | 134.95 kB | 134.07 kB |
| facebook-www/ReactART-dev.classic.js | **-4.80 kB** | 696.16 kB | 691.36 kB | -1.18 kB | 147.86 kB | 146.69 kB |
| facebook-www/ReactART-dev.modern.js | **-4.80 kB** | 685.90 kB | 681.11 kB | -1.17 kB | 145.78 kB | 144.61 kB |
| facebook-www/ReactDOM-dev.classic.js | **-4.80 kB** | 1,051.84 kB | 1,047.04 kB | -1.21 kB | 232.91 kB | 231.70 kB |
| facebook-www/ReactDOM-dev.modern.js | **-4.80 kB** | 1,025.64 kB | 1,020.84 kB | -1.17 kB | 227.76 kB | 226.59 kB |
| facebook-www/ReactDOMForked-dev.classic.js | **-4.80 kB** | 1,051.84 kB | 1,047.05 kB | -0.93 kB | 232.66 kB | 231.73 kB |
| facebook-www/ReactDOMForked-dev.modern.js | **-4.80 kB** | 1,025.65 kB | 1,020.85 kB | -0.92 kB | 227.51 kB | 226.59 kB |

## Significant size changes

Includes any change greater than =:

(No significant changes)

<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against b2d5521616c82d3498cea4df389e79c70e3521f1
</p>
",2021-02-09T22:02:29Z
776279176,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




Comparing: ad8211d96a7990a91d4f6c9915b8b30566c3c0af...f55f74d4d9684bf603d9cb9f9dbac34699c94549

## Critical size changes

Includes critical production bundles, as well as any change greater than 2%:


  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| oss-stable/react-dom/cjs/react-dom.production.min.js | **=** | 122.48 kB | 122.48 kB | = | 39.45 kB | 39.45 kB
| oss-experimental/react-dom/cjs/react-dom.production.min.js | **=** | 129.06 kB | 129.06 kB | = | 41.50 kB | 41.50 kB
| facebook-www/ReactDOM-prod.classic.js | **=** | 406.84 kB | 406.84 kB | = | 75.42 kB | 75.42 kB
| facebook-www/ReactDOM-prod.modern.js | **=** | 395.19 kB | 395.19 kB | = | 73.54 kB | 73.54 kB
| facebook-www/ReactDOMForked-prod.classic.js | **=** | 406.85 kB | 406.85 kB | = | 75.42 kB | 75.42 kB

## Significant size changes

Includes any change greater than 0.2%:

(No significant changes)

<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against f55f74d4d9684bf603d9cb9f9dbac34699c94549
</p>
",2021-02-09T22:12:19Z
776291625,"Hmm. Will most users run their tests in an environment with `window.event`? What does JSDOM do? How will React Testing Library work?

Maybe we should warn if it's undefined? Though then we need some guidance for fixing it.",2021-02-09T22:37:53Z
776297008,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




Comparing: ad8211d96a7990a91d4f6c9915b8b30566c3c0af...7e5841a9876e23566b00ea5ed892f4841f3b570a

## Critical size changes

Includes critical production bundles, as well as any change greater than 2%:


  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| oss-stable/react-dom/cjs/react-dom.production.min.js | **+0.04%** | 122.48 kB | 122.54 kB | +0.05% | 39.45 kB | 39.47 kB
| oss-experimental/react-dom/cjs/react-dom.production.min.js | **+0.04%** | 129.06 kB | 129.11 kB | +0.03% | 41.50 kB | 41.51 kB
| facebook-www/ReactDOM-prod.classic.js | **=** | 406.84 kB | 406.66 kB | = | 75.42 kB | 75.39 kB
| facebook-www/ReactDOM-prod.modern.js | **=** | 395.19 kB | 395.01 kB | = | 73.54 kB | 73.50 kB
| facebook-www/ReactDOMForked-prod.classic.js | **+0.04%** | 406.85 kB | 407.00 kB | +0.03% | 75.42 kB | 75.44 kB

## Significant size changes

Includes any change greater than 0.2%:

(No significant changes)

<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 7e5841a9876e23566b00ea5ed892f4841f3b570a
</p>
",2021-02-09T22:50:00Z
776297740,Hmm yeah good point. The answer is I have no idea. I'll ask Twitter.,2021-02-09T22:51:43Z
776301876,"Did you mean ""Land"" in the title?",2021-02-09T23:01:40Z
776304879,Ahaha yes,2021-02-09T23:07:42Z
776308176,">Maybe we should warn if it's undefined? 

How would you know you're in an event though?

>What does JSDOM do?

Seems like it doesn't do anything, as it's sort of a legacy property. At least our version doesn't.

>How will React Testing Library work?

I think RTL could do something like this as part of its setup. Or in its `fireEvent` wrapper.",2021-02-09T23:14:11Z
776332247,"Hi @amensum! 

Thank you for your pull request and welcome to our community. 

# Action Required

In order to merge **any pull request** (code, docs, etc.), we **require** contributors to sign our **Contributor License Agreement**, and we don't seem to have one on file for you.

# Process

In order for us to review and merge your suggested changes, please sign at <https://code.facebook.com/cla>. **If you are contributing on behalf of someone else (eg your employer)**, the individual CLA may not be sufficient and your employer may need to sign the corporate CLA.

Once the CLA is signed, our tooling will perform checks and validations. Afterwards, the **pull request will be tagged** with `CLA signed`. The tagging process may take up to 1 hour after signing. Please give it that time before contacting us about it.

If you have received this in error or have any questions, please contact us at [cla@fb.com](mailto:cla@fb.com?subject=CLA%20for%20facebook%2Freact%20%2320780). Thanks!",2021-02-10T00:11:53Z
776341626,Thank you for signing our Contributor License Agreement. We can now accept your code for this (and any) Facebook open source project. Thanks!,2021-02-10T00:30:15Z
776356795,"Potential work around for mobx is to use `<Observer />` component instead of `observer`  hoc, for example your old component:

```
const Component = observer(() => {
    return <div>Hello</div>
})
```

will become like this:

```
const Component = () => {
    return <Observer>{() => (
        <div>Hello</div>
    )}</Observer>
}
```


",2021-02-10T01:08:55Z
776367997,"This is a reasonably common issue, which can be solved by passing your dependency into the dependency array.

In the OP's example it could be solved by passing `setCenterPosition` like this.
In any of your cases, you would pass your dependency in the same place, this is not specific to his question.

![carbon](https://user-images.githubusercontent.com/8227426/107451592-74dee680-6afc-11eb-80ef-3b76f27ffdb5.png)

If this warning is not handled it _can_ cause memory leaks in your application as it can cause infinite loops and re-render issues.

In the case that you want an effect to only be ran once, Chris Coyier has an excellent example [here](https://css-tricks.com/run-useeffect-only-once/)

For more information though, as @gaearon said, it can be found here:
https://reactjs.org/docs/hooks-faq.html#is-it-safe-to-omit-functions-from-the-list-of-dependencies
",2021-02-10T01:37:39Z
776406605,"The React repository does not include anything TypeScript-specific. If this is a bug, it's either in TypeScript itself, or in the React bindings which are maintained in the DefinitelyTyped repository. Please file an issue there. Thanks!",2021-02-10T03:08:12Z
776411433,"Sadly, it doesn't work in my case. I've tried arrow functions, Observer component and HOC: neither of them do the trick, the checkbox stays checked after refresh either way.",2021-02-10T03:23:39Z
776412448,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




Comparing: 3d10eca241be7b51cd4d74cf69eb1f429818b71a...558589252bc177608e8761d0121958c6abc7f81c

## Critical size changes

Includes critical production bundles, as well as any change greater than 2%:


  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| oss-stable/react-dom/cjs/react-dom.production.min.js | **=** | 122.54 kB | 122.54 kB | = | 39.47 kB | 39.47 kB
| oss-experimental/react-dom/cjs/react-dom.production.min.js | **=** | 129.11 kB | 129.11 kB | = | 41.51 kB | 41.51 kB
| facebook-www/ReactDOM-prod.classic.js | **=** | 406.66 kB | 406.66 kB | = | 75.39 kB | 75.39 kB
| facebook-www/ReactDOM-prod.modern.js | **=** | 395.01 kB | 395.01 kB | = | 73.50 kB | 73.50 kB
| facebook-www/ReactDOMForked-prod.classic.js | **=** | 407.00 kB | 406.67 kB | = | 75.44 kB | 75.39 kB

## Significant size changes

Includes any change greater than 0.2%:


<details>
<summary>Expand to show</summary>

  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| oss-experimental/react-noop-renderer/cjs/react-noop-renderer.production.min.js | **+0.99%** | 13.36 kB | 13.49 kB | +0.83% | 4.10 kB | 4.14 kB
| oss-stable/react-noop-renderer/cjs/react-noop-renderer.production.min.js | **+0.99%** | 13.36 kB | 13.49 kB | +0.83% | 4.10 kB | 4.14 kB
| oss-experimental/react-noop-renderer/cjs/react-noop-renderer-persistent.production.min.js | **+0.99%** | 13.37 kB | 13.50 kB | +0.83% | 4.11 kB | 4.14 kB
| oss-stable/react-noop-renderer/cjs/react-noop-renderer-persistent.production.min.js | **+0.99%** | 13.37 kB | 13.50 kB | +0.83% | 4.11 kB | 4.14 kB
| oss-experimental/react-noop-renderer/cjs/react-noop-renderer.development.js | **+0.76%** | 36.50 kB | 36.78 kB | +0.57% | 8.13 kB | 8.18 kB
| oss-stable/react-noop-renderer/cjs/react-noop-renderer.development.js | **+0.76%** | 36.50 kB | 36.78 kB | +0.57% | 8.13 kB | 8.18 kB
| oss-experimental/react-noop-renderer/cjs/react-noop-renderer-persistent.development.js | **+0.76%** | 36.52 kB | 36.79 kB | +0.58% | 8.14 kB | 8.19 kB
| oss-stable/react-noop-renderer/cjs/react-noop-renderer-persistent.development.js | **+0.76%** | 36.52 kB | 36.79 kB | +0.58% | 8.14 kB | 8.19 kB
</details>


<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 558589252bc177608e8761d0121958c6abc7f81c
</p>
",2021-02-10T03:26:25Z
776412511,"Support requests filed as GitHub issues often go unanswered. We want you to find the answer you're looking for, so we suggest the following alternatives:

##### Coding Questions

If you have a coding question related to React and React DOM, it might be better suited for Stack Overflow. It's a great place to browse through frequent questions about using React, as well as ask for help with specific questions.

[https://stackoverflow.com/questions/tagged/react](https://stackoverflow.com/questions/tagged/react)

##### Talk to other React developers

There are many online forums which are a great place for discussion about best practices and application architecture as well as the future of React.

[https://reactjs.org/community/support.html](https://reactjs.org/community/support.html#popular-discussion-forums)",2021-02-10T03:26:37Z
776413683,"This pull request is automatically built and testable in [CodeSandbox](https://codesandbox.io).

  To see build info of the built libraries, click [here](https://ci.codesandbox.io/status/facebook/react/pr/20783/builds/100292) or the icon next to each commit SHA.

Latest deployment of this branch, based on commit 19e2a005fa93963e8d0a277741ad4b067faa0190:

|Sandbox| Source |
|--|--|
|[React](https://codesandbox.io/s/react-d393o)| Configuration |
",2021-02-10T03:30:06Z
776414283,"
<!--
  0 failure: 
  1 warning:  Could not find bu...
  
  1 markdown notices
  DangerID: danger-id-stable;
-->


<table>
  <thead>
    <tr>
      <th width=""50""></th>
      <th width=""100%"" data-danger-table=""true"">Warnings</th>
    </tr>
  </thead>
  <tbody><tr>
      <td>:warning:</td>
      <td>Could not find build artifacts for base commit: 7cb9fd7ef822436aef13c8cbf648af1e21a5309a</td>
    </tr>
  </tbody>
</table>


## Size changes (stable)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 19e2a005fa93963e8d0a277741ad4b067faa0190
</p>
",2021-02-10T03:31:32Z
776414290,"I was trying to understand why it wouldn't work. I realized that it worked a little differently than I thought because we filter out the primitive frame early. Once I included one primitive frame it worked.

It was a little tricky but I think I figured out a way to do it by just comparing previous and next steps: https://github.com/facebook/react/pull/20783

That said, I'm not super happy with the original thing that tries to figure out which are the primitive call frames based on the name. It doesn't work if those names are mangled anyway. Which seems pretty likely at least with ES modules when the original name doesn't need to be preserved like they are on CJS. Any ideas for that?",2021-02-10T03:31:33Z
776414311,"
<!--
  0 failure: 
  1 warning:  Could not find bu...
  
  1 markdown notices
  DangerID: danger-id-experimental;
-->


<table>
  <thead>
    <tr>
      <th width=""50""></th>
      <th width=""100%"" data-danger-table=""true"">Warnings</th>
    </tr>
  </thead>
  <tbody><tr>
      <td>:warning:</td>
      <td>Could not find build artifacts for base commit: 7cb9fd7ef822436aef13c8cbf648af1e21a5309a</td>
    </tr>
  </tbody>
</table>


## Size changes (experimental)
<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 19e2a005fa93963e8d0a277741ad4b067faa0190
</p>
",2021-02-10T03:31:36Z
776416091,"@gaearon This reveals that some of our tests actually do fail as a result of this change, which makes sense, because our mock Scheduler flushing doesn't occur inside a message event.

#20777 would fix it though. Maybe we should go ahead and land that one? And figure out how it affects open source as a follow up.

EDIT: Nvm, I guess #20777 alone would not fix it but if we have the mock Scheduler set `window.event.type === 'message'` then it would.",2021-02-10T03:36:47Z
776417000,"But the better fix is to rewrite our tests to not rely on Scheduler to set the priority, so I'll do that.",2021-02-10T03:39:47Z
776418903,"One approach could be that for each primitive we keep track of the deepest common frames we've ever seen before. So the first time we call a Hook we assume that the entire stack is a primitive. Whenever we see that Hook used in a different context we pop off as many that are not shared. Eventually we only have a list of frames that are always used with that Hook. If different primitives share the same frames, we can also pop those off.

The first time we could run the whole thing twice.

The failure case for this approach would be the first time you inspect a component and it happens to only use one primitive hook in one custom hook.

```
function useCustomHook() {
  useState(...);
}
function Component() {
  useCustomHook();
}
```

This would only show a State hook being used and not the CustomHook part.

That seems like maybe it's ok. Since it would only be the first time. If you ever inspect it again after inspecting something else using that primitive, it would fix itself.",2021-02-10T03:46:48Z
776419075,Nice find! Do you want to submit a PR to fix?,2021-02-10T03:47:32Z
776439810,"I already created PR.
https://github.com/facebook/react/pull/20521",2021-02-10T04:50:11Z
776526794,I would love to help you on fixing this problem.Can you guide me in submitting a fix? I am really new to open source.  @rickhanlonii ,2021-02-10T08:15:10Z
776533130,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




Comparing: 3d10eca241be7b51cd4d74cf69eb1f429818b71a...74e14a61aa729129036e30585d97ff76b12a9f0a

## Critical size changes

Includes critical production bundles, as well as any change greater than 2%:


  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| oss-stable/react-dom/cjs/react-dom.production.min.js | **=** | 122.54 kB | 122.54 kB | = | 39.47 kB | 39.47 kB
| oss-experimental/react-dom/cjs/react-dom.production.min.js | **=** | 129.11 kB | 129.11 kB | = | 41.51 kB | 41.51 kB
| facebook-www/ReactDOM-prod.classic.js | **=** | 406.66 kB | 406.66 kB | = | 75.39 kB | 75.39 kB
| facebook-www/ReactDOM-prod.modern.js | **=** | 395.01 kB | 395.01 kB | = | 73.50 kB | 73.50 kB
| facebook-www/ReactDOMForked-prod.classic.js | **=** | 407.00 kB | 407.00 kB | = | 75.44 kB | 75.44 kB

## Significant size changes

Includes any change greater than 0.2%:

(No significant changes)

<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 74e14a61aa729129036e30585d97ff76b12a9f0a
</p>
",2021-02-10T08:27:15Z
776555018,"@rickhanlonii
Can I take this issue for try to fix it and send PR?",2021-02-10T09:06:05Z
776703480,"Hi @intellild! 

Thank you for your pull request and welcome to our community. 

# Action Required

In order to merge **any pull request** (code, docs, etc.), we **require** contributors to sign our **Contributor License Agreement**, and we don't seem to have one on file for you.

# Process

In order for us to review and merge your suggested changes, please sign at <https://code.facebook.com/cla>. **If you are contributing on behalf of someone else (eg your employer)**, the individual CLA may not be sufficient and your employer may need to sign the corporate CLA.

Once the CLA is signed, our tooling will perform checks and validations. Afterwards, the **pull request will be tagged** with `CLA signed`. The tagging process may take up to 1 hour after signing. Please give it that time before contacting us about it.

If you have received this in error or have any questions, please contact us at [cla@fb.com](mailto:cla@fb.com?subject=CLA%20for%20facebook%2Freact%20%2320786). Thanks!",2021-02-10T13:24:42Z
776709294,"I opened a draft pull request #20786 
Improvements are significant. I use [https://github.com/intellild/react-context-performance](url) for profiling.
This implementation uses a 32bit number as a bitset. If there are more than 32 contexts, it falls back to the current logic.
Choices are:
* Keep the 32bit number, only 32 contexts are optimized
* Implement a Hash Array Mapped Trie style ""HashSet"" which can be highly optimized for this scenario.
* Use bigint
If a HashSet or bigint are used, it is possible to remove the `propagateContextChange`. Instead, we can check contexts while reconciler walking down the tree.

## before
![å±å¹•æˆªå›¾ 2021-02-10 211229](https://user-images.githubusercontent.com/8379858/107516019-c2d01900-6be6-11eb-8a2f-d04314d35667.png) 
## after
![å±å¹•æˆªå›¾ 2021-02-10 211602](https://user-images.githubusercontent.com/8379858/107516026-c5327300-6be6-11eb-8e6d-64823f24b353.png)
",2021-02-10T13:34:57Z
776710425,I noticed that the `bubbleProperties` spent a lot of time on my branch. It seems that I missed something related to bailouts.,2021-02-10T13:36:59Z
776798542,"Issue example:

```js
var { JSDOM } = require('jsdom')

var { window } = new JSDOM()

global.window = window
global.document = window.document

require('scheduler')
```",2021-02-10T15:37:47Z
776871518,"Thanks for the PR! I don't think this approach would work for us because then you have a performance cliff as soon as you have more than 32 contexts. We generally prefer predictable performance over ""fast in some cases"", because otherwise seemingly small changes can have disproportionate impact on the whole application, and it becomes very difficult to debug perf problems.",2021-02-10T17:14:57Z
776882021,"Hey all, anyone can take this issue, I'll review the first PR.

The problem is that [this feature detection](https://github.com/facebook/react/blob/454c2211c09bfa2fd5475c25665f3bbeb6882841/packages/scheduler/npm/index.js#L3) is too naive. In node environments, we should use `unstable_no_dom` and in browser environments we should use the browser scheduler. ",2021-02-10T17:30:22Z
776973145,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




Comparing: 4d28eca97e469ae6515fa369ed380e3c82fb7acc...86ed0cd1d10438143328a4127d6365cbb96f6cd8

## Critical size changes

Includes critical production bundles, as well as any change greater than 2%:


  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| oss-stable/react-dom/cjs/react-dom.production.min.js | **=** | 122.36 kB | 122.36 kB | = | 39.41 kB | 39.41 kB
| oss-experimental/react-dom/cjs/react-dom.production.min.js | **=** | 128.94 kB | 128.94 kB | = | 41.47 kB | 41.47 kB
| facebook-www/ReactDOM-prod.classic.js | **=** | 404.67 kB | 404.67 kB | = | 75.15 kB | 75.15 kB
| facebook-www/ReactDOM-prod.modern.js | **=** | 393.02 kB | 393.02 kB | = | 73.24 kB | 73.24 kB
| facebook-www/ReactDOMForked-prod.classic.js | **=** | 404.68 kB | 404.68 kB | = | 75.15 kB | 75.15 kB

## Significant size changes

Includes any change greater than 0.2%:

(No significant changes)

<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 86ed0cd1d10438143328a4127d6365cbb96f6cd8
</p>
",2021-02-10T19:52:46Z
776994276,"> I don't think this would work as we want. E.g. it would probably detect React Native as ""DOM"". While a webpack config that has a `process` shim would be detected as ""no DOM"".

I got it, i will change it",2021-02-10T20:13:57Z
776994324,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




Comparing: 3d10eca241be7b51cd4d74cf69eb1f429818b71a...cda9108590c15e537862e8b1d4b09953ac37e689

## Critical size changes

Includes critical production bundles, as well as any change greater than 2%:


  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| oss-stable/react-dom/cjs/react-dom.production.min.js | **=** | 122.54 kB | 122.54 kB | = | 39.47 kB | 39.46 kB
| oss-experimental/react-dom/cjs/react-dom.production.min.js | **=** | 129.11 kB | 129.11 kB | = | 41.51 kB | 41.51 kB
| facebook-www/ReactDOM-prod.classic.js | **=** | 406.66 kB | 406.66 kB | = | 75.39 kB | 75.39 kB
| facebook-www/ReactDOM-prod.modern.js | **=** | 395.01 kB | 395.01 kB | = | 73.50 kB | 73.50 kB
| facebook-www/ReactDOMForked-prod.classic.js | **=** | 407.00 kB | 407.00 kB | = | 75.44 kB | 75.44 kB
| oss-experimental/scheduler/index.js | **+126.89%** | 0.33 kB | 0.75 kB | +84.39% | 0.21 kB | 0.38 kB
| oss-stable/scheduler/index.js | **+126.89%** | 0.33 kB | 0.75 kB | +84.39% | 0.21 kB | 0.38 kB

## Significant size changes

Includes any change greater than 0.2%:


<details>
<summary>Expand to show</summary>

  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| oss-experimental/scheduler/index.js | **+126.89%** | 0.33 kB | 0.75 kB | +84.39% | 0.21 kB | 0.38 kB
| oss-stable/scheduler/index.js | **+126.89%** | 0.33 kB | 0.75 kB | +84.39% | 0.21 kB | 0.38 kB
</details>


<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against cda9108590c15e537862e8b1d4b09953ac37e689
</p>
",2021-02-10T20:14:03Z
777034599,"@kelly-tock just found it today, these nodes number comes back after few rerenderes but still very tricky thing",2021-02-10T21:04:15Z
777048182,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




Comparing: eee874ce6efed53a02f875385b23a53e10dc2c4e...f9c52bd9fc14b7672c74fa30a4fff7b6b91f9a1c

## Critical size changes

Includes critical production bundles, as well as any change greater than 2%:


  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| oss-stable/react-dom/cjs/react-dom.production.min.js | **+0.06%** | 122.22 kB | 122.30 kB | +0.11% | 39.36 kB | 39.41 kB
| oss-experimental/react-dom/cjs/react-dom.production.min.js | **+0.06%** | 128.81 kB | 128.89 kB | +0.13% | 41.39 kB | 41.44 kB
| facebook-www/ReactDOM-prod.classic.js | **=** | 404.97 kB | 404.76 kB | +0.04% | 75.14 kB | 75.17 kB
| facebook-www/ReactDOM-prod.modern.js | **=** | 393.32 kB | 393.11 kB | +0.05% | 73.23 kB | 73.27 kB
| facebook-www/ReactDOMForked-prod.classic.js | **=** | 404.98 kB | 404.77 kB | +0.04% | 75.14 kB | 75.17 kB

## Significant size changes

Includes any change greater than 0.2%:

(No significant changes)

<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against f9c52bd9fc14b7672c74fa30a4fff7b6b91f9a1c
</p>
",2021-02-10T21:28:38Z
777051531,"I eventually found it via heap snapshots, so my case was not react related.",2021-02-10T21:34:18Z
777069607,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




Comparing: d3d2451a08c9afcc561f66383211ce2274d864e6...63a634415a33ad06a51f8d1ade8237f3ff95b559

## Critical size changes

Includes critical production bundles, as well as any change greater than 2%:


  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| oss-stable/react-dom/cjs/react-dom.production.min.js | **+0.04%** | 122.30 kB | 122.36 kB | +0.05% | 39.41 kB | 39.43 kB
| oss-experimental/react-dom/cjs/react-dom.production.min.js | **+0.04%** | 128.89 kB | 128.94 kB | +0.04% | 41.44 kB | 41.46 kB
| facebook-www/ReactDOM-prod.classic.js | **+0.02%** | 404.76 kB | 404.83 kB | +0.03% | 75.17 kB | 75.20 kB
| facebook-www/ReactDOM-prod.modern.js | **+0.02%** | 393.11 kB | 393.18 kB | +0.03% | 73.27 kB | 73.29 kB
| facebook-www/ReactDOMForked-prod.classic.js | **+0.02%** | 404.77 kB | 404.84 kB | +0.03% | 75.17 kB | 75.20 kB

## Significant size changes

Includes any change greater than 0.2%:

(No significant changes)

<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 63a634415a33ad06a51f8d1ade8237f3ff95b559
</p>
",2021-02-10T22:10:07Z
777077756,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




Comparing: eee874ce6efed53a02f875385b23a53e10dc2c4e...32f44b9b071796d368b7299a32e3c885cda51db2

## Critical size changes

Includes critical production bundles, as well as any change greater than 2%:


  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| oss-stable/react-dom/cjs/react-dom.production.min.js | **=** | 122.22 kB | 122.22 kB | = | 39.36 kB | 39.36 kB
| oss-experimental/react-dom/cjs/react-dom.production.min.js | **=** | 128.81 kB | 128.81 kB | = | 41.39 kB | 41.39 kB
| facebook-www/ReactDOM-prod.classic.js | **=** | 404.97 kB | 404.97 kB | = | 75.14 kB | 75.14 kB
| facebook-www/ReactDOM-prod.modern.js | **=** | 393.32 kB | 393.32 kB | = | 73.23 kB | 73.24 kB
| facebook-www/ReactDOMForked-prod.classic.js | **=** | 404.98 kB | 404.98 kB | = | 75.14 kB | 75.14 kB

## Significant size changes

Includes any change greater than 0.2%:

(No significant changes)

<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 32f44b9b071796d368b7299a32e3c885cda51db2
</p>
",2021-02-10T22:27:18Z
777085432,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




Comparing: 9e9be6c6b34452a327d5f34d3120f4c93edcfcd9...f7d9a5cf475efc393b927fdd5c966010fea5dea8

## Critical size changes

Includes critical production bundles, as well as any change greater than 2%:


  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| oss-stable/react-dom/cjs/react-dom.production.min.js | **=** | 122.22 kB | 122.22 kB | = | 39.36 kB | 39.36 kB
| oss-experimental/react-dom/cjs/react-dom.production.min.js | **=** | 128.81 kB | 128.81 kB | = | 41.39 kB | 41.39 kB
| facebook-www/ReactDOM-prod.classic.js | **=** | 404.97 kB | 404.97 kB | = | 75.14 kB | 75.14 kB
| facebook-www/ReactDOM-prod.modern.js | **=** | 393.32 kB | 393.32 kB | = | 73.23 kB | 73.23 kB
| facebook-www/ReactDOMForked-prod.classic.js | **=** | 404.98 kB | 404.98 kB | = | 75.14 kB | 75.14 kB

## Significant size changes

Includes any change greater than 0.2%:

(No significant changes)

<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against f7d9a5cf475efc393b927fdd5c966010fea5dea8
</p>
",2021-02-10T22:44:16Z
777097530,"Hi @nikhilsmehta! 

Thank you for your pull request and welcome to our community. 

# Action Required

In order to merge **any pull request** (code, docs, etc.), we **require** contributors to sign our **Contributor License Agreement**, and we don't seem to have one on file for you.

# Process

In order for us to review and merge your suggested changes, please sign at <https://code.facebook.com/cla>. **If you are contributing on behalf of someone else (eg your employer)**, the individual CLA may not be sufficient and your employer may need to sign the corporate CLA.

Once the CLA is signed, our tooling will perform checks and validations. Afterwards, the **pull request will be tagged** with `CLA signed`. The tagging process may take up to 1 hour after signing. Please give it that time before contacting us about it.

If you have received this in error or have any questions, please contact us at [cla@fb.com](mailto:cla@fb.com?subject=CLA%20for%20facebook%2Freact%20%2320796). Thanks!",2021-02-10T23:08:57Z
777099977,"
<!--
  0 failure: 
  0 warning: 
  
  1 markdown notices
  DangerID: danger-id-stable;
-->




Comparing: eee874ce6efed53a02f875385b23a53e10dc2c4e...16093d158cd74c3e8396bd2a9957b6d5f0d9703e

## Critical size changes

Includes critical production bundles, as well as any change greater than 2%:


  | Name | +/- | Base | Current | +/- gzip | Base gzip | Current gzip |
  | ---- | --- | ---- | ------- | -------- | --------- | ------------ |
| oss-stable/react-dom/cjs/react-dom.production.min.js | **=** | 122.22 kB | 122.22 kB | = | 39.36 kB | 39.36 kB
| oss-experimental/react-dom/cjs/react-dom.production.min.js | **=** | 128.81 kB | 128.81 kB | = | 41.39 kB | 41.39 kB
| facebook-www/ReactDOM-prod.classic.js | **=** | 404.97 kB | 404.97 kB | = | 75.14 kB | 75.14 kB
| facebook-www/ReactDOM-prod.modern.js | **=** | 393.32 kB | 393.32 kB | = | 73.23 kB | 73.24 kB
| facebook-www/ReactDOMForked-prod.classic.js | **=** | 404.98 kB | 404.98 kB | = | 75.14 kB | 75.14 kB

## Significant size changes

Includes any change greater than 0.2%:

(No significant changes)

<p align=""right"">
  Generated by :no_entry_sign: <a href=""https://danger.systems/js"">dangerJS</a> against 16093d158cd74c3e8396bd2a9957b6d5f0d9703e
</p>
",2021-02-10T23:14:18Z
777101672,"This does not appear reproducible in a sandbox using the build from https://github.com/facebook/react/pull/20792. That PR enables some flags that aren't enabled yet, but will be closer to the release. Essentially, they make discrete events (including focus/blur) flush in a microtask.

https://codesandbox.io/s/samc-focus-demo-forked-zlfbm?file=/package.json

I think we can close this since it's not directly actionable, but it will take some time before this behavior gets to an `experimental` build because we need to do more testing. Thanks for raising this!",2021-02-10T23:18:16Z
777102210,">In short: Duplicate of #19400

I don't think this was correct. I believe #19400 is specific to Concurrent Mode (and the fix there is unrelated to normal 16).",2021-02-10T23:19:39Z
777102897,Want to try rebasing? I think this is fixed because discrete events are now flushed early. The fix is under the `enableDiscreteEventMicroTasks` flag.,2021-02-10T23:21:26Z
777105430,"This appears to be fixed with some flags we're planning to enable. Here's the sandbox demonstrating it (**note it's built from https://github.com/facebook/react/pull/20792 rather than `experimental` because those flags aren't yet enabled in an `experimental` npm release**).

https://codesandbox.io/s/samc-focus-demo-forked-7mbkl?file=/src/App.js

CM version looks fixed.

There's still an issue with the Blocking Mode version, but we'll be addressing it separately in a different way.",2021-02-10T23:28:07Z
777106665,"Here's the reduced sandbox, also fixed when the same flags are enabled.

https://codesandbox.io/s/samc-focus-demo-forked-8znoo?file=/src/App.js",2021-02-10T23:31:11Z
762523813,"@rickhanlonii Author of Hookstate is here. Hookstate uses two React hooks underneath useState and useEffect. There is no other special magic except specially maintained hash map to efficiently identify and notify (via a call to setState coming from React.useState) components affected by state change. This hash map gives React extraordinary performance boost, which you may not be seen before; see this demo of 10000 cells table state re-rending update to 1 cell every single millisecond - https://hookstate.js.org/docs/performance-frequent-updates. 

In relation to the reported bug. I disagree it was closed. And I am reopening it for the following reasons:

1. The bug happens with ONLY vanilla react hooks as Hookstate uses only vanilla react and 2 vanilla react hooks.
2. If you do not like the fact that there is a dependency to Hookstate, then copy index.ts from Hookstate to your project and use this instead of the Hookstate lib, and it will cause the crash in development tools. Would you like me to create such a reproducer repo for you?
3. Also, aren't you concerned that the crash stack trace points to the react dev tools code? I would thought that the code should be robust to the input it receives from various apps.
4. Moreover, the bug is reproducible if you simply add `React.useState(0)` - vanilla react hook - line to the sample React app: https://github.com/avkonst/hookstate/tree/master/docs/demos/todolist
![image](https://user-images.githubusercontent.com/3971413/104972656-3ef79680-5a57-11eb-8f06-7d8783e05914.png)
Otherwise it works fine. Should you be concerned that the addition of `React.useState(0)` is a part of the cause of the bug?
",2021-01-19T00:12:20Z
762524088,It seems like I do not have permissions to reopen it. Could you please reopen it?,2021-01-19T00:13:39Z
762533163,"Does using **useMemo** on _blockA_ and _blockB_ child components from the first example, prevent its rerender?",2021-01-19T00:47:03Z
762550193,"Concise version of this bug is opened: https://github.com/facebook/react/issues/20613
",2021-01-19T01:52:01Z
762550726,"@avkonst thanks for the detailed information, I'll reply on the new issue.",2021-01-19T01:54:05Z
762551561,"@avkonst thanks for submitting, continuing the discussion from https://github.com/facebook/react/issues/20609.

It's very common for stack traces to point to React internals where the issue is sourced in user code. Since you're the expert of the way your library works, can you strip down the example to use vanilla React?",2021-01-19T01:57:15Z
762554475,"> Does using **useMemo** on _blockA_ and _blockB_ child components from the first example, prevent its rerender?

No. That memoizes the JSX and can have a similar effect to `memo`. But it doesn't provide any sort of unique ID to the tree and React will not move the tree when it changes parents.",2021-01-19T02:08:00Z
762555210,"Have you seen the code in the demo repo? I stripped down the example to just that:
```tsx
export function useState() {
    React.useState(0);
    React.useEffect(() => {
        return () => {}
    });
}
```
This is vanilla react, there is nothing left from Hookstate really. And this hook causes the crash if used twice in a component. I can not make it smaller than this. Is it good enough?",2021-01-19T02:10:50Z
762556457,"Here is the complete reproducer in 16 lines of vanilla react code:

```tsx
import React from 'react';

function useState() {
    React.useState(0);
    React.useEffect(() => () => {});
}

function Counter() {
	useState();
	React.useState(0);
	return <div>Open React Dev Tools Components panel,
		click on Counter component and
		observe the crash in the logging console.</div>;
}

export default Counter;
```",2021-01-19T02:15:33Z
762558174,I have updated the original description too. There is nothing left from Hookstate in the above 16 lines of vanilla react code.,2021-01-19T02:20:25Z
